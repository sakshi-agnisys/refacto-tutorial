

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Functional Safety</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Advanced Topics">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Functional Safety">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Functional Safety" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="FunctionalSafety"
		  data-hnd-context="249"
		  data-hnd-title="Functional Safety"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="AdvancedTopics.html">Advanced Topics</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="AdvancedTopics.html" title="Advanced Topics" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="UnalignedErrors.html" title="Unaligned Errors" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="ClockEnable.html" title="Clock Enable" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Functional Safety</h2>

            <div class="main-content">
                
<p class="rvps2"><span class="rvts14">IDS tool provides the functional safety capability by the following features:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><a class="rvts23" href="FunctionalSafety.html#CRC">CRC</a><span class="rvts14">,&nbsp;</span></li>
 <li class="rvps2 noindent"><a class="rvts23" href="FunctionalSafety.html#PARITY%20%E2%80%93%20">Parity</a><span class="rvts14">,&nbsp;</span></li>
 <li class="rvps2 noindent"><a class="rvts23" href="FunctionalSafety.html#sniffing_engine">Sniffing Engine</a><span class="rvts14">, and&nbsp;</span></li>
 <li class="rvps2 noindent"><a class="rvts23" href="FunctionalSafety.html#SECDED">SECDED</a></li>
</ul>
<p class="rvps2"><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION"><br/></a></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="CRC and parity"></a><span class="rvts16">CRC</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps126"><span class="rvts14">CRC acts on a piece of data which is calculated at the time of transmission (write transaction) and checked at the receiver time (read transaction). A CRC Generator divides the data by a polynomial given by the user and the remainder of the division is called the CRC checksum, which is appended to the data.</span></p>
<p class="rvps126"><span class="rvts14">The CRC Checker divides the data (data along with CRC checksum) by the same polynomial. If the result is </span><span class="rvts34">same as checksum of CRC Generator</span><span class="rvts14">, then the received data has no error and if the result is not </span><span class="rvts34">same as checksum of CRC Generator</span><span class="rvts14">, then an error occurred in the data.</span></p>
<p class="rvps126"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="CRC"></a><span class="rvts15">CRC in IDS</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">There are currently wo ways to create CRC in IDS:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps126"><span class="rvts14">1) {crc= polynomial}</span></p>
<p class="rvps126"><span class="rvts14">Polynomial - will represent the CRC polynomial in form of bits. The whole register will be treated as the data (message bits). CRC checksum will be stored internally in the RTL</span></p>
<p class="rvps126"><span class="rvts14">2) {crc = polynomial, CRC sum field, CRC data field}</span></p>
<p class="rvps126"><span class="rvts14">Polynomial&nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">- will represent the CRC polynomial in form of bits.&nbsp;</span></p>
<p class="rvps126"><span class="rvts14">CRC sum field &nbsp;&nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">- It will represent the CRC field bits after the calculation.&nbsp;</span></p>
<p class="rvps126"><span class="rvts14">Data field&nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">- this will represent the message field bits.</span></p>
<p class="rvps126"><span class="rvts14">When an error occurs in the read transaction, it can be stored in the Signal with the following property:</span></p>
<p class="rvps131"><span class="rvts14">{crc_error = Signal}</span></p>
<p class="rvps126"><span class="rvts14">This property implies that a checker has been created. If crc_error property is not specified, then the checker is not created.</span></p>
<p class="rvps131"><span class="rvts14">{crc_seed = seed value}</span></p>
<p class="rvps126"><span class="rvts14">seed values - this will represent the initial value of checksum.</span></p>
<p class="rvps2"><span class="rvts14">Note: These properties can be added at the block/register level</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">Example: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/crc/crc.zip">IDS-NG</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/crc/crc.docx">IDS-Word</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/crc/crc.xlsx">IDS-Excel</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/crc/crc.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 620px; height : 307px; padding : 1px;" src="lib/NewItem%2043.png"></p>
<p class="rvps143"><span class="rvts740"><br/></span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 580px; height : 217px; padding : 1px;" src="lib/NewItem%2044.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts740">property crc { type = string ; component = addrmap ;};</span></p>
<p class="rvps2"><span class="rvts740">property crc_error {type = string; component = addrmap;};</span></p>
<p class="rvps2"><span class="rvts740">property crc_seed {type = string; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts740">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts740">addrmap Block1{</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;signal {direction = "out"; }S1;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; crc = "1011010,31:26,25:0";</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; crc_error = "S1";</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; crc_seed = "110111";</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; reg Reg1 {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F1[31:0] = 32'h2;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; Reg1 Reg1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts740">};</span></p>
<p class="rvps2"><span class="rvts740"><br/></span></p>
<ol style="text-indent: 24px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li value="1" class="rvps504 noindent"><span class="rvts14">Here the polynomial is x6+x4+x3+x</span></li>
 <li value="2" class="rvps504 noindent"><span class="rvts14">Data is 25:0 bits</span></li>
 <li class="rvps504 noindent"><span class="rvts14">CRC is stored in bits 31:26 of all the register inside the block</span></li>
 <li class="rvps504 noindent"><span class="rvts14">The error bit will be Signal S1</span></li>
 <li value="5" class="rvps504 noindent"><span class="rvts14">The default value of polynomial is 110111&nbsp;</span></li>
</ol>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">Here, in this example -</span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<ol style="text-indent: 24px; padding: 0; margin: 0 0 0 24px; list-style-position: outside;">
 <li value="1" class="rvps504 noindent"><span class="rvts14">The polynomial is same as previous example</span></li>
 <li value="2" class="rvps504 noindent"><span class="rvts14">Data is 31:0 bits</span></li>
 <li value="3" class="rvps504 noindent"><span class="rvts14">CRC is stored in internal reg.</span></li>
 <li value="4" class="rvps504 noindent"><span class="rvts14">Note that the CRC bits are not shown in the register template</span></li>
 <li value="5" class="rvps504 noindent"><span class="rvts14">The error bit will be Signal S1</span></li>
 <li value="6" class="rvps504 noindent"><span class="rvts14">The default value of the polynomial will be 110111</span></li>
</ol>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated Verilog Code:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp;// PARAMETERS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter polynomial_width = 7;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// REGISTER &nbsp;: REG1 SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg &nbsp;[5 : 0] reggroup1_reg1_crc_code;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg &nbsp;reggroup1_reg1_crc_error;</span></p>
<p class="rvps2"><span class="rvts356">wire [6 : 0] crc_poly_reggroup1_reg1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg [5 : 0] crc_checksum_reggroup1_reg1 = 6'b001100;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign crc_poly_reggroup1_reg1 = 7'b0101111;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">//----------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // FIELD &nbsp;: F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // HW ACCESS &nbsp;: RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // SW ACCESS &nbsp;: RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;OFFSET : 0</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //-----------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; /*DESCRIPTION &nbsp; &nbsp;: NA</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; */</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_F1_q &lt;= 32'd0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (reggroup1_reg1_F1_in_enb)</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> //F1 : HW Write</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_F1_q[25:0] &lt;= reggroup1_reg1_F1_in[25:0];</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_F1_q[31:26] &lt;= crc_implementation(crc_poly_reggroup1_reg1,{reggroup1_reg1_F1_in[25:0]},crc_checksum_reggroup1_reg1);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reggroup1_reg1_wr_valid)</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> //F1 : SW Write</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_F1_q[25:0] &lt;= (wr_data[25:0] &amp; reg_enb [25:0]) | (reggroup1_reg1_F1_q[25:0] &amp; (~reg_enb [25:0]));</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_F1_q[31:26] &lt;= crc_implementation(crc_poly_reggroup1_reg1,{(wr_data[25:0] &amp; reg_enb[25:0])},crc_checksum_reggroup1_reg1);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end //end always</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// CRC LOGIC FOR REG</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_crc_code &lt;= 6'd0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_crc_error &lt;= 1'd0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if(reggroup1_reg1_F1_in_enb)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_crc_code &nbsp;&lt;= crc_implementation(crc_poly_reggroup1_reg1,{reggroup1_reg1_F1_in[25:0]},crc_checksum_reggroup1_reg1);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(reggroup1_reg1_wr_valid)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_crc_code &nbsp;&lt;= crc_implementation(crc_poly_reggroup1_reg1,{(wr_data[25:0] &amp; reg_enb[25:0])},crc_checksum_reggroup1_reg1);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(reggroup1_reg1_rd_valid)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reggroup1_reg1_crc_error &nbsp;&lt;= (crc_implementation(crc_poly_reggroup1_reg1,{reggroup1_reg1_F1_q[25:0]},reggroup1_reg1_crc_code) != crc_checksum_reggroup1_reg1) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">end //always clk</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">assign S1 = reggroup1_reg1_crc_error;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><a name="Generated_vhdl_84_crc"></a><span class="rvts15">Generated VHDL Code:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp;……………………..</span></p>
<p class="rvps2"><span class="rvts356">……………………..</span></p>
<p class="rvps2"><span class="rvts356">……………………..</span></p>
<p class="rvps2"><span class="rvts356">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">-- &nbsp;BEGIN : PACKAGE - BLOCK1_PKG</span></p>
<p class="rvps2"><span class="rvts356">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">package Block1_pkg is</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; constant C_APB_ADDR_WIDTH : positive := 2; &nbsp;-- Address width</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; constant C_APB_BUS_WIDTH : positive := 32; &nbsp;-- Bus width</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; constant C_Block1_offset : unsigned &nbsp;(63 downto 0) := "0000000000000000000000000000000000000000000000000000000000000000"; &nbsp;-- block offset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">constant C_CRC_POLY : std_logic_vector (6 downto 0) := "1011010"; &nbsp;-- crc Polynomial</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; constant C_CRC_CHECKSUM : std_logic_vector (5 downto 0) := "110111"; &nbsp;-- crc Checksum</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- Register fields default value</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; constant default_Reg1_F1 : std_logic_vector (31 downto 0) := "00000000000000000000000000000010";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; constant offset_Reg1 : unsigned &nbsp;(63 downto 0) := C_Block1_offset + "0"; &nbsp;-- offset value</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;-- : Reg1 &nbsp;Register</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal decode_Reg1 &nbsp;: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- decode signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal rd_data_Reg1 : &nbsp;std_logic_vector (G_APB_BUS_WIDTH - 1 downto 0); -- &nbsp;Read data signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal rd_valid_Reg1 &nbsp; &nbsp; &nbsp; &nbsp;: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;Read valid signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal wr_valid_Reg1 &nbsp; &nbsp; &nbsp; &nbsp;: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;Write valid signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal q_Reg1_F1 &nbsp; &nbsp;: &nbsp;std_logic_vector (31 downto 0); -- FIELD : F1 signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">signal crc_code_Reg1 &nbsp; &nbsp; &nbsp; &nbsp;: &nbsp;std_logic_vector (5 downto 0); -- REG1 CRC CODE</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; signal crc_error_Reg1 &nbsp; &nbsp; &nbsp; : &nbsp;std_logic; &nbsp; &nbsp; -- REG1 CRC ERROR</span></p>
<p class="rvps2"><span class="rvts356">………………………</span></p>
<p class="rvps2"><span class="rvts356">………………………</span></p>
<p class="rvps2"><span class="rvts356">………………………</span></p>
<p class="rvps2"><span class="rvts356">………………………</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- Checksum computation function</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">function crc_implementation (</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crc_poly : in std_logic_vector;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; data &nbsp; &nbsp; : in std_logic_vector;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; checksum : in std_logic_vector</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; ) return std_logic_vector is</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_data &nbsp; &nbsp; : std_logic_vector(data'length + crc_poly'length - 2 downto 0);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_crc_poly : std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable crc_out &nbsp; &nbsp; &nbsp; : std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_crc_out &nbsp;: std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_data(data'length + crc_poly'length - 2 downto crc_poly'length - 1) := data;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_data(crc_poly'length - 2 downto 0) := checksum;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_crc_poly := crc_poly;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crc_out &nbsp; &nbsp; &nbsp; := temp_data(data'length + crc_poly'length - 2 downto data'length - 1);</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; for i in data'length - 1 downto 0 loop</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if crc_out(crc_poly'high) = '1' then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out := crc_out xor temp_crc_poly;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_crc_out := crc_out;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(crc_poly'high downto 1) := temp_crc_out(crc_poly'high - 1 downto 0);</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if i = 0 then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(0) := '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(0) := temp_data(i - 1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end loop;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; return crc_out(crc_poly'high downto 1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; end function;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">signals_out.S1 &nbsp;&lt;= crc_error_Reg1</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;----------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- FIELD : F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- HW ACCESS &nbsp;: &nbsp;rw &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH &nbsp;: &nbsp;31</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- SW ACCESS &nbsp;: &nbsp;rw</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -----------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- DESCRIPTION &nbsp; :</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; --</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1 : &nbsp;process (clk)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &nbsp;rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1 &nbsp; &lt;= default_Reg1_F1;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1_F1 = '1') &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp;-- &nbsp;HW write</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">q_Reg1_F1(25 downto 0) &nbsp;&lt;= reg_in.Reg1_F1(25 downto 0);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1(31 downto 26) &lt;= crc_implementation(C_CRC_POLY, reg_in.Reg1_F1(25 downto 0), C_CRC_CHECKSUM);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (wr_valid_Reg1 = '1') then &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;SW Write</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">q_Reg1_F1(25 downto 0) &nbsp; &nbsp; &nbsp;&lt;= ( wr_data(25 downto 0) and reg_enb(25 downto 0) ) or ( q_Reg1_F1(25 downto 0) and (not(reg_enb(25 downto 0))) );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1(31 downto 26) &nbsp; &nbsp; &lt;= crc_implementation(C_CRC_POLY, wr_data(25 downto 0) and reg_enb(25 downto 0), C_CRC_CHECKSUM);</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;-- reset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;-- clock edge</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end process Reg1_F1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- End REG1_F1 process</span></p>
<p class="rvps2"><span class="rvts356">……………………</span></p>
<p class="rvps2"><span class="rvts356">……………………</span></p>
<p class="rvps2"><span class="rvts356">……………………</span></p>
<p class="rvps2"><span class="rvts356">……………………</span></p>
<p class="rvps2"><span class="rvts356">……………………</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; </span><span class="rvts385">-- CRC logic for REG1</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crcLogic_Reg1 : process(clk)</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &nbsp; &nbsp; &lt;= (others =&gt; '0');</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reg_in_enb.Reg1_F1 = '1' then &nbsp;-- HW Write</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &lt;= crc_implementation(C_CRC_POLY, reg_in.Reg1_F1(25 downto 0), C_CRC_CHECKSUM);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif wr_valid_Reg1 = '1' then &nbsp; &nbsp;-- SW Write</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &lt;= crc_implementation(C_CRC_POLY, wr_data(25 downto 0) and reg_enb(25 downto 0), C_CRC_CHECKSUM);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif rd_valid_Reg1 = '1' then &nbsp; -- Verify Checksum</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (crc_implementation(C_CRC_POLY, q_Reg1_F1(25 downto 0), crc_code_Reg1(5 downto 0)) /= C_CRC_CHECKSUM) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '1';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; &nbsp;-- crc checksum/error assignment</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end process crcLogic_Reg1;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts15">Register Level Example:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts1201">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts348"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 642px; height : 316px; padding : 1px;" src="lib/NewItem%2036.png"></p>
<p class="rvps2"><span class="rvts1201"><br/></span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts1201">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts1201"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 715px; height : 203px; padding : 1px;" src="lib/NewItem%2037.png"></p>
<p class="rvps2"><span class="rvts1201"><br/></span></p>
<p class="rvps2"><span class="rvts1201">SystemRDL Input</span></p>
<p class="rvps2"><span class="rvts1201"><br/></span></p>
<p class="rvps2"><span class="rvts697">property crc { type = string ; component = addrmap | reg ;};</span></p>
<p class="rvps2"><span class="rvts697">property crc_error {type = string; component = addrmap | reg;};</span></p>
<p class="rvps2"><span class="rvts697">property crc_seed {type = string; component = addrmap | reg; };</span></p>
<p class="rvps2"><span class="rvts697">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts697">addrmap Block1{</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp;signal {direction = "out"; }S1;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp;reg Reg1 {</span></p>
<p class="rvps2"><span class="rvts697">&nbsp;&nbsp;</span><span class="rvts697"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts697">crc = "1011010,31:26,25:0";</span></p>
<p class="rvps2"><span class="rvts697">&nbsp;&nbsp;</span><span class="rvts697"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts697">crc_error = "S1";</span></p>
<p class="rvps2"><span class="rvts697">&nbsp;&nbsp;</span><span class="rvts697"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts697">crc_seed = "110111";</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; }F1[31:0] = 32'h2;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; Reg1 Reg1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts697">};</span></p>
<p class="rvps2"><span class="rvts697"><br/></span></p>
<p class="rvps2"><a name="VHDL_86_CRC_REG"></a><span class="rvts1201">Generated VHDL Output:</span></p>
<p class="rvps2"><span class="rvts1201"><br/></span></p>
<p class="rvps2"><span class="rvts697">...</span></p>
<p class="rvps2"><span class="rvts697">...</span></p>
<p class="rvps2"><span class="rvts385">constant crc_poly_Reg1 : std_logic_vector (6 downto 0) := "1011010"; &nbsp;-- crc Polynomial</span></p>
<p class="rvps2"><span class="rvts385">constant crc_checksum_Reg1 : std_logic_vector (5 downto 0) := "110111"; &nbsp;-- crc Checksum</span></p>
<p class="rvps2"><span class="rvts697">...</span></p>
<p class="rvps2"><span class="rvts697">...</span></p>
<p class="rvps2"><span class="rvts385">&nbsp;signal crc_code_Reg1 &nbsp; &nbsp; &nbsp; &nbsp;: &nbsp;std_logic_vector (5 downto 0); -- REG1 CRC CODE</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; signal crc_error_Reg1 &nbsp; &nbsp; &nbsp; : &nbsp;std_logic; &nbsp; &nbsp; -- REG1 CRC ERROR</span></p>
<p class="rvps2"><span class="rvts697"><br/></span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; signal ext_out_d &nbsp; &nbsp;: Block1_ext_outrec; &nbsp; &nbsp; -- External out signal</span></p>
<p class="rvps2"><span class="rvts697"><br/></span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; -- Checksum computation function</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; function crc_implementation (</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crc_poly : in std_logic_vector;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; data &nbsp; &nbsp; : in std_logic_vector;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; checksum : in std_logic_vector</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; ) return std_logic_vector is</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_data &nbsp; &nbsp; : std_logic_vector(data'length + crc_poly'length - 2 downto 0);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_crc_poly : std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable crc_out &nbsp; &nbsp; &nbsp; : std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; variable temp_crc_out &nbsp;: std_logic_vector(crc_poly'range);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_data(data'length + crc_poly'length - 2 downto crc_poly'length - 1) := data;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_data(crc_poly'length - 2 downto 0) := checksum;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; temp_crc_poly := crc_poly;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crc_out &nbsp; &nbsp; &nbsp; := temp_data(data'length + crc_poly'length - 2 downto data'length - 1);</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; for i in data'length - 1 downto 0 loop</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if crc_out(crc_poly'high) = '1' then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out := crc_out xor temp_crc_poly;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; temp_crc_out := crc_out;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(crc_poly'high downto 1) := temp_crc_out(crc_poly'high - 1 downto 0);</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if i = 0 then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(0) := '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_out(0) := temp_data(i - 1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end loop;</span></p>
<p class="rvps2"><span class="rvts385">return crc_out(crc_poly'high downto 1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; end function;</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; signals_out.S1 &nbsp;&lt;= crc_error_Reg1;</span></p>
<p class="rvps2"><span class="rvts697">…………….</span></p>
<p class="rvps2"><span class="rvts697">…………….</span></p>
<p class="rvps2"><span class="rvts697">Reg1_F1 : &nbsp;process (clk)</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &nbsp;rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1 &nbsp; &lt;= default_Reg1_F1;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1_F1 = '1') &nbsp;then &nbsp; &nbsp; &nbsp; &nbsp;-- &nbsp;HW write</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1(25 downto 0) &nbsp;&lt;= reg_in.Reg1_F1(25 downto 0);</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">q_Reg1_F1(31 downto 26) &lt;= crc_implementation(crc_poly_Reg1, reg_in.Reg1_F1(25 downto 0), crc_checksum_Reg1);</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (wr_valid_Reg1 = '1') then &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;SW Write</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; q_Reg1_F1(25 downto 0) &nbsp; &nbsp; &nbsp;&lt;= ( wr_data(25 downto 0) and reg_enb(25 downto 0) ) or ( q_Reg1_F1(25 downto 0) and (not(reg_enb(25 downto 0))) );</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">q_Reg1_F1(31 downto 26) &nbsp; &nbsp; &lt;= crc_implementation(crc_poly_Reg1, wr_data(25 downto 0) and reg_enb(25 downto 0), crc_checksum_Reg1);</span></p>
<p class="rvps2"><span class="rvts697"><br/></span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;-- reset</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;-- clock edge</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; end process Reg1_F1;</span></p>
<p class="rvps2"><span class="rvts697">&nbsp; &nbsp; &nbsp; &nbsp; -- End REG1_F1 process</span></p>
<p class="rvps2"><span class="rvts697">…………..</span></p>
<p class="rvps2"><span class="rvts697">…………..</span></p>
<p class="rvps2"><span class="rvts697">…………..</span></p>
<p class="rvps2"><span class="rvts385">-- CRC logic for REG1</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; crcLogic_Reg1 : process(clk)</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &nbsp; &nbsp; &lt;= (others =&gt; '0');</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reg_in_enb.Reg1_F1 = '1' then &nbsp;-- HW Write</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &lt;= crc_implementation(crc_poly_Reg1, reg_in.Reg1_F1(25 downto 0), crc_checksum_Reg1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif wr_valid_Reg1 = '1' then &nbsp; &nbsp;-- SW Write</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_code_Reg1 &nbsp; &lt;= crc_implementation(crc_poly_Reg1, wr_data(25 downto 0) and reg_enb(25 downto 0), crc_checksum_Reg1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif rd_valid_Reg1 = '1' then &nbsp; -- Checksum Error Assignment</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (crc_implementation(crc_poly_Reg1, q_Reg1_F1(25 downto 0), crc_code_Reg1(5 downto 0)) /= crc_checksum_Reg1) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '1';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; crc_error_Reg1 &nbsp; &nbsp; &nbsp;&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; &nbsp;-- crc checksum/error assignment</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end process crcLogic_Reg1;</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Limitation:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts14">1. If property is applied at register level, then crc polynomial width should be the same for all registers. Like crc=0010101; (polynomial with here is 7).</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><a name="PARITY – "></a><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts16">Parity&nbsp;</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">A&nbsp;parity bit, or&nbsp;check bit, is a bit&nbsp;added to a string of binary code&nbsp;to ensure that the total number of 1-bits in the string is&nbsp;even&nbsp;or&nbsp;odd. In Functional Safety scenarios, the most common mechanism is to add a parity bit to a sequence of binary valued registers in the digital logic. Any corruption of the design by a single bit would lead to an inversion of polarity and would be detected.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">Following are the properties for parity:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
 <li class="rvps11 noindent"><span class="rvts14">{parity=type, parity field bit, message field bits}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
  <li class="rvps84 noindent"><span class="rvts14">Type will represent the parity type. It can be of two type odd/even&nbsp;</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Parity field bit will represent the bit of the parity</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Message field bits represent the whole data on which the parity will be calculated</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts14">{parity=type}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
  <li class="rvps84 noindent"><span class="rvts14">Type can be odd or even</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Parity bit will be stored internally in the RTL</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Message /data will be the whole register bits</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts14">{parity=type, register bit}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
  <li class="rvps84 noindent"><span class="rvts14">Type will represent the parity type. It can be of two type odd/even&nbsp;</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Register bit will represent the bit of the register which will store its parity</span></li>
  <li class="rvps84 noindent"><span class="rvts14">Message /data will be the whole register bits</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts14">{parity_error= Signal}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
  <li class="rvps84 noindent"><span class="rvts14">Parity error(generated in case of read) will be stored in this Signal</span></li>
  <li class="rvps84 noindent"><span class="rvts14">If parity_error property is not specified, then the checker is not created in RTL</span></li>
 </ul>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 800px; height : 158px; padding : 1px;" src="lib/NewItem1825.png"></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
 <li class="rvps11 noindent"><span class="rvts14">This example will calculate the odd parity</span></li>
 <li class="rvps11 noindent"><span class="rvts14">Data is 30:0 bits</span></li>
 <li class="rvps11 noindent"><span class="rvts14">Parity bit is stored in bits 31</span></li>
 <li class="rvps11 noindent"><span class="rvts14">The error bit will be field F of Reg1&nbsp;</span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 768px; height : 124px; padding : 1px;" src="lib/NewItem1826.png"></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts14">In this example, Parity of the Eeprom1 register is stored in the f1 of the Reg1&nbsp;</span></li>
 <li class="rvps11 noindent"><span class="rvts14">The error signal of the parity goes out on Signal1</span></li>
</ul>
<p class="rvps11"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="FunctionalSafety.html">refer here</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem%2010.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 850px; height : 244px; padding : 1px;" src="lib/NewItem%2011.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL Input:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">property parity { type = string ; component = addrmap|reg ;};</span></p>
<p class="rvps2"><span class="rvts356">property parity_error {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps2"><span class="rvts356">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts356">addrmap Block1{</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; signal {direction = "out"; }S1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; reg Reg1 {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parity = "odd";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parity_error = "S1";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; }F1[31:0] = 32'h2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; Reg1 Reg1[2];&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">};</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated Verilog Code</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts356">………………………….</span></p>
<p class="rvps2"><span class="rvts385">………………………….</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input [Reg1_count-1 : 0]Reg1_F1_in_enb;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output [Reg1_count*32-1 : 0] Reg1_F1_r;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg &nbsp;Reg1_parity_reg[Reg1_count-1 : 0];</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; wire [Reg1_count-1 : 0]Reg1_parity_error;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; wire &nbsp;Reg1_parity_error_wire;</span></p>
<p class="rvps2"><span class="rvts356">…………………………..</span></p>
<p class="rvps2"><span class="rvts356">…………………………..</span></p>
<p class="rvps2"><span class="rvts356">…………………………..</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Parity logic for Reg1</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({32'd2});</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_F1_in_enb[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({Reg1_F1_in[(Reg1_i) *32+31 : (Reg1_i) *32]});</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_wr_valid[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({(wr_data[31:0] &amp; reg_enb[31:0])});</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //end clk</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">assign Reg1_parity_error[Reg1_i] = Reg1_rd_valid[Reg1_i] ? ~(parity_gen({Reg1_F1_q[Reg1_i]}))^Reg1_parity_reg[Reg1_i] : 1'b0;</span></p>
<p class="rvps2"><span class="rvts697">assign Reg1_rd_data [Reg1_i] = Reg1_rd_valid[Reg1_i] ? {Reg1_F1_q[Reg1_i]} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end //Reg1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endgenerate</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">assign &nbsp;Reg1_parity_error_wire = (|Reg1_parity_error);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; assign S1 = Reg1_parity_error_wire;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_data_vld = rd_stb;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_data = Reg1_rd_data[0] |</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Reg1_rd_data[1] &nbsp; &nbsp;;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign request = 1'b1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_wait = 1'b1;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign error = 1'b0;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; function parity_gen;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input [bus_width - 1 :0]data;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; parity_gen = {^(data)};</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; endfunction</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endmodule</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated </span><a name="VHDL_82"></a><span class="rvts15">VHDL</span><span class="rvts16"> </span><span class="rvts15">code</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- signal declaration</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- Signals record</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; type signals_outrec is record</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; S1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">: std_logic;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end record;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal signals_out</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">: signals_outrec;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .. ..</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .. ..</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal q_Reg1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">: Block1_Reg1_q_array; &nbsp; &nbsp; -- Flop signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">signal Reg1_parity_reg</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">: &nbsp;std_logic_vector (Block1_Reg1_count -1 downto 0); -- PARITY VALUE</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; signal Reg1_parity_error</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">: &nbsp;std_logic_vector (Block1_Reg1_count -1 downto 0); -- Parity Error Signal</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; signal Reg1_parity_error_wire</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">: &nbsp;std_logic; &nbsp; &nbsp; -- Internal signal to store reduced parity error</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- Error signal :REG1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal error_wor_Reg1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">: &nbsp;std_logic;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; -- XOR Reduce function</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function xor_reduce(input_vector: std_logic_vector) return std_logic is</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; variable result : std_logic := '0';</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for i in input_vector'range loop</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result := result xor input_vector(i);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end loop;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; return result;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end function;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">-- or_reduce function</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; function or_reduce (arg : std_logic_vector )</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; return std_logic is</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Upper, Lower : std_logic;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Half : integer;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable BUS_int : std_logic_vector ( arg'length - 1 downto 0 );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Result : std_logic;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (arg'LENGTH &nbsp;&lt; &nbsp;1) then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- In the case of a NULL range</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUS_int := to_ux01 (arg);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( BUS_int'length = 1 ) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif ( BUS_int'length = 2 ) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'right ) or BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Half := ( BUS_int'length + 1 ) / 2 + BUS_int'right;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upper := or_reduce ( BUS_int ( BUS_int'left downto Half ));</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lower := or_reduce ( BUS_int ( Half - 1 downto BUS_int'right ));</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := Upper or Lower;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Result;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; -- End function or_reduce</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">...&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">...</span></p>
<p class="rvps2"><span class="rvts356">...</span></p>
<p class="rvps2"><span class="rvts356">... &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data_Reg1(Reg1_i).Reg1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= q_Reg1(Reg1_i).Reg1_F1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Fields value concatenation of Reg1 register</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_out.Reg1(Reg1_i).Reg1_F1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= q_Reg1(Reg1_i).Reg1_F1;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">-- HW output : F1 Read data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">-- Parity Logic for register: Reg1</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parityLogic_Reg1_i : process(clk)</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">&lt;= not xor_reduce(default_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1(Reg1_i).Reg1_F1 = '1') then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">&lt;= not xor_reduce(reg_in.Reg1(Reg1_i).Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif (wr_valid_Reg1(Reg1_i).Reg1 = '1') then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts385"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">&lt;= not xor_reduce(wr_data and reg_enb);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end process parityLogic_Reg1_i;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_out_enb.Reg1(Reg1_i).Reg1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= wr_valid_Reg1(Reg1_i).Reg1;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">-- HW output : REG1 enable</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end generate generate_Reg1_reg_process;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- ERROR SIGNAL</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_error_wire</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= or_reduce(Reg1_parity_error);</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; signals_out.S1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= Reg1_parity_error_wire;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= rd_data0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data_vld</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= rd_data_vld0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ext_out_d.dummy</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end rtl;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; -- end_arch</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps11"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="parity with repeat"></a><span class="rvts15">Parity with repeat</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts205">A&nbsp;parity&nbsp;bit, or&nbsp;check bit, is a bit&nbsp;added to a string of binary code&nbsp;to ensure that the total number of 1-bits in the string is&nbsp;even&nbsp;or&nbsp;odd.</span></li>
 <li class="rvps11 noindent"><span class="rvts205">Currently, we will implement parity with repeat only for the parity bit which is internally stored in the rtl and is not read back.</span></li>
</ul>
<p class="rvps2"><span class="rvts740"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example</span><span class="rvts15">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error/parity_error.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error/parity_error.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error/parity_error.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error/parity_error.rdl">SystemRDL</a></p>
<p class="rvps11"><span class="rvts205"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps12"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 663px; height : 256px; padding : 1px;" src="lib/NewItem5023.png"><p class="rvps2"><span class="rvts392"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 649px; height : 275px; padding : 1px;" src="lib/NewItem5024.png"></p>
<p class="rvps2"><span class="rvts392"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL:</span><p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts356">property parity {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts356">property parity_error {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts356">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;addrmap Block1 {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal { activelow; sync; signalwidth = 1; direction = "out";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;desc= "</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Parity Error Signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; "; } S1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity = "odd" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity_error = "S1" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}F1[31:0] = 32'h02;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Reg1 Reg1[2] @0x0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
<p class="rvps2"><span class="rvts14"><br/></span><p class="rvps2"><span class="rvts15">Generated Verilog Output:</span><p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">// ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Parity logic for Reg1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({32'd2});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_F1_in_enb[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({Reg1_F1_in[(Reg1_i) *32+31 : (Reg1_i) *32]});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_wr_valid[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({(wr_data[31:0] &amp; reg_enb[31:0])});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //end clk</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_parity_error[Reg1_i] = Reg1_rd_valid[Reg1_i] ? ~(parity_gen({Reg1_F1_q[Reg1_i]}))^Reg1_parity_reg[Reg1_i] : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_rd_data [Reg1_i] = Reg1_rd_valid[Reg1_i] ? {Reg1_F1_q[Reg1_i]} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts1234"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span><p class="rvps2"><span class="rvts15">Generated VHDL Output:</span><p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts385">-- or_reduce function</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; function or_reduce (arg : std_logic_vector )</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; return std_logic is</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Upper, Lower : std_logic;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Half : integer;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable BUS_int : std_logic_vector ( arg'length - 1 downto 0 );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; variable Result : std_logic;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (arg'LENGTH &nbsp;&lt; &nbsp;1) then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- In the case of a NULL range</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := '0';</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUS_int := to_ux01 (arg);</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( BUS_int'length = 1 ) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif ( BUS_int'length = 2 ) then</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'right ) or BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Half := ( BUS_int'length + 1 ) / 2 + BUS_int'right;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upper := or_reduce ( BUS_int ( BUS_int'left downto Half ));</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lower := or_reduce ( BUS_int ( Half - 1 downto BUS_int'right ));</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := Upper or Lower;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Result;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; end;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; -- End function or_reduce</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts1234">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">-- Parity Logic for register: Reg1</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parityLogic_Reg1_i : process(clk)</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i) &nbsp; &nbsp; &lt;= not xor_reduce(default_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1(Reg1_i).Reg1_F1 = '1') then</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i) &lt;= not xor_reduce(reg_in.Reg1(Reg1_i).Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif (wr_valid_Reg1(Reg1_i).Reg1 = '1') then</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i) &lt;= not xor_reduce(wr_data and reg_enb);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end process parityLogic_Reg1_i;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_error(Reg1_i) &nbsp; &nbsp; &nbsp; &lt;= ( not(xor_reduce(q_Reg1(Reg1_i).Reg1_F1)) xor Reg1_parity_reg(Reg1_i)) when (rd_valid_Reg1(Reg1_i).Reg1 = '1') else '0';</span></p>
<p class="rvps2"><span class="rvts373">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end generate generate_Reg1_reg_process;</span></p>
<p class="rvps2"><span class="rvts26">Note: From 7.24.0.0 ver onward, behavior of parity calculation on reset condition is altered</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps11"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="Parity error with injection"></a><span class="rvts15">Parity error with injection</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts205">Parity generation is calculated and stored for a register when:</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps506 noindent"><span class="rvts205">Data is written to SW writeable register fields</span></li>
  <li class="rvps506 noindent"><span class="rvts205">Data is sampled for SW read only register fields</span></li>
  <li class="rvps506 noindent"><span class="rvts205">Parity Error Injection is enabled and a SW read or SW write access to the register is performed</span></li>
  <li class="rvps506 noindent"><span class="rvts205">Parity Error Injection is transitioned from enabled to disabled</span></li>
  <li class="rvps506 noindent"><span class="rvts205">Parity error must be checked continuously throughout the process</span></li>
 </ul>
</ul>
<p class="rvps505"><span class="rvts205"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts205">Parity Error Injection:&nbsp;</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps506 noindent"><span class="rvts205">Parity register is flipped when parity_error_injection = 1:&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps507"><span class="rvts205">1) Write access to OR&nbsp;</span></p>
<p class="rvps507"><span class="rvts205">2) Read access to AND</span></p>
<p class="rvps507"><span class="rvts205"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts205">Parity Error Asserrtion/De-assertion:</span></li>
</ul>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps506 noindent"><span class="rvts205">Parity for each register is continuously checked during run time. If on any cycle, calculated parity for register is not the same as initial stored parity for register (calculated on SW write or HW write), set parity error high. Parity error is cleared only when:&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps507"><span class="rvts205">1) Reset is applied&nbsp;</span></p>
<p class="rvps507"><span class="rvts205">2) When parity_error_inj = 0, Register is written via SW or HW (rdata_in_enb)&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps508 noindent"><span class="rvts205">Correct parity error is re-calculated (assuming parity error is not a result of stuck-at fault) so error signal should be cleared by natural re-calculation.</span></li>
  </ul>
 </ul>
</ul>
<p class="rvps507"><span class="rvts205">3) On transition of parity_error_injection from high to low.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps508 noindent"><span class="rvts205">parity_error_injection is a level signal, transition from high to low means error injection logic is &nbsp; disabled, at which time parity reg needs to be-recalculated in case an parity error was injected. Assuming parity error is not a result of stuck-at fault, error signal should be cleared by natural re-calculation of parity error.&nbsp;</span></li>
  </ul>
 </ul>
</ul>
<p class="rvps508"><span class="rvts205"><br/></span></p>
<p class="rvps2"><span class="rvts1243">Example</span><span class="rvts824">: </span><a class="rvts1245" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error_inject/parity_error_inject.zip">IDS-NG</a><span class="rvts1244"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts1245" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error_inject/parity_error_inject.docx">IDS-Word</a><span class="rvts1244"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts1245" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error_inject/parity_error_inject.xlsx">IDS-Excel</a><span class="rvts1244"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts1245" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/parity_error_inject/parity_error_inject.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts740"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps12"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 695px; height : 315px; padding : 1px;" src="lib/NewItem5025.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 679px; height : 277px; padding : 1px;" src="lib/NewItem5026.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts356">property parity {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts356">property parity_error {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts356">property parity_error_inject {type = string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts356">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;addrmap Block1 {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;signal { activelow; sync; signalwidth = 1; direction = "out";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;desc= "Parity Error Signal";&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; } S1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; signal { activelow; sync; signalwidth = 1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;desc= "</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Parity Error Inject</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; "; } S2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity = "odd" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity_error = "S1" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity_error_inject = "S2" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }F1[31:0] = 32'h02;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1 Reg1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;};</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps12"><span class="rvts191">Generated Verilog Output:</span></p>
<p class="rvps12"><span class="rvts191"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S2_d &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S2_d &lt;= S2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end // always clk</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign S2_fe = S2_d &amp; ~S2;</span></p>
<p class="rvps2"><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span></p>
<p class="rvps2"><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span><span class="rvts1075"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1075">.</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= ~parity_gen({32'd2});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_F1_in_enb)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= S2 ? parity_gen({Reg1_F1_in}) : ~parity_gen({Reg1_F1_in});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(S2_fe)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= ~parity_gen({Reg1_F1_q});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_wr_valid)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= S2 ? parity_gen({(wr_data[31:0] &amp; reg_enb[31:0])}) : ~parity_gen({(wr_data[31:0] &amp; reg_enb[31:0])});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if(Reg1_rd_valid &amp; S2)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= parity_gen({Reg1_F1_q});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg &lt;= Reg1_parity_reg;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end //end clk</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_parity_error = ~(parity_gen({Reg1_F1_q}))^Reg1_parity_reg;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_rd_data &nbsp;= Reg1_rd_valid ? {Reg1_F1_q} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><a name="VHDL_86_parity_inject"></a><span class="rvts191">Generated VHDL Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; port (</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">. . . .</span></p>
<p class="rvps2"><span class="rvts387">. . . .</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reg_in</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: in &nbsp; &nbsp;Block1_inrec; &nbsp; &nbsp; &nbsp;-- input register fields (all writeable register fields)</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; reg_out</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: out &nbsp;Block1_outrec; &nbsp; &nbsp; -- output registers (all readable registers)</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; ext_in</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: in &nbsp; Block1_ext_inrec; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- incoming signals for Externally implemented registers and sections</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; ext_out</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: out &nbsp;Block1_ext_outrec; &nbsp; &nbsp; &nbsp; &nbsp; -- outgoing signals for Externally implemented registers and sections</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; S1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: out std_logic;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; S2</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: in std_logic</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts387">end Block1_e;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; -- Signals record</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; type signals_inrec is record</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; S2</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: std_logic;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; end record;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; signal signals_in</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: signals_inrec;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; type signals_outrec is record</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; S1</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: std_logic;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; end record;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; signal signals_out</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: signals_outrec;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- : Reg1 &nbsp;Register</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal decode_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- decode signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal rd_data_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic_vector (G_APB_BUS_WIDTH - 1 downto 0); -- &nbsp;Read data signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal rd_valid_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;Read valid signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal wr_valid_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; &nbsp; &nbsp; -- &nbsp;Write valid signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal q_Reg1_F1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic_vector (31 downto 0); -- FIELD : F1 signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; -- PARITY VALUE</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal Reg1_parity_error</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; -- Parity Error Signal</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; signal S2_d</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: &nbsp;std_logic; &nbsp; &nbsp; -- Parity Error Inject</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; signal S2_fe</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">: &nbsp;std_logic; &nbsp; &nbsp; -- Parity Error Inject</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; -- XOR Reduce function</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; function xor_reduce(input_vector: std_logic_vector) return std_logic is</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; variable result : std_logic := '0';</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for i in input_vector'range loop</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result := result xor input_vector(i);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; end loop;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; return result;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; end function;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= signals_out.S1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; APB_DUT : APB_WIDGET</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; generic map (</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bus_width</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; G_APB_BUS_WIDTH,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; addr_width</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; G_APB_ADDR_WIDTH</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; port map (</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- BUS : APB</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pclk</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pclk,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presetn</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; presetn,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; psel</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; psel,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; penable</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; penable,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pwrite</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pwrite,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pprot</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pprot,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pstrb</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pstrb,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pwdata</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pwdata,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paddr</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; paddr,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pready</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pready,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prdata</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; prdata,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pslverr</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; pslverr,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; --slave-signals</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clk</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; clk,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reset_l</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; reset_l,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; address</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; address,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wr_data</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; wr_data,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wr_stb</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; wr_stb,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_stb</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; rd_stb,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; request</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; request,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data_vld</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; rd_data_vld,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; rd_data,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_wait</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; rd_wait,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; error,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; byte_enb</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">=&gt; byte_enb</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Parity Logic for register: Reg1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parityLogic_Reg1 : process(clk)</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= not xor_reduce(default_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1_F1 = '1') then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (S2 = '1') then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= xor_reduce(reg_in.Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= not xor_reduce(reg_in.Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">elsif (S2_fe = '1') then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= xor_reduce(q_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif (wr_valid_Reg1 = '1') then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (S2 = '1') then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= xor_reduce(wr_data and reg_enb);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= not xor_reduce(wr_data and reg_enb);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif (rd_valid_Reg1 = '1' and S2 = '1') then</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= xor_reduce(q_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= Reg1_parity_reg;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end process parityLogic_Reg1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp;Reg1_parity_error</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;=(not(xor_reduce(q_Reg1_F1)) xor Reg1_parity_reg) when (rd_valid_Reg1 = '1') else '0';</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- Parity Error Detection Logic for register: Reg1</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parityErrorDetectionLogic_Reg1 : process(clk)</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S2_d</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S2_d</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= S2;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end process parityErrorDetectionLogic_Reg1;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S2_fe</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= S2_d and not S2;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. . . .</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;. . . . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; end rtl;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- end_arch</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">Note: </span><span class="rvts14">Parity error inject will work with property "parity=odd/even". From 7.24.0.0 ver onward, behavior of parity calculation on reset condition is altered</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts35">'r</span><a name="rc_rs"></a><span class="rvts35">c' and 'rs' sw access with parity</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts34">In IDS, parity for each register is continuously checked during run time. </span><span class="rvts37">As we are using "rc" (read to clear)&nbsp; and “rs” (read to set) sw access, it results in updating the register as read operation is carried out on it.</span></p>
<p class="rvps2"><span class="rvts29">&nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts452">IDS-NG input:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts29">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="width : 602px; height : 329px;" src="lib/NewItem4299.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts191">SystemRDL input:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts29">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts370">property parity {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; property parity_error {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; property parity_error_inject {type = string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp; = "block_name Address Map";</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Signals</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signal {direction = "out"; }parity_Err;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity = "odd" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error = "parity_Err" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error_inject = "parity_inject_error_parity_q" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = r;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;onread = rclr;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} bit0[0:0] = 1'h0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hw = rw;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} Fld2[7:1] = 7'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg Reg2 {&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity = "odd" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error = "parity_Err" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error_inject = "parity_inject_error_parity_q" ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;field {</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = r;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} inject_error_parity[0:0] = 1'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp; };&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;Reg1 reg1 @0x0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;Reg2 parity @0x4;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts191">Generated Verilog Output:</span></p>
<p class="rvps12"><span class="rvts1240">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts370">// Parity logic for reg1</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ===================================================</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clk)&nbsp; begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if(!reset_l)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= ~parity_gen({24'd0,7'd0,1'd0});</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(reg1_wr_valid)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= parity_inject_error_parity_q ? parity_gen({24'h0,(wr_data[7:1] &amp; reg_enb[7:1]),reg1_bit0_q}) : ~parity_gen({24'h0,(wr_data[7:1] &amp; reg_enb[7:1]),reg1_bit0_q});</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if(reg1_rd_valid)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">reg1_parity_reg &lt;= parity_inject_error_parity_q ? parity_gen({24'h0,reg1_Fld2_q,1'b0}): ~parity_gen({24'h0,reg1_Fld2_q,1'b0});</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= reg1_parity_reg;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end //end clk</span></p>
<p class="rvps12"><span class="rvts701">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts34">The similar approach will be followed for “rs” sw access.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><a name="VHDL_82_2"></a><span class="rvts389">Parity_error with repeat</span></p>
<p class="rvps2"><span class="rvts389"><br/></span></p>
<p class="rvps2"><span class="rvts386">SystemRDL</span></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps2"><span class="rvts387">property parity { type = string ; component = addrmap|reg ;};</span></p>
<p class="rvps2"><span class="rvts387">property parity_error {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps2"><span class="rvts387">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts387">addrmap Block1{</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; signal {direction = "out"; }S1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; reg Reg1 {</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; parity = "odd";</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; parity_error = "S1";</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; }F1[31:0] = 32'h2;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; Reg1 Reg1[2];&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">};</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts386">Generated Verilog Output</span></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= 32'd2;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_F1_in_enb[Reg1_i])</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> //F1 : HW Write</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= Reg1_F1_in[(Reg1_i) *32+31 : (Reg1_i) *32];</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid[Reg1_i])</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> //F1 : SW Write</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_F1_q[Reg1_i] &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //end always</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_F1_r[(Reg1_i) *32+31 : (Reg1_i) *32] = Reg1_F1_q[Reg1_i]; // Field : F1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">// ===================================================</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Parity logic for Reg1</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({32'd2});</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_F1_in_enb[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({Reg1_F1_in[(Reg1_i) *32+31 : (Reg1_i) *32]});</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(Reg1_wr_valid[Reg1_i])</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({(wr_data[31:0] &amp; reg_enb[31:0])});</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //end clk</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_parity_error[Reg1_i] = Reg1_rd_valid[Reg1_i] ? ~(parity_gen({Reg1_F1_q[Reg1_i]}))^Reg1_parity_reg[Reg1_i] : 1'b0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_rd_data [Reg1_i] = Reg1_rd_valid[Reg1_i] ? {Reg1_F1_q[Reg1_i]} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //Reg1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; endgenerate</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">assign &nbsp;Reg1_parity_error_wire = (|Reg1_parity_error);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign S1 = Reg1_parity_error_wire;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign rd_data_vld = rd_stb;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign rd_data = Reg1_rd_data[0] |</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_rd_data[1] &nbsp; &nbsp;;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign request = 1'b1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign rd_wait = 1'b1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; assign error = 1'b0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">function parity_gen;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; input [bus_width - 1 :0]data;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parity_gen = {^(data)};</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts386">Generated VHDL Output</span></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; ------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- signal declaration</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; ------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- Signals record</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; type signals_outrec is record</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; S1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: std_logic;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; end record;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal signals_out</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: signals_outrec;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .. ..</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .. ..</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal q_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: Block1_Reg1_q_array; &nbsp; &nbsp; -- Flop signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal Reg1_parity_reg</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic_vector (Block1_Reg1_count -1 downto 0); -- PARITY VALUE</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal Reg1_parity_error</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic_vector (Block1_Reg1_count -1 downto 0); -- Parity Error Signal</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal Reg1_parity_error_wire</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic; &nbsp; &nbsp; -- Internal signal to store reduced parity error</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- Error signal :REG1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; signal error_wor_Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">: &nbsp;std_logic;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; --------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- XOR Reduce function</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; function xor_reduce(input_vector: std_logic_vector) return std_logic is</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; variable result : std_logic := '0';</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for i in input_vector'range loop</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result := result xor input_vector(i);</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; end loop;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; return result;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; end function;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; -- or_reduce function</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; </span><span class="rvts388">function or_reduce (arg : std_logic_vector )</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; return std_logic is</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; variable Upper, Lower : std_logic;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; variable Half : integer;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; variable BUS_int : std_logic_vector ( arg'length - 1 downto 0 );</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; variable Result : std_logic;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (arg'LENGTH &nbsp;&lt; &nbsp;1) then &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- In the case of a NULL range</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := '0';</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BUS_int := to_ux01 (arg);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( BUS_int'length = 1 ) then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif ( BUS_int'length = 2 ) then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := BUS_int ( BUS_int'right ) or BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Half := ( BUS_int'length + 1 ) / 2 + BUS_int'right;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Upper := or_reduce ( BUS_int ( BUS_int'left downto Half ));</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Lower := or_reduce ( BUS_int ( Half - 1 downto BUS_int'right ));</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result := Upper or Lower;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Result;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; end;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; -- End function or_reduce</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">...&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">...</span></p>
<p class="rvps2"><span class="rvts387">...</span></p>
<p class="rvps2"><span class="rvts387">... &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data_Reg1(Reg1_i).Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= q_Reg1(Reg1_i).Reg1_F1; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;-- Fields value concatenation of Reg1 register</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_out.Reg1(Reg1_i).Reg1_F1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= q_Reg1(Reg1_i).Reg1_F1;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">-- HW output : F1 Read data</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">-- Parity Logic for register: Reg1</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parityLogic_Reg1_i : process(clk)</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if rising_edge (clk) then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if reset_l = '0' then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= not xor_reduce(default_Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_in_enb.Reg1(Reg1_i).Reg1_F1 = '1') then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= not xor_reduce(reg_in.Reg1(Reg1_i).Reg1_F1);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elsif (wr_valid_Reg1(Reg1_i).Reg1 = '1') then</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg(Reg1_i)</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= not xor_reduce(wr_data and reg_enb);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- reset</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end if; -- clock edge</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end process parityLogic_Reg1_i;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_out_enb.Reg1(Reg1_i).Reg1</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= wr_valid_Reg1(Reg1_i).Reg1;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">-- HW output : REG1 enable</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end generate generate_Reg1_reg_process;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- ERROR SIGNAL</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; error</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts388">Reg1_parity_error_wire</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= or_reduce(Reg1_parity_error);</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; signals_out.S1</span><span class="rvts388"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts388">&lt;= Reg1_parity_error_wire;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= rd_data0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rd_data_vld</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= rd_data_vld0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ext_out_d.dummy</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">&lt;= '0';</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end rtl;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; -- end_arch</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span><br/><span class="rvts494">Note: </span><span class="rvts76">&nbsp;</span><span class="rvts37">The input case should have all three parity properties (parity, ,parity_error and </span><span class="rvts34">parity_error_inject) for the rc and rs software access.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">Parity behavior with reset</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts34">A parity bit, or check bit, is a bit added to a string of binary code to ensure that the total number of 1-bits in the string is even or odd. Any corruption of the design by a single bit would lead to an inversion of polarity and would be detected.</span></p>
<p class="rvps2"><span class="rvts34">The detection of error is done using the “parity_error” property. If the “parity_error” property is not specified, then the checker is not created in RTL.</span></p>
<p class="rvps2"><span class="rvts34">The parity storage register at reset will consider the initial value of the data register and the type of parity.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts386">SystemRDL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">addrmap block_name {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;name&nbsp; = "block_name Address Map";</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// Signals</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal { activelow; sync; signalwidth = 1; direction = "out";</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;desc= " This signal is sync and activelow with width 1"; } par_err;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity = "odd" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error = "par_err" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error_inject = "Reg2_F2_q" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;} F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;reg Reg2 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity = "even" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error = "par_err" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error_inject = "Reg2_F2_q" ;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;} F2[0:0] = 1'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;Reg1 Reg1 @0x0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;Reg2 Reg2 @0x4;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts386">Generated Verilog Output</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //----------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // FIELD &nbsp;: F1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // HW ACCESS &nbsp;: RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // SW ACCESS &nbsp;: RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;OFFSET : 0</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //-----------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*DESCRIPTION &nbsp; &nbsp;: NA</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= 32'd2;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_F1_in_enb[Reg1_i])</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> //F1 : HW Write</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= Reg1_F1_in[(Reg1_i) *32+31 : (Reg1_i) *32];</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid[Reg1_i])</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> //F1 : SW Write</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q[Reg1_i] &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_F1_q[Reg1_i] &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //end always</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign Reg1_F1_r[(Reg1_i) *32+31 : (Reg1_i) *32] = Reg1_F1_q[Reg1_i]; // Field : F1</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Parity logic for Reg1</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_reg[Reg1_i] &lt;= ~parity_gen({32'd2});</span></p>
<p class="rvps2"><span class="rvts388">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps12"><a name="parity_in_uvm_with_fast_switch"></a><span class="rvts35">Parity in UVM</span></p>
<p class="rvps12"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">The parity functionality is defined within the </span><span class="rvts35">pre_write()</span><span class="rvts34"> method provided in uvm register callback class “</span><span class="rvts35">uvm_reg_cbs</span><span class="rvts34">”. The defined call back class is instantiated in the block class and attached to register handles. It is supported with -fast/-fast_uvm switch only.</span></p>
<p class="rvps12"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span></p>
<p class="rvps2"><span class="rvts1235"><br/></span></p>
<p class="rvps2"><span class="rvts740">property parity { type = string ; component = addrmap|reg ;};</span></p>
<p class="rvps2"><span class="rvts740"><br/></span></p>
<p class="rvps2"><span class="rvts740">addrmap Block1{</span></p>
<p class="rvps2"><span class="rvts740">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; reg Reg1 {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; parity = "even,31,30:0";</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }Fld[31:31];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }Fld2[30:0];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;reg Reg2 {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; parity = "odd,Reg3.F1,30:0";</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F2[31:1];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F1[0:0];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;reg Reg3 {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F1[0:0];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F2[1:1];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; hw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; &nbsp; sw = r;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp; }F3[31:2];</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; &nbsp;};</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; Reg1 Reg1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; Reg2 Reg2;</span></p>
<p class="rvps2"><span class="rvts740">&nbsp; Reg3 Reg3;</span></p>
<p class="rvps2"><span class="rvts740">};</span></p>
<p class="rvps12"><span class="rvts126"><br/></span></p>
<p class="rvps2"><span class="rvts14">Input example in IDS-Word -</span></p>
<p class="rvps12"><span class="rvts14"><br/></span></p>
<p class="rvps284"><img alt="" style="padding : 1px;" src="lib/NewItem4684.png"></p>
<p class="rvps284"><span class="rvts1233"><br/></span></p>
<p class="rvps2"><span class="rvts14">UVM Register callback class for parity generation -</span></p>
<p class="rvps2"><span class="rvts351"><br/></span></p>
<p class="rvps2"><span class="rvts370">class parityCB &nbsp;extends uvm_reg_cbs;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; uvm_reg_field parity_f;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; string parity_t;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; uvm_reg rg;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; uvm_reg_data_t mask_data;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; int parity_pos;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;case(parity_t)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; "even”: begin</span></p>
<p class="rvps2"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp; `uvm_info("PARITY_EVEN", $sformatf("DATAREG %s PARITYREG %s PARITY %b DATA %h ",rw.element.get_full_name(),rg.get_full_name(),(^(rw.value[0] &amp; mask_data)), (rw.value[0] &amp; mask_data)), UVM_LOW);</span></p>
<p class="rvps2"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (rg.get_full_name ()! = rw.element.get_full_name ())</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'(parity_f. predict ((^ (rw.value [0] &amp; mask_data)), -1, UVM_PREDICT_DIRECT, rw. path, rw. Map));</span></p>
<p class="rvps2"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else</span></p>
<p class="rvps2"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp; rw.value [0] [parity_pos] = (^ (rw.value [0] &amp; mask_data));</span></p>
<p class="rvps2"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;endclass</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">Registering the callback class with the registers -</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
<p class="rvps2"><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">// Function : build</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;//REG1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 &nbsp; = &nbsp; Block1_Reg1: type_id: create("Reg1");</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
<p class="rvps2"><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts984">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts370">// Registering callback class instances with register</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts811">&nbsp;</span><span class="rvts370">begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parityCB parityCB_Block1_Reg1;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parityCB_Block1_Reg1 = new("even",Reg1.Fld,31'h7fffffff,31);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_cb::add(Reg1, parityCB_Block1_Reg1);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parityCB parityCB_Block1_Reg2;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parityCB_Block1_Reg2 = new("odd",Reg3.F1,32'hfffffffe,0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_cb::add(Reg2, parityCB_Block1_Reg2);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp;lock_model();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; endfunction</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">endclass</span></p>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts1248" href="https://www.portal.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps2"><span class="rvts1247"><br/></span></p>
<p class="rvps2"><a name="Parity Per Byte"></a><span class="rvts35">Parity Per Byte</span></p>
<p class="rvps2"><span class="rvts126"><br/></span></p>
<p class="rvps2"><span class="rvts34">Parity is supported on per-byte basis, where 1-bit in each byte will indicate the parity value. It is done in two ways, i.e.,&nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts34">{parity = type:8}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
  <li class="rvps110 noindent"><span class="rvts34">type can be odd or even</span></li>
  <li class="rvps110 noindent"><span class="rvts34">8 reperesents per byte calculation of parity</span></li>
  <li class="rvps110 noindent"><span class="rvts34">Parity bits will be stored internally in the RTL, i.e., it will not be exposed to software</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts34">{parity = type,&lt;register's field bits&gt;:8}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
  <li class="rvps110 noindent"><span class="rvts14">Type will represent the parity type. It can be of two type odd/even&nbsp;</span></li>
  <li class="rvps110 noindent"><span class="rvts14">Register bits will represent the bit of the register which will store its parity, i.e., parity bit will be exposed to software.</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts14">{parity_error= Signal}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
  <li class="rvps110 noindent"><span class="rvts14">Parity error(generated in case of read) will be stored in this Signal</span></li>
  <li class="rvps110 noindent"><span class="rvts14">If parity_error property is not specified, then the checer is not created in RTL</span></li>
 </ul>
 <li class="rvps11 noindent"><span class="rvts34">{parity_bus_error = true}</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
  <li class="rvps110 noindent"><span class="rvts34">Parity error will be asserted into the bus error</span></li>
 </ul>
</ul>
<p class="rvps110"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">property parity {type = string;component = addrmap|reg;};</span></p>
<p class="rvps2"><span class="rvts356">property parity_bus_error {type = string;component = addrmap|reg;};</span></p>
<p class="rvps2"><span class="rvts356">addrmap blockexp4 {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; name &nbsp;= "blockexp4 Address Map";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; </span><span class="rvts385">parity_bus_error = "true"</span><span class="rvts356">; &nbsp; // To have a parity error to be asserted to pslverr</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; reg evenParityReg { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Parity Register with type="even" and field width 32&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span><span class="rvts385">parity = "even:8"</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; } F1[31:0] = 32'h0B;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts260"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDSWord</span><span class="rvts14">&nbsp;</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3047.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDSExcel</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3048.png"></p>
<p class="rvps2"><span class="rvts15">Generated Output</span></p>
<p class="rvps2"><span class="rvts260"><br/></span></p>
<p class="rvps2"><span class="rvts356">wire evenParityReg_decode; &nbsp; &nbsp; &nbsp; &nbsp; // DECODE</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp; &nbsp;evenParityReg_wr_valid; &nbsp; &nbsp; &nbsp; // WRITE VALID</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp; &nbsp;evenParityReg_rd_valid; &nbsp; &nbsp; &nbsp; // READ VALID</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp; &nbsp;[bus_width-1 : 0] evenParityReg_rd_data; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// READ DATA</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg &nbsp;[3:0] </span><span class="rvts385">evenParityReg_parity_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp; [3:0]</span><span class="rvts385">evenParityReg_parity_error</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp; &nbsp;[64-1 : 0] evenParityReg_offset; &nbsp;// OFFSET</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output &nbsp;evenParityReg_enb; &nbsp; &nbsp;// REGISTER ENABLE</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // HW WRITE-ABLE SIGNAL FOR EACH FIELD</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input &nbsp; evenParityReg_F1_in_enb ; &nbsp; &nbsp; &nbsp;// FIELD : F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // BUFFER SIGNAL FOR EACH FIELD</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg [31 : 0] evenParityReg_F1_q ; &nbsp; &nbsp; &nbsp;// FIELD : F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // READ DATA SIGNAL FOR EACH FIELD</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output &nbsp;[31 : 0] evenParityReg_F1_r ; &nbsp; &nbsp; &nbsp;// FIELD : F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // HW WRITE DATA SIGNAL FOR EACH FIELD</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input &nbsp; [31 : 0] evenParityReg_F1_in ; &nbsp; &nbsp; &nbsp;// FIELD : F1</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;// ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // PARITY LOGIC FOR REG</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // ===================================================</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; evenParityReg_parity_reg&lt;= 4'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (evenParityReg_F1_in_enb)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; evenParityReg_parity_reg &lt;= </span><span class="rvts385">parity_gen_perbyte</span><span class="rvts356">({evenParityReg_F1_in});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (evenParityReg_wr_valid)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; evenParityReg_parity_reg &lt;= </span><span class="rvts385">parity_gen_perbyte</span><span class="rvts356">({(wr_data[31:0] &amp; reg_enb[31:0])});</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // always clk</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;assign evenParityReg_parity_error = </span><span class="rvts385">parity_error_perbyte</span><span class="rvts356">(evenParityReg_parity_reg,parity_gen_perbyte({evenParityReg_F1_q}));</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; . . . .</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span><span class="rvts385"> assign error = (|evenParityReg_parity_error);</span></p>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function [3:0] </span><span class="rvts385">parity_gen_perbyte</span><span class="rvts356">; &nbsp; // to calculate parity per byte</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width - 1 :0]data;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_gen_perbyte [0] = {^(data[7:0])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_gen_perbyte [1] = {^(data[15:8])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_gen_perbyte [2] = {^(data[23:16])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_gen_perbyte [3] = {^(data[31:24])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; . . . .&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function [3:0] </span><span class="rvts385">parity_error_perbyte</span><span class="rvts356">; &nbsp; // to calculate parity error</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [3:0] data;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [3:0] parity_gen_data;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_error_perbyte [0] = {(data[0] ^ parity_gen_data[0])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_error_perbyte [1] = {(data[1] ^ parity_gen_data[1])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_error_perbyte [2] = {(data[2] ^ parity_gen_data[2])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; parity_error_perbyte [3] = {(data[3] ^ parity_gen_data[3])};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.portal.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps11"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="sniffing_engine"></a><span class="rvts14">&nbsp;</span></p>
<p class="rvps2"><span class="rvts16">Sniffing Engine -</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts14">A sniffing engine is similar to sw read and walk though entire address map and let the parity checker check the result. Sniffer optionally set an error flag and address of failed register</span></li>
 <li class="rvps11 noindent"><span class="rvts14">The property of sniffing engine is</span></li>
</ul>
<p class="rvps2"><span class="rvts14">&nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">{ecc_sniffer=counter_time}</span></p>
<p class="rvps2"><span class="rvts14">&nbsp; &nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">The value of this property will specify the time after which sniffer will recalculate the ECC of entire address map.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts14">Eg – {ecc_sniffer=20} In this example, the time difference between the sniffing cycle will be 20 clock cycles</span></li>
 <li class="rvps11 noindent"><span class="rvts14">In case of SW read and sniffer read, the priority will be the SW read</span></li>
 <li class="rvps11 noindent"><span class="rvts14">The error flag of the sniffing engine will be same as parity error flag</span></li>
 <li class="rvps11 noindent"><span class="rvts14">The address to represent the location of the error will be a HW port</span></li>
</ul>
<p class="rvps11"><span class="rvts351"><br/></span></p>
<p class="rvps11"><span class="rvts351"><br/></span></p>
<p class="rvps11"><span class="rvts15"><br/></span></p>
<p class="rvps284"><span class="rvts15"><br/></span></p>
<p class="rvps284"><img alt="" style="padding : 1px;" src="lib/NewItem1827.png"></p>
<p class="rvps284"><span class="rvts15">Block diagram of sniffer</span></p>
<p class="rvps284"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts14">Input example in SystemRDL -</span></p>
<p class="rvps11"><span class="rvts329"><br/></span></p>
<p class="rvps11"><span class="rvts356">property parity { type = string ; component = addrmap|reg ;};</span></p>
<p class="rvps11"><span class="rvts356">property parity_error {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps11"><span class="rvts356">property ecc_sniffer {type = number; component = addrmap;};</span></p>
<p class="rvps11"><span class="rvts356">property direction {type = string; component = signal ; };</span></p>
<p class="rvps11"><span class="rvts356">addrmap top{</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; ecc_sniffer = 5;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; signal {activelow; async; direction = "out";}S2;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; reg Reg1 {</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
<p class="rvps11"><span class="rvts356"></span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">hw = r;</span></p>
<p class="rvps11"><span class="rvts356"></span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">sw = r;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; }fld1;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; };</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; reg Reg2 {</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; parity = "odd,31,30:0";</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; parity_error = "S2";</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
<p class="rvps11"><span class="rvts356"></span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">hw = rw;</span></p>
<p class="rvps11"><span class="rvts356"></span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">sw = rw;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; }fld2[31:0];</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; };&nbsp;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; reg Reg3 {</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; &nbsp; }fld2[31:0];</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; };&nbsp;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; Reg1 Reg1;&nbsp;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; Reg2 Reg2;</span></p>
<p class="rvps11"><span class="rvts356">&nbsp; Reg3 Reg3;</span></p>
<p class="rvps11"><span class="rvts356">};</span></p>
<p class="rvps11"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps11"><span class="rvts6"><br/></span></p>
<p class="rvps2"><a name="SECDED"></a><span class="rvts16">SECDED&nbsp;</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts43">Sometimes, data in a register gets corrupted due to cosmic rays or other factors. There are &nbsp;many error detection methods used to detect error and then rewrite that data. But, sometimes the error is only one bit and we do not want to do the write process again. In that case we can use SECDED.&nbsp;</span></p>
<p class="rvps2"><span class="rvts34">SECDED stands for Single Error Correction, Double Error Detection.</span></p>
<p class="rvps2"><span class="rvts34">This functionality can be enabled by using property, "secded =true". Its possible values can be true/false and by defaut, it is always false. It can be applied at register, section, block or chip.</span></p>
<p class="rvps2"><span class="rvts34">IDS also provides following features with SECDED:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts34">To route parity bits on output signal for internal registers. This is done by using property "secded_parity=&lt;signal_name&gt;. This property can be applied only at the registers.</span></li>
 <li class="rvps6 noindent"><span class="rvts34">For routing ded error on the bus interface. For this, user can make use of "secded_ded_error = true" property. Its possible values can be true/false and by defaut, it is always false. It can be applied at block or chip level.</span></li>
</ul>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts35">Concept&nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps82"><span class="rvts34">SECDED is hamming code, which generates parity bits for some data bits and then transmit that data along with parity bits. At the receiver's end parity bits are generated for the data using the same method that is used at the transmitter's end, then XOR it with the transmitted parity to check if error occurred or not. If there was a 1-bit error &nbsp;then the XORed result will tell which bit got corrupted so that we can correct that at the receiver’s end. If it indicates that there was a 2-bit error then an error signal is generated for some preventive action.</span></p>
<p class="rvps3"><span class="rvts34"><br/></span></p>
<div class="rvps143">
<table width="618" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">Bits position</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">8</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">7</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">6</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">5</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">4</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">3</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">2</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">1</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">Bits Number</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">7</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">6</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">5</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">4</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">3</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">2</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">1</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">0</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">Data/Parity bits</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">p3</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">d3</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">d2</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">d1</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">p2</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">d0</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 54px;">
   <p class="rvps2"><span class="rvts34">p1</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 53px;">
   <p class="rvps2"><span class="rvts34">p0</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps3"><span class="rvts34">SECDED code for 4bits</span></p>
<p class="rvps3"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Parity bits appended in the coded data for 4-bit data are obtained from the below formula:-</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">p0 &nbsp;= d0 ^ d1 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34">p1 = &nbsp;d0 ^ d2 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34">p2 &nbsp;= d1 ^ d2 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34">p3 = &nbsp;p0 ^ p1 ^ d0 ^ p2 ^ d1 ^ d2 ^d3;&nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Whereas p0,p1 and p3 bits are used for the single error detection and correction while the p3 bit is used for the double error detection part.</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Here is an example of Error Detection for 4-bit data.</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Single Error Detection:-</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Data bits to transfer are 4’b1111 and parity is even</span></p>
<p class="rvps2"><span class="rvts34">p0 = 1; p1 =1; p2 =1; p4 =1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Encoded data :- 8’b1111_1111 sent by transmitter</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Data received by the receiver is 8’b1011_1111; i.e d3 is flipped</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">*p0 = 0;*p1=0;*p2=0;*p3=0; &nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">*p are the generated parities from the data received&nbsp;</span></p>
<p class="rvps2"><span class="rvts34">Received parity bits are not equal to generated bits, plus p3 =0 means single bit is flipped</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Single Error Correction:-</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">For error correction syndrome bits are used to determine the position of the flipped bit.</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Sp0 = p0 ^ d0 ^ d1 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34">Sp1 = p1 ^ d0 ^ d2 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34">Sp2 = p2 ^ d1 ^ d2 ^ d3;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">For the received data 8’b1011_1111:-</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Sp0 = 1; Sp1 =1;Sp2 = 1;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Error bit position = {Sp2,Sp1,Sp0} = {111} = 7th bit of the encoded data means d3 is flipped.</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Double Error Detection:-</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Using the previous example where the 8’b1111_1111 secded data is transmitted. If data received by the receiver is 8’b1001_1111</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">*p0 = 1;*p1=0;*p2=0; *p3=1; &nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">*p are the generated parities from the data received&nbsp;</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Received parity bits are not equal to generated bits, but *p3 =p3 means double bits are flipped</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts35">Secded in IDS</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">For write operations on internal registers, the data is passed to the SECDED encoder. This module generates the SECDED encoded data. The data bits from the encoded data are stored in the register and the parity bits, depending upon the user information, are stored in the internal buffer. IDS also provide the flexibility to output the parity bits. By default, parity bits are stored in an internal buffer.</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3621.png"></p>
<p class="rvps3"><span class="rvts34">Fig1. Write operation for internal registers</span></p>
<p class="rvps3"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">Write operations for external registers work in the same way as that of internal registers. The only difference is that instead of storing data and parity bits internally, they are routed to the memory.&nbsp;</span></p>
<p class="rvps12"><span class="rvts34">For read operations on internal registers, the data is first passed to the SECDED decoder stage. This module checks for the occurrence of any SECDED error. If a single bit error is detected then the decoder module corrects the corrupted data and passes it on to the bus interface. Also, at the same time, it updates the stored corrupted data.</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3620.png"></p>
<p class="rvps3"><span class="rvts34">Fig2. Read operation for internal registers</span></p>
<p class="rvps3"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">Whenever an error is detected by the decoder, it is reflected on the “secded_error” port.</span></p>
<p class="rvps12"><span class="rvts34"><br/></span></p>
<div class="rvps143">
<table cellpadding="1" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 143px;">
   <p class="rvps12"><span class="rvts34">“secded_error” port</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 195px;">
   <p class="rvps12"><span class="rvts34">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 143px; height: 19px;">
   <p class="rvps12"><span class="rvts34">00</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 195px; height: 19px;">
   <p class="rvps12"><span class="rvts34">No error is detected</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 143px;">
   <p class="rvps12"><span class="rvts34">01</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 195px;">
   <p class="rvps12"><span class="rvts34">Single bit error is detected&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 143px;">
   <p class="rvps12"><span class="rvts34">10</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 195px;">
   <p class="rvps12"><span class="rvts34">Double bit error is detected</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 143px;">
   <p class="rvps12"><span class="rvts34">11</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top; width: 195px;">
   <p class="rvps12"><span class="rvts34">Reserved</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">In IDS, users also have a flexibility to route the double error detection to the bus interface.&nbsp;</span></p>
<p class="rvps12"><span class="rvts34">Read operations for external registers work in the same way as that of internal registers. The only difference is that when a single bit error is detected then the decoder provides only the correct data and does not issue any transaction to the external memory for correcting the corrupted data.</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps2"><span class="rvts34">Users also has flexibility to route the double error detection to the bus interface by using "secded_ded_error = true" on chip or block.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_ded_error/secded_ded_error.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_ded_error/secded_ded_error.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_ded_error/secded_ded_error.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_ded_error/secded_ded_error.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts497">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts42"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 904px; height : 421px; padding : 1px;" src="lib/NewItem4847.png"><span class="rvts42">&nbsp;</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts497">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 811px; height : 313px; padding : 1px;" src="lib/NewItem4848.png"></p>
<p class="rvps2"><span class="rvts175">SystemRDL</span><span class="rvts1237">&nbsp;</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts430">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts430">property secded {type = boolean; component = reg;};</span></p>
<p class="rvps2"><span class="rvts430">property secded_ded_error { type = boolean ; component = addrmap|reg ;};</span></p>
<p class="rvps2"><span class="rvts430">property secded_parity {type = string; component = reg;};</span></p>
<p class="rvps2"><span class="rvts430">addrmap Block_1 {</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; // Signals</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; signal { activelow; sync; signalwidth = 7; direction = "out";</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; &nbsp;desc= " This signal is sync and activelow with width 7"; } S1[7];</span></p>
<p class="rvps2"><span class="rvts430"></span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430">secded_ded_error = &nbsp;true;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; reg reg_1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;secded = true;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;secded_parity = "S1";</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; hw = na;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">&nbsp; };</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; reg reg_2 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; hw = na;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">&nbsp; };</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; reg reg_3 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;secded = true;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">&nbsp; };</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; reg_1 reg_1 @0x0;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">&nbsp; reg_2 reg_2 @0x4;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">&nbsp; external reg_3 reg_3 @0x8;</span></p>
<p class="rvps2"><span class="rvts430"><br/></span></p>
<p class="rvps2"><span class="rvts430">};</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts191">Generated RTL</span></p>
<p class="rvps2"><span class="rvts42"><br/></span></p>
<p class="rvps2"><span class="rvts453">module Block_name_IDS( &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //Signals : SIGNALS</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; S1,&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // REGISTER(EXTERNAL) : REG3 PORT SIGNAL</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; Reg3_prty_bits_out,</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; Reg3_prty_bits_in,</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; Reg3_corr_parity_bits,</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; Reg3_corr_data,</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; Reg3_corr_err_flg,</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; Reg3_wr_req_in,</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; Reg3_wr_valid_out,</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">. &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; secded_err,</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; wire Reg1_decode; &nbsp; &nbsp; &nbsp; &nbsp;// Write Decode</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; wire Reg1_wr_valid; &nbsp; &nbsp; &nbsp; &nbsp;// Write Valid</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp;Reg1_wr_valid_f0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire secded_rd_vlds;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire secded_rd_vlds_f;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp;Reg1_rd_valid_f;</span></p>
<p class="rvps2"><span class="rvts1236">.</span><span class="rvts1236"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1236">.</span><span class="rvts1236"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1236">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; wire [bus_width-1 : 0] Reg1_rd_data; &nbsp; &nbsp; &nbsp; &nbsp;// Read Data</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire [bus_width-1 : 0] Reg1_r_data;</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire [6:0] Reg1_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp;[6:0] Reg1_parity_bits_f0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp;[6:0] Reg1_parity_bits_q;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire [6:0] Reg1_corr_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire [bus_width-1 : 0]Reg1_decoded_data;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire Reg1_err_flag;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire [1:0] Reg1_err;</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // REGISTER(EXTERNAL) : REG3 SIGNALS</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp; &nbsp;Reg3_wr_valid_f0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire &nbsp;[bus_width-1 : 0]Reg3_decoded_data;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire &nbsp;[bus_width-1 : 0]Reg3_r_data;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire &nbsp;[6:0] Reg3_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp; [6:0] Reg3_parity_bits_f0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; wire &nbsp;[1:0] Reg3_err;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; reg &nbsp; Reg3_rd_ack_f;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; output [6:0] Reg3_prty_bits_out;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; input &nbsp;[6:0] Reg3_prty_bits_in;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; output [6:0] Reg3_corr_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; output [bus_width-1 : 0]Reg3_corr_data;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; output Reg3_corr_err_flg;</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">. &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; output &nbsp;[1:0] secded_err;</span><span class="rvts453"> &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //Signals : SIGNALS</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; output [6 : 0] S1;</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //----------------------------------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // REGISTER &nbsp; &nbsp; &nbsp;: &nbsp;REG1</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // ADDRESS &nbsp; &nbsp; &nbsp; : &nbsp;block_offset +'h0</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; //----------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // FIELD &nbsp;: F1</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // HW ACCESS &nbsp;: NA &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // SW ACCESS &nbsp;: RW &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;OFFSET : 0</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //-----------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= 32'd0;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453"> //F1 : SW Write</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb [31 : 0] ) | (Reg1_F1_q &amp; (~reg_enb [31 : 0] ));</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else if (Reg1_err_flag)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= Reg1_decoded_data[31 : 0];</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; end //end always</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign Reg1_rd_data &nbsp;= </span><span class="rvts435">Reg1_rd_valid_f ? {Reg1_decoded_data}</span><span class="rvts453"> : 32'd0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign Reg1_r_data = (Reg1_rd_valid) ? {Reg1_F_q} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_rd_valid_f &lt;= 1'b0 ;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_rd_valid_f &lt;= Reg1_rd_valid;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; end &nbsp; &nbsp;//always clk : Reg1_rd_valid_f</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_wr_valid_f0 &lt;= 1'b0 ;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_wr_valid_f0 &lt;= Reg1_wr_valid;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; end &nbsp; &nbsp;//always clk : Reg1_wr_valid_f0</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_bits_f0 &lt;= {7{1'b0}};</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_bits_f0 &lt;= Reg1_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; end &nbsp; &nbsp;//always clk : Reg1_parity_bits_f0</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_bits_q &lt;= {7{1'b0}};</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid_f0)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_bits_q &lt;= Reg1_parity_bits_f0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (Reg1_err_flag)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_parity_bits_q &lt;= Reg1_corr_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; end &nbsp; &nbsp;//always clk : Reg1_parity_bits_q</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; secded_gen #(.k(32))Reg1_secded(</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .clk(clk),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .reset_l(reset_l),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .data_in(Reg1_wr_data),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .encoded_data({Reg1_parity_bits_q[6],Reg1_r_data[31:26],Reg1_parity_bits_q[5],Reg1_r_data[25:11],Reg1_parity_bits_q[4],Reg1_r_data[10:4],Reg1_parity_bits_q[3],Reg1_r_data[3:1],Reg1_parity_bits_q[2],Reg1_r_data[0],Reg1_parity_bits_q[1:0]}),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .decode(Reg1_rd_valid),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .parity_bits(Reg1_parity_bits),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .corr_parity_bits(Reg1_corr_parity_bits),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .decoded_data_out(Reg1_decoded_data),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .err_corr_flg(Reg1_err_flag),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .error(Reg1_err)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign S1 = Reg1_parity_bits;</span><span class="rvts453"> &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //----------------------------------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // REGISTER &nbsp; &nbsp; &nbsp;: &nbsp;REG2</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // ADDRESS &nbsp; &nbsp; &nbsp; : &nbsp;block_offset +'h4</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; //----------------------------------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // REGISTER(EXTERNAL) : REG3</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; // ADDRESS &nbsp; &nbsp; &nbsp; : &nbsp;block_offset +'h8</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign Reg3_rd_data = </span><span class="rvts435">Reg3_rd_ack_f ? Reg3_decoded_data </span><span class="rvts453">: 32'b0;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign Reg3_corr_data = Reg3_decoded_data;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign Reg3_prty_bits_out = Reg3_parity_bits;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign Reg3_r_data = Reg3_rd_ack_in ? Reg3_rd_data_in : 32'b0;</span></p>
<p class="rvps2"><span class="rvts453"><br/></span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; always @(posedge clk)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; if(!reset_l)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg3_rd_ack_f &lt;= 1'b0 ;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg3_rd_ack_f &lt;= Reg3_rd_ack_in;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; end &nbsp; &nbsp;//always clk : Reg3_wr_valid_f0</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; secded_gen #(.k(32))Reg3_secded(</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .clk(clk),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .reset_l(reset_l),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .data_in(wr_data),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .encoded_data({Reg3_prty_bits_in[6],Reg3_r_data[31:26],Reg3_prty_bits_in[5],Reg3_r_data[25:11],Reg3_prty_bits_in[4],Reg3_r_data[10:4],Reg3_prty_bits_in[3],Reg3_r_data[3:1],Reg3_prty_bits_in[2],~Reg3_r_data[0],Reg3_prty_bits_in[1:0]}),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .decode(Reg3_rd_ack_in),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .parity_bits(Reg3_parity_bits),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .corr_parity_bits(Reg3_corr_parity_bits),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .decoded_data_out(Reg3_decoded_data),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .err_corr_flg(Reg3_corr_err_flg),</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; .error(Reg3_err)</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">. &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign external_rd_ack = </span><span class="rvts435">Reg3_rd_ack_f;</span><span class="rvts453"> // END external_rd_ack &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign external_wr_req = Reg3_wr_req_wire; // END external_wr_req &nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign external_access = (Reg3_decode_wire) &amp; (rd_stb | wr_stb); // END external_access</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign request = external_wr_req;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; assign rd_data_vld = external_rd_ack |(~external_access &amp; rd_stb &amp; rd_wait_state </span><span class="rvts435">&amp; (secded_rd_vlds)) | (secded_rd_vlds_f)</span><span class="rvts453">;</span></p>
<p class="rvps2"><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span><span class="rvts453"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts453">.</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign error = secded_err[1];</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign secded_err = Reg1_err | Reg3_err;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign secded_rd_vlds = Reg1_rd_valid;</span></p>
<p class="rvps2"><span class="rvts435">&nbsp; &nbsp; assign secded_rd_vlds_f = Reg1_rd_valid_f;</span><span class="rvts453"> &nbsp;</span></p>
<p class="rvps2"><span class="rvts453">endmodule</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts14">For limitations of the above features, please </span><a class="rvts23" href="https://www.agnisys.com/release/docs/ids/FunctionalSafety.html#limitation_FUNCTION">refer here</a></p>
<h1 class="rvps52"><a name="Error_injection_secded"></a><span class="rvts0"><span class="rvts16">Error injection in SECDED</span></span></h1>
<p class="rvps12"><span class="rvts36"><br/></span></p>
<p class="rvps12"><span class="rvts36">From v7.8.0.0 onwards, users have the capability of injecting either a 1-bit or 2-bits error in SECDED</span><span class="rvts34"> by using property “</span><span class="rvts31">secded_error_inject”. </span><span class="rvts36">This property is hierarchical in nature and can be applied at </span><span class="rvts34">chip/block/reg</span><span class="rvts36">.</span><span class="rvts34"> The value of this property can be any 2-bit wide signal (declared as input). This property has significance only when “secded=true” is used on the component.&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts34">Possible values of signals are defined in the following table:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table cellpadding="6" style="border-width: 0px; border-collapse: collapse;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">Possible values for “secded_error_inject” signal</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts29"><br/></span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">00</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">No error injection</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">01</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">1-bit error injection</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">10</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">No error injection</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">11</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; vertical-align: top;">
   <p class="rvps2"><span class="rvts34">2-bit error injection</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps169"><span class="rvts34">Table 1.0:LUT for possible value of signal</span></p>
<p class="rvps168"><span class="rvts34">When the value of signal corresponding to error injection is set as 2'b01, then the first LSB bit is inverted which symbolizes injection of 1-bit error in the register data. This data is further passed on to the “secded_gen” module. Similarly, when signal value is set as 2’b11, then the last 2 LSB bits are inverted which means injection of 2-bit error in register data. Further, this data goes to the “secded_gen” module for processes like encoding, decoding, error detection and correction.&nbsp;</span></p>
<p class="rvps168"><span class="rvts34">If signal values are 2’b00 and 2’b10 then it signifies that no error has been injected.</span></p>
<p class="rvps2"><span class="rvts19"><br/></span></p>
<p class="rvps168"><span class="rvts1238">Note: 2-bit error can be detected in SECDED but it cannot correct the error, so it alerts the user to take up some preventive actions.</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_error_inject/secded_error_inject.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_error_inject/secded_error_inject.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_error_inject/secded_error_inject.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_error_inject/secded_error_inject.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts497">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 639px; height : 345px; padding : 1px;" src="lib/NewItem4845.png"></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts497">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 812px; height : 249px; padding : 1px;" src="lib/NewItem4846.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts175">SystemRDL</span><span class="rvts1237">&nbsp;</span></p>
<p class="rvps2"><span class="rvts497"><br/></span></p>
<p class="rvps2"><span class="rvts370">property secded_ded_error { type = boolean ; component = addrmap|reg ;};</span></p>
<p class="rvps2"><span class="rvts370">property secded_error {type = boolean; component = addrmap|regfile|reg;};</span></p>
<p class="rvps2"><span class="rvts373">property secded_error_inject {type = string; component = addrmap|reg;};</span></p>
<p class="rvps2"><span class="rvts370">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts370">addrmap block_name {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;name&nbsp; = "block_name Address Map";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;secded_ded_error=true;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// Signals</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal { activelow; sync; signalwidth = 2; direction="in";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc= "Error injection single and double bit";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} S2[2];</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts370">secded_error=true;</span></p>
<p class="rvps2"><span class="rvts373">secded_error_inject="S2";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} F[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;Reg1 Reg1 @0x0;</span></p>
<p class="rvps2"><span class="rvts370">};</span></p>
<h2 class="rvps323"><span class="rvts0"><span class="rvts175">Generated RTL (Verilog)</span></span></h2>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">wire [31:0] Reg1_q; &nbsp; //temp wire&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">input [1 : 0] S2; // signal for error injection</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;…</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;&nbsp;…</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;&nbsp;&nbsp;…</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;&nbsp;&nbsp;&nbsp;….</span></p>
<p class="rvps2"><span class="rvts370">always @(posedge clk)&nbsp; begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reg1_F_q &lt;= 32'd0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (Reg1_wr_valid) //F : SW Write</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reg1_F_q &lt;= (wr_data [31 : 0]&nbsp; &amp; reg_enb&nbsp; [31 : 0] ) | (Reg1_F_q &amp; (~reg_enb&nbsp; [31 : 0] ));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (Reg1_err_flag)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reg1_F_q &lt;= Reg1_decoded_data[31 : 0];</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end //end always</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign Reg1_rd_data&nbsp; = Reg1_rd_valid_f ? {Reg1_decoded_data} : 32'd0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign Reg1_wr_data = (wr_data[31:0] &amp; 32'hFFFFFFFF);</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">assign Reg1_q={Reg1_F_q};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">assign Reg1_r_data =&nbsp; (Reg1_rd_valid) ? ((S2==2'b01) ? {Reg1_q[31:1],~Reg1_q[0]} : (S2==2'b11) ? {Reg1_q[31:2],~Reg1_q[1],~Reg1_q[0]} : Reg1_q):32'b0; //Logic for 2-bit error injection</span></p>
<p class="rvps2"><a name="Limitation_FUNCTION"></a><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts16">Limitations:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">1) Only one scenario can be used at one time in the entire document For example ,either use {parity=even} or use {parity=even, Signal_name, 31:0} or use {odd,Reg.Fld,31:0} or use {even,0,31:1} etc. on every component of the specification. Also, parity can be either even or odd at one time in one specification.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">2) Parity and SECDED is not supported on memory</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">3) In block and reggroup the parity bit can not be stored in another signal or register, it can only be stored within the databits (for example: {parity=even, 0 , 31:1} or {parity=even, 31, 30:0})</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">4) ) “parity_error” property can contain only the name of a signal when applied on block or reggroup. We can also provide field of another register, only when this property is applied on register</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">5) byte_addressing doesn't work with sniffer</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">6) SECDED will not work for the register where is_rsv property is applied on any of its field. Parity is supported when is_rsv property is applied on any of its fields (works only for {parity=even, 31, 30:0} case).</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">7) rtl.hw_enb can not used with parity property</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">8) ecc_sniffer should have minimum value : 3</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">9) SECDED feature is not supported with repeat</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">10) Currently, "secded_parity" property can have signal as a value</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">11) "error_inject_secded" does not imply for external registers</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts25">NOTE:</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts26">1) Signal which contains the parity error should have 'out' direction.&nbsp;</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts26">2) If the parity bit is stored in another register's field, the corresponding field should be one bit and software and hardware access should be read only i.e, 'ro'.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts26">3) Same feild can not be used to store parity for 2 different registers.&nbsp;</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts26">4) Signal containing the parity bit or parity error should be of 1 bit.</span></p>
<p class="rvps2"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts26">5) From version 7.14.0.0 parity can be used with "ecc_sniffer" to enable checking and generation of parity periodically.</span></p>
<p class="rvps2"><span class="rvts1239"><br/></span></p>
<p class="rvps2"><span class="rvts27">Remo</span><a name="Remove_28"></a><span class="rvts27">ve the dependency on read valid in parity error</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts36">The requirement is to check parity on registers on every cycle and throw the value out through a signal. This checking parity on every cycle should not be dependent on Read, it should be calculated every cycle because&nbsp; the value of one of the bits is flipped due to some temperature conditions on the fly. We need to remove the parity error dependency on “rd_valid”. “</span><span class="rvts780">parity_error=&lt;Signal_name&gt;:noread</span><span class="rvts36">” to remove this dependency of “&lt;regname&gt;_rd_valid”.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem4228.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts175">SystemRDL:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">property parity {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts370">property parity_error {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts370">property direction {type = string; component = signal ; };</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">addrmap parity_error{</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;name&nbsp; = "parity_error Address Map";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal { activelow; sync; signalwidth = 1; direction = "out";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc= " This signal is sync and activelow with width 1"; } S1;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;reg Reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">parity = "odd,31,30:0" ;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parity_error = "S1:noread" ;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;} F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;Reg1 Reg1 @0x0;</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts175">Generated Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps154"><span class="rvts370">&nbsp;..</span></p>
<p class="rvps154"><span class="rvts370">&nbsp;</span><span class="rvts430">..</span></p>
<p class="rvps154"><span class="rvts430">assign Reg1_F1_r = Reg1_F1_q; // </span><span class="rvts370">Field : F1</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// assign Reg1_parity_error = Reg1_rd_valid ? ~(parity_gen({1'h0,Reg1_F1_q}))^Reg1_F1_q[31] : 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">assign Reg1_parity_error = ~(parity_gen({1'h0,Reg1_F1_q}))^Reg1_F1_q[31];</span></p>
<p class="rvps154"><span class="rvts370">&nbsp;</span><span class="rvts430">&nbsp;assign Reg1_rd_data&nbsp; = Reg1_rd_valid ? {Reg1_F1_q} : 32'd0;</span></p>
<p class="rvps154"><span class="rvts370">&nbsp;..</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps166"><span class="rvts126">Supp</span><a name="F_20654"></a><span class="rvts126">ort of SECDED in UVM</span></p>
<p class="rvps2"><span class="rvts34">Single Error Correction, Double Error Detection is referred to as SECDED. When a single bit error is identified and it would be difficult to recreate the entire data, this technique is quite helpful. Both internal and external registers can use SECDED in IDS. However, only internal (register-based) storage will result in single-bit correction of the data being saved. The current support of SECDED is limited to IDS-generated RTL. IDS supports the SECDED mechanism in RTL Verilog only.&nbsp;IDS-generated UVM RAL only generates the simple register for SECDED registers and there is no prediction model for the same. Below is the logic function and the diagram depicting the SECDED block &nbsp;implementation in the RTL:</span></p>
<p class="rvps2"><span class="rvts34"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem4746.png"></p>
<p class="rvps12"><span class="rvts34">To support the error-checking mechanism in the SECDED in IDS UVM RAL, an additional register has been added in RAL to proceed with the correct prediction model. Consider the example, where a register (regA) has functionality in the generated RTL, its equivalent UVM support would be as below (highlighted yellow in the code below)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_parity/secded_parity.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_parity/secded_parity.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_parity/secded_parity.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/secded_parity/secded_parity.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts1202">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 697px; height : 448px; padding : 1px;" src="lib/NewItem4849.png"></p>
<p class="rvps3"><img alt="" style="width : 696px; height : 125px; padding : 1px;" src="lib/NewItem4850.png"></p>
<p class="rvps2"><span class="rvts1202"><br/></span></p>
<p class="rvps2"><span class="rvts1202">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts1202"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 775px; height : 362px; padding : 1px;" src="lib/NewItem4851.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts175">SystemRDL</span><span class="rvts1241">&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">property secded{type = boolean ; component = addrmap|reg|field; };&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">property secded_ded_error{type = boolean ; component = addrmap|reg|field; };&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">addrmap Block_top {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;name&nbsp; = "Block Address Map";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;secded= true;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;secded_ded_error=true;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;reg regA {&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;regA regA @0x0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">};</span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Generated UVM register model&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">.</span></p>
<p class="rvps2"><span class="rvts35">.</span></p>
<p class="rvps2"><span class="rvts35">.</span></p>
<p class="rvps2"><span class="rvts35">//adding new class to get </span><span class="rvts373">regA_secded.error_f</span><span class="rvts35"> value in uvm modal&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">`ifndef CLASS_Block_top_regA_secded_err</span></p>
<p class="rvps2"><span class="rvts373">`define CLASS_Block_top_regA_secded_err</span></p>
<p class="rvps2"><span class="rvts373">class Block_top_regA_secded_err extends uvm_reg;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;`uvm_object_utils(Block_top_regA_secded_err)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;rand uvm_reg_field F1;/**/</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;local uvm_reg_data_t m_current;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;local uvm_reg_data_t m_data;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;local uvm_reg_data_t m_be;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;local bit m_is_read;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;local uvm_reg_data_t m_cov_mask = 'hFFFFFFFF;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;// Function : new</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;function new(string name = "Block_top_regA_secded_err");</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.new(name, 2 , build_coverage(UVM_NO_COVERAGE));</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_coverage(build_coverage(UVM_NO_COVERAGE));</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;// Function : build</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;virtual function void build();</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.F1 = uvm_reg_field::type_id::create("F1");</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.F1.configure(.parent(this), .size(2), .lsb_pos(0), .access("RW"), .volatile(0), .reset(2'd0), .has_reset(1), .is_rand(1), .individually_accessible(1));</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts373">endclass</span></p>
<p class="rvps2"><span class="rvts373">`endif</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">. . .</span></p>
<p class="rvps2"><span class="rvts370">ifndef CLASS_Block_top_block</span></p>
<p class="rvps2"><span class="rvts370">`define CLASS_Block_top_block</span></p>
<p class="rvps2"><span class="rvts370">class Block_top_block extends uvm_reg_block;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;`uvm_object_utils(Block_top_block)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;rand Block_top_regA regA;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">rand Block_top_regA_secded_err regA_secded_err;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;uvm_status_e status;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;uvm_predict_e kind;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;local &nbsp; uvm_reg_addr_t&nbsp; m_offset;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;covergroup cg_addr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`ifdef INCA</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option.name="Block_top_block_cg_addr";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option.per_instance=1;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`endif</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA :&nbsp; coverpoint m_offset</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bins hit&nbsp; = { ['h0 : 'h3] };</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;endgroup</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// Function : new</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;function new(string name = "Block_top_block");</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.new(name, build_coverage(UVM_CVR_ADDR_MAP));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (has_coverage(UVM_CVR_ADDR_MAP) )&nbsp; begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cg_addr = new();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;protected virtual function void sample(uvm_reg_addr_t offset, bit is_read, uvm_reg_map map);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (get_coverage(UVM_CVR_ADDR_MAP))&nbsp; begin</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_offset&nbsp; &nbsp; = offset;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cg_addr.sample();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (this.get_parent() != null) begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.get_parent().sample(m_offset+map.get_base_addr(),is_read,map);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// Function : build</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;virtual function void build();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//define default map and add reg/regfiles</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//REGA</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA = Block_top_regA::type_id::create("regA");</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA.configure(this, null, "regA");</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA.build();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default_map.add_reg( regA, 'h0, "RW");</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(regA.has_hdl_path()) begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA.clear_hdl_path();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA.add_hdl_path_slice("regA_F1_q", 0, 32);</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;//regA_secded_err&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">regA_secded_err=Block_top_regA_secded_err::type_id::create("regA_secded_err");</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA_secded_err.configure(this, null, "regA_secded_err");</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA_secded_err.build();</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default_map.add_reg( regA_secded_err, 'h0, "RW");</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(regA_secded_err.has_hdl_path()) begin</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA_secded_err.clear_hdl_path();</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA_secded_err.add_hdl_path_slice("regA_secded.error_f", 0, 2);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//secded callback calling&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secded_cb_class regA_F1;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regA_F1=new(.estatus(regA.F1),.err_secded1(regA_secded_err.F1),.mask(null));&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_field_cb::add(regA.F1,regA_F1);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lock_model();</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts370">endclass</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Generated SECDED UVM callback in the package file&nbsp;</span></p>
<p class="rvps2"><span class="rvts35">&nbsp;</span></p>
<p class="rvps2"><span class="rvts304">. . .</span></p>
<p class="rvps2"><span class="rvts304">. . .</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts1242">class secded_cb_class extends uvm_reg_cbs;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_field m_estatus;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_field m_secded;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uvm_reg_field m_mask;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function new( uvm_reg_field estatus, err_secded1 , mask);</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.new();</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_estatus = estatus;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_secded = err_secded1;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_mask = mask;</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endfunction</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual task post_read(uvm_reg_item rw);</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rw.status == UVM_IS_OK) begin</span></p>
<p class="rvps2"><span class="rvts1242">if(m_secded.get_mirrored_value() != 2'b00) begin</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp; &nbsp; &nbsp; &nbsp; void'(m_estatus.predict(m_estatus.get_mirrored_value()));</span></p>
<p class="rvps2"><span class="rvts1242">end</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endtask</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts1242">&nbsp;&nbsp;&nbsp;&nbsp;endclass</span></p>
<p class="rvps2"><span class="rvts387"></span><br/><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts304">. . .</span></p>
<p class="rvps2"><span class="rvts304">. . .</span><span class="rvts387">&nbsp;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts126">Supported h</span><a name="hw_clear_74"></a><span class="rvts126">w_clear and parity protected registers</span></p>
<p class="rvps2"><span class="rvts126"><br/></span></p>
<p class="rvps2"><span class="rvts36">In flop, a field can be cleared whenever a signal from the application logic or hardware interface is asserted high, when the “rtl.hw_clear” property is applied. To clear parity data of the register or the particular field,&nbsp; “rtl.hw_clear” property can be applied with “parity” property.</span></p>
<p class="rvps2"><span class="rvts126"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDS-NG Input:</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 624px; height : 260px;" src="lib/NewItem5376.png"></p>
<p class="rvps12"><span class="rvts1246">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts35">&nbsp;SystemRDL Input:</span></p>
<p class="rvps247"><span class="rvts370">&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">signal {direction="in";}S1;</span></p>
<p class="rvps12"><span class="rvts370">signal {direction="out";}S2;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">addrmap block1{</span></p>
<p class="rvps12"><span class="rvts373">parity = "odd";</span></p>
<p class="rvps12"><span class="rvts373">parity_error="sig2";</span></p>
<p class="rvps12"><span class="rvts373">parity_error_inject="sig1";</span></p>
<p class="rvps12"><span class="rvts370">reg reg_1{</span></p>
<p class="rvps12"><span class="rvts373">rtl_hw_clear = true;</span></p>
<p class="rvps12"><span class="rvts370">field{}f1[31:0];</span></p>
<p class="rvps12"><span class="rvts370">}; reg_1 reg_1;</span></p>
<p class="rvps12"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Verilog Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">. . .</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">//----------------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// FIELD&nbsp; : F1</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// HW ACCESS&nbsp; : RW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WIDTH : 32</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// SW ACCESS&nbsp; : RW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OFFSET : 0</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;/*DESCRIPTION&nbsp; &nbsp; : NA</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;*/</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clk)&nbsp; begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if (!reset_l)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_f1_q &lt;= 32'd0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reg1_f1_hw_clear)&nbsp; &nbsp; // clear</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_f1_q &lt;= 32'd0 ;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reg1_f1_in_enb) //f1 : HW Write</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_f1_q &lt;= reg1_f1_in;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts176">. . .</span></p>
<p class="rvps2"><span class="rvts600"><br/></span></p>
<p class="rvps12"><span class="rvts811">// ===================================================</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;// Parity logic for reg1</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;// ===================================================</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clk)&nbsp; begin</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;if(!reset_l)</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= parity_gen({32'd0});</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(reg1_f1_in_enb </span><span class="rvts805">|| reg1_f1_hw_clear</span><span class="rvts811"> )</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= sig1 ? ~parity_gen({(</span><span class="rvts805">reg1_f1_hw_clear ? 32'd0 : reg1_f1_in_enb ? reg1_f1_in : reg1_f1_q)}) : parity_gen({(reg1_f1_hw_clear ? 32'd0 : reg1_f1_in_enb ? reg1_f1_in : reg1_f1_q)</span><span class="rvts811">});</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp; if(sig1_fe)</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= parity_gen({reg1_f1_q});</span></p>
<p class="rvps12"><span class="rvts811">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts180">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts176">.&nbsp; . .</span></p>
<p class="rvps12"><span class="rvts176"><br/></span></p>
<p class="rvps2"><span class="rvts126">Support</span><a name="clock_dom_74"></a><span class="rvts126">ed Multiple clock domains with parity function.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts34">By default, parity </span><span class="rvts36">Checks the </span><span class="rvts34">parity</span><span class="rvts36"> of the register where the register is </span><span class="rvts34">working on the clock defined in the bus interface. Property "clock_name" allows checking the parity when multiple instances of the bus interface are created in the RTL design corresponding to the defined clock names.</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Input</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 624px; height : 432px;" src="lib/NewItem5377.png"></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">SystemRDL Input:</span></p>
<p class="rvps247"><span class="rvts370">&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">property clock_name {type = string; component = reg;};</span></p>
<p class="rvps12"><span class="rvts370">property parity { type = string ; component = addrmap|reg ;};</span></p>
<p class="rvps12"><span class="rvts370">property parity_error {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps12"><span class="rvts370">property parity_error_inject {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps12"><span class="rvts370">property direction {type = string; component = signal;};</span></p>
<p class="rvps12"><span class="rvts370">property reset_type {type = string; component = addrmap|regfile|reg;};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">signal {direction="in";}ParityInject;</span></p>
<p class="rvps12"><span class="rvts370">signal {direction="out";}ParityErr;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">addrmap block1{</span></p>
<p class="rvps12"><span class="rvts373">parity = "odd";</span></p>
<p class="rvps12"><span class="rvts370">parity_error="ParityErr";</span></p>
<p class="rvps12"><span class="rvts370">parity_error_inject="ParityInject";</span></p>
<p class="rvps12"><span class="rvts370">reset_type="async";</span></p>
<p class="rvps12"><span class="rvts370">reg reg1{</span></p>
<p class="rvps12"><span class="rvts373">clock_name="clock1";</span></p>
<p class="rvps12"><span class="rvts370">field{}a1[31:16]=0;</span></p>
<p class="rvps12"><span class="rvts370">field{}a2[15:0]=0;</span></p>
<p class="rvps12"><span class="rvts370">}; reg1 reg1;</span></p>
<p class="rvps12"><span class="rvts370">reg reg2{</span></p>
<p class="rvps12"><span class="rvts373">clock_name="clock2";</span></p>
<p class="rvps12"><span class="rvts370">field{}</span></p>
<p class="rvps12"><span class="rvts370">b1[31:30]=0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">}; reg2 reg2;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">};</span><br/><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">Generated Verilog code&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">. . .</span></p>
<p class="rvps12"><span class="rvts35">. . .</span></p>
<p class="rvps12"><span class="rvts370">//APB signals</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock1_APB_</span><span class="rvts370">pclk, &nbsp; &nbsp; //Bus clock</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock1_APB_</span><span class="rvts370">presetn, &nbsp; &nbsp; //Reset</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock1_APB_</span><span class="rvts370">psel,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock1_APB_</span><span class="rvts370">penable,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock1_APB_</span><span class="rvts370">pwrite,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input [2 : 0] </span><span class="rvts373">clock1_APB_</span><span class="rvts370">pprot,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span><span class="rvts35">. &nbsp; . .</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//APB signals</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock2_APB_</span><span class="rvts370">pclk, &nbsp; &nbsp; //Bus clock</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock2_APB_</span><span class="rvts370">presetn, &nbsp; &nbsp; //Reset</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock2_APB_</span><span class="rvts370">psel,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock2_APB_</span><span class="rvts370">penable,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input </span><span class="rvts373">clock2_APB_</span><span class="rvts370">pwrite, &nbsp; &nbsp; //Direction : This signal indicates an APB write access when HIGH and an APB read access when LOW</span></p>
<p class="rvps12"><span class="rvts35">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. &nbsp; &nbsp; &nbsp; . &nbsp; .</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;//----------------------------------------------------------------------------</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// FIELD&nbsp; : A2</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// HW ACCESS&nbsp; : RW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WIDTH : 16</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// SW ACCESS&nbsp; : RW&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OFFSET : 0</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//-----------------------------------------------------------------</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;/*DESCRIPTION&nbsp; &nbsp; : NA</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;*/</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge </span><span class="rvts373">clock1_APB_</span><span class="rvts370">clk or negedge </span><span class="rvts373">clock1_APB</span><span class="rvts370">_reset_l)&nbsp; begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if (!</span><span class="rvts373">clock1_APB_</span><span class="rvts370">reset_l)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_a2_q &lt;= 16'd0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reg1_a2_in_enb) //a2 : HW Write</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_a2_q &lt;= reg1_a2_in;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (reg1_wr_valid) //A2 : SW Write</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_a2_q &lt;= (</span><span class="rvts373">clock1_APB_</span><span class="rvts370">wr_data [15 : 0]&nbsp; &amp; </span><span class="rvts373">clock1_APB_</span><span class="rvts370">reg_enb&nbsp; [15 : 0] ) | (reg1_a2_q &amp; (~</span><span class="rvts373">clock1_APB_</span><span class="rvts370">reg_enb&nbsp; [15 : 0] ));</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end //end always</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">. . .</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps509"><span class="rvts370">// Parity logic for reg1</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// ===================================================</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge</span><span class="rvts373"> clock1_APB_</span><span class="rvts370">clk or negedge </span><span class="rvts373">clock1_APB_</span><span class="rvts370">reset_l)&nbsp; begin</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts304">. . .</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if(reg1_wr_valid)</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= ParityInject ? parity_gen({(</span><span class="rvts373">clock1_APB_</span><span class="rvts370">wr_data[31:16] &amp; </span><span class="rvts373">clock1_APB_</span><span class="rvts370">reg_enb[31:16]),(</span><span class="rvts373">clock1_APB_</span><span class="rvts370">wr_data[15:0] &amp; </span><span class="rvts373">clock1_APB_</span><span class="rvts370">reg_enb[15:0])}) : ~parity_gen({(clock1_APB_wr_data[31:16] &amp; clock1_APB_reg_enb[31:16]),(clock1_APB_wr_data[15:0] &amp; clock1_APB_reg_enb[15:0])});</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if(reg1_rd_valid &amp; ParityInject)</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg1_parity_reg &lt;= parity_gen({reg1_a1_q,reg1_a2_q});</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps509"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts304">. . .</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;//=================================================</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// PARITY ERROR DETECTION LOGIC</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//===================================</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge </span><span class="rvts373">clock1_APB_</span><span class="rvts370">clk or negedge</span><span class="rvts373"> clock1_APB_</span><span class="rvts370">reset_l)&nbsp; begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span class="rvts373">!clock1_APB_</span><span class="rvts370">reset_l)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">clock1_APB_ParityInject_d</span><span class="rvts370"> &lt;= 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">clock1_APB_ParityInject_d</span><span class="rvts370"> &lt;= ParityInject;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">end // always clk</span></p>
<p class="rvps12"><span class="rvts370">assign</span><span class="rvts373"> clock1_APB_ParityInject_fe</span><span class="rvts370"> = clock1_APB_ParityInject_d &amp; ~ParityInject;</span></p>
<p class="rvps12"><span class="rvts370">//==================================================</span></p>
<p class="rvps12"><span class="rvts370">assign ParityErr = reg1_parity_error | reg2_parity_error;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">assign clock1_APB_rd_data_vld = clock1_APB_rd_stb;</span></p>
<p class="rvps12"><span class="rvts370">assign clock1_APB_rd_data = reg1_rd_data &nbsp; &nbsp; ;</span></p>
<p class="rvps12"><span class="rvts370">assign clock1_APB_request = 1'b1;</span></p>
<p class="rvps12"><span class="rvts370">assign clock1_APB_rd_wait = 1'b1;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">assign clock1_APB_error = 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">//=================================================</span></p>
<p class="rvps12"><span class="rvts370">// PARITY ERROR DETECTION LOGIC</span></p>
<p class="rvps12"><span class="rvts370">//===================================</span></p>
<p class="rvps12"><span class="rvts370">always @(posedge</span><span class="rvts373"> clock2_APB_</span><span class="rvts370">clk or negedge clock2_APB_reset_l)&nbsp; begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">if(</span><span class="rvts373">!clock2_APB_reset_l</span><span class="rvts370">)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;clock2_APB_ParityInject_d</span><span class="rvts370"> &lt;= 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">else</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;clock2_APB_ParityInject_d</span><span class="rvts370"> &lt;= ParityInject;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps12"><span class="rvts370">end // always clk</span></p>
<p class="rvps12"><span class="rvts370">assign </span><span class="rvts373">clock2_APB_ParityInject_fe</span><span class="rvts370"> = clock2_APB_ParityInject_d &amp; ~ParityInject;</span></p>
<p class="rvps12"><span class="rvts370">//==================================================</span></p>
<p class="rvps2"><span class="rvts35">. . .</span><span class="rvts29"> </span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpndoc.com/feature-tour/produce-html-websites/">Elevate your documentation to new heights with HelpNDoc's built-in SEO</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

