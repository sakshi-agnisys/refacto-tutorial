

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Widget Property</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Application Notes">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Widget Property">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Widget Property" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="WidgetProperty"
		  data-hnd-context="485"
		  data-hnd-title="Widget Property"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="ApplicationNotes.html">Application Notes</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="ApplicationNotes.html" title="Application Notes" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="Chip-inside-ChipFlow.html" title="Chip-inside-Chip Flow" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="EvaluationofStringindescription.html" title="Evaluation of String in description" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Widget Property</h2>

            <div class="main-content">
                
<p class="rvps2"><a name="WidgetProp"></a><span class="rvts214">Widget Property</span></p>
<p class="rvps2"><span class="rvts214"><br/></span></p>
<p class="rvps168"><span class="rvts34">IDesignSpec</span><span class="rvts132">TM</span><span class="rvts14"> supports different bus protocols for high performance data transfer among the Intellectual Property (IP) cores. The protocols like&nbsp;AMBA-AHB, AMBA-AXI, AMBA-APB, AVALON, I2C, SPI, TileLink, OCP&nbsp;or Proprietary buses differentiate features such as pipelining and burst.</span></p>
<p class="rvps12"><span class="rvts14">Each bus protocol has a widget. The widgets convert bus protocols into an internal bus (Custom bus) for accessing registers. Some bus protocols have different flavors and versions based on functionalities. Following bus protocols are supported along with their corresponding widget files:</span></p>
<p class="rvps12"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps81 noindent"><span class="rvts15">AMBA-APB:</span><span class="rvts14"> Three flavors of APB widget are supported, one is flopped APB(outputs are flopped) beneficial in case of timing analysis, other one is combinatorial APB widget which uses less number of flops and the last one is pulse pready APB (to change the behavior of PREADY during PSEL assertion) in order to make this compatible with third party flow asynchronous bridging modules. &nbsp; &nbsp; &nbsp;</span></li>
 <li class="rvps81 noindent"><span class="rvts15">AMBA-AHB:</span><span class="rvts14"> Based on AMBA AHB bus protocol</span></li>
 <li class="rvps81 noindent"><span class="rvts15">AMBA3AHBLite:</span><span class="rvts14"> Based on AMBA 3 AHB Lite Protocol</span></li>
 <li class="rvps695 noindent"><span class="rvts15">AXI4FULL:</span><span class="rvts44">&nbsp;</span><span class="rvts32">Three flavors of the AXI4FULL widget are available, one is the pipelined ‘</span><span class="rvts127">default</span><span class="rvts32">’ version in which simultaneous read/write is supported. Second is non-pipelined ‘</span><span class="rvts127">np</span><span class="rvts32">’ version in which if a read and write transaction occurs together then it is broken into 2 transactions where first the write operation is completed and then read operation takes place. The third flavor is the ‘</span><span class="rvts127">dar</span><span class="rvts32">’ version for the data-address-response scenario in AXI4FULL widget.</span></li>
 <li class="rvps81 noindent"><span class="rvts15">AXI4Lite:</span><span class="rvts14"> Similarly, AXI4Lite widget also have pipelined and non-pipelined versions.</span></li>
 <li class="rvps81 noindent"><span class="rvts15">AVALON:</span><span class="rvts14"> Two Avalon widgets are available, with burst transfer and with no burst.</span></li>
 <li class="rvps81 noindent"><span class="rvts15">I2C:</span><span class="rvts14"> Based on I2C Protocol with 7-bit addressing</span></li>
 <li class="rvps81 noindent"><span class="rvts15">TileLink:</span><span class="rvts14"> Based on TileLink Protocol 1.7 and 1.8 protocol</span></li>
 <li class="rvps81 noindent"><span class="rvts15">SPI:</span><span class="rvts14"> Based on SPI Protocol</span></li>
 <li class="rvps81 noindent"><span class="rvts15">OCP:</span><span class="rvts14"> Based on OCP Protocol</span></li>
 <li class="rvps81 noindent"><span class="rvts15">Proprietary:</span><span class="rvts14"> Custom Bus Protocol</span></li>
 <li class="rvps81 noindent"><span class="rvts15">WISHBONE:</span><span class="rvts14"> Based on Wishbone Protocol having two flavors with ack_i as synchronous and asynchronous</span></li>
</ul>
<p class="rvps14"><span class="rvts1169"><br/></span></p>
<p class="rvps14"><span class="rvts35">Widget Property</span></p>
<p class="rvps14"><span class="rvts1169"><br/></span></p>
<p class="rvps14"><span class="rvts14">The ‘widget’ property can be used to generate widget file in the output according to the bus protocol used in the RTL.</span></p>
<p class="rvps12"><span class="rvts14">This property can be applied either on the Chip or the Block component. According to the values specified as arguments in the property, the appropriate widget will be generated in the output.</span></p>
<p class="rvps12"><span class="rvts14">This property was first introduced in v6.24.41.0 and is majorly enhanced in v6.46.0.0.</span></p>
<p class="rvps12"><span class="rvts14">For users using versions below 6.46.0.0, </span><a class="rvts23" href="WidgetProperty.html#uptil_6_46_0_0">please refer here</a><span class="rvts14">.</span></p>
<p class="rvps12"><span class="rvts14">For users using versions 6.46.0.0 onwards, </span><a class="rvts23" href="WidgetProperty.html#6_46_0_0_onwards">please refer here</a><span class="rvts14">.</span></p>
<p class="rvps2"><span class="rvts393"><br/></span></p>
<p class="rvps2"><span class="rvts393">Behavior</span><a name="uptil_6_46_0_0"></a><span class="rvts393"> of Widget Property</span><span class="rvts852"> </span><span class="rvts393">(IDS-Batch v6.24.41.0 to v6.46.0.0):</span></p>
<p class="rvps2"><span class="rvts393"><br/></span></p>
<p class="rvps12"><span class="rvts14">User can specify the following arguments: </span><span class="rvts15">{widget=Bus_Name:Type:Module_Name}&nbsp;</span><span class="rvts14"> where,</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps161 noindent"><span class="rvts14">Bus_Name: It can take the bus name for which the user wants to generate the widget for its RTL.</span></li>
  <li class="rvps161 noindent"><span class="rvts14">Type: It will define the specific flavor of the widget used such as-</span></li>
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps693 noindent"><span class="rvts186">ff : flopped(ff) for APB Bus only</span></li>
   <li class="rvps693 noindent"><span class="rvts186">pulse_pready : For APB only</span></li>
   <li class="rvps693 noindent"><span class="rvts186">np : non pipeline(np) for AXI or AXI4FULL bus only</span></li>
   <li class="rvps693 noindent"><span class="rvts186">no_burst: For Avalon bus only</span></li>
   <li class="rvps693 noindent"><span class="rvts186">1_7: for TileLink bus only</span></li>
   <li class="rvps693 noindent"><span class="rvts186">wishbone_widget_async: For Wishbone bus only</span></li>
  </ul>
  <li class="rvps161 noindent"><span class="rvts14">Module_Name: It specifies the user defined name with which the widget will be generated.&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps12"><span class="rvts26"><br/></span></p>
<p class="rvps12"><span class="rvts26">Note - In case the user does not wish to specify any argument, it can be left blank, but specifying colon is mandatory in such case,</span></p>
<p class="rvps149"><span class="rvts26">e.g., {widget=apb::chip_apb_widget} or &nbsp;{widget=apb::}</span></p>
<p class="rvps12"><span class="rvts26">the default value will be taken for the argument which is left blank such as pipelined version of axi and axi4full widget, 1.8 version for tilelink, burst enabled for avalon bus.</span></p>
<p class="rvps14"><span class="rvts14"><br/></span></p>
<p class="rvps14"><span class="rvts14">Below mentioned are all the possible values for the first and second argument which user can specify in the widget property:</span></p>
<p class="rvps14"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = apb::apb_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = apb:ff:apb_widget&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = apb:pulse_pready:apb_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = axi:np:axi_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = axi:: axi_widget&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = axi4full:np:axi4full_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = axi4full:: axi4full_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = axi4full:dar: axi4full_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = tilelink:1_7:tilelink_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = tilelink:: tilelink_widget&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = avalon:no_burst: avalon_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = avalon:: avalon_widget&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = wishbone:wishbone_widget_async: wishbone_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = wishbone:: wishbone_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">widget = spi::SPI_slave&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = i2c::I2C_target&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = ocp::ocpip_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = amba:: amba_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">widget = amba3ahblite:: AMBA3AHBLITE_widget&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps14"><span class="rvts14">The example below shows the use of widget property:</span></p>
<p class="rvps14"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example</span><span class="rvts15">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/widget/widget.zip">IDS-NG</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/widget/widget.docx">IDS-Word</a><a class="rvts766" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/widget/widget.docx"> &nbsp; &nbsp; &nbsp; &nbsp;</a><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/widget/widget.xlsx">IDS-Excel</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/widget/widget.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 663px; height : 191px; padding : 1px;" src="lib/NewItem5130.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 563px; height : 149px; padding : 1px;" src="lib/NewItem5131.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps14"><span class="rvts385">property widget {type=string;component=addrmap;};</span></p>
<p class="rvps14"><span class="rvts356">addrmap Block1 { &nbsp;</span></p>
<p class="rvps14"><span class="rvts385">widget = "apb::apb_widget";</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; reg Register1 {</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hw = r;</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; }Field1[31:24] = 8'h2;</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; };</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; &nbsp; &nbsp; Register1 Register1;</span></p>
<p class="rvps14"><span class="rvts356">&nbsp; };</span></p>
<p class="rvps14"><span class="rvts14"><br/></span></p>
<p class="rvps14"><span class="rvts202"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps14 noindent"><span class="rvts14">By default, the generated widgets will be synchronous in nature, to achieve asynchronous widget behavior user need to apply {reset_type=async} property at the Chip or block along with the widget property.&nbsp;</span></li>
 <li class="rvps81 noindent"><span class="rvts14">-tool command line switch: User can specify the name of the tool for which the widget has to be generated.&nbsp;</span></li>
</ul>
<p class="rvps81"><span class="rvts14">Possible values of -tool command line switch: QUESTA, XCELIUM, VCS, VIVADO</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps81 noindent"><span class="rvts14">Following environment variable path must be set for simulation:</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps81 noindent"><span class="rvts14">Append the flex c-api/lib path to the $LD_LIBRARY_PATH.</span></li>
  <li class="rvps81 noindent"><span class="rvts14">Append the required libagni.so source file path to the $LD_LIBRARY_PATH.</span></li>
  <li class="rvps81 noindent"><span class="rvts14">Questa Flow:</span></li>
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps81 noindent"><span class="rvts14">Add -sv switch during compilation, as “final block” is supported under this switch:</span></li>
  </ul>
 </ul>
</ul>
<p class="rvps203"><span class="rvts356">vlog -sv {DESIGN_FILES}</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps81 noindent"><span class="rvts14">Either set Questa env var “export PLIOBJS= libagni.so”, or use command line switch “-pli libagni.so”</span></li>
  </ul>
 </ul>
</ul>
<p class="rvps203"><span class="rvts356">vsim -pli libagni.so &lt;rest of the simulation command&gt;</span></p>
<p class="rvps203"><span class="rvts14">If, PLIOBJS is set the current command line would work without adding the “-pli” switch.&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps81 noindent"><span class="rvts14">Xcelium Flow:</span></li>
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps81 noindent"><span class="rvts14">Add -sv switch and need to use “-loadvpi libagni:agnilm_lic” &nbsp;switch to get the VPI flow working</span></li>
  </ul>
 </ul>
</ul>
<p class="rvps203"><span class="rvts356">xrun -sv -loadvpi libagni:agnilm_lic &lt;rest of the simulation command&gt;</span></p>
<p class="rvps203"><span class="rvts14">libagni Is the pointer to the libagni.so file agnilm_lic Is the VPI task executed in simulation.&nbsp;</span></p>
<p class="rvps203"><span class="rvts14"><br/></span></p>
<p class="rvps81"><span class="rvts14"><br/></span></p>
<p class="rvps14"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts393">Behavior</span><a name="6_46_0_0_onwards"></a><span class="rvts393"> of Widget Property</span><span class="rvts852"> </span><span class="rvts393">(IDS-Batch v6.46.0.0 onwards):</span></p>
<p class="rvps2"><span class="rvts632"><br/></span></p>
<p class="rvps2"><span class="rvts34">IDS has widgets for each bus protocol. Some bus protocols have multiple files with additional functionalities. Some of the widgets also have multiple flavors based on functionality.&nbsp;</span></p>
<p class="rvps2"><span class="rvts34">Widgets contain `defines for sync and async functionality. Instead of macros in the Verilog widget file, we have decided to extend the scope of sync/async reset property to select the corresponding reset functionality for the bus widget.</span></p>
<p class="rvps2"><span class="rvts34">To avoid redundancy of work and too many similar properties, following enhancements are done for “widget” property:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">1. Macros are replaced with parameters in the generated widgets</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38">Bus widgets are enhanced to replace all `defines with parameters. Therefore, the sync/async defines in the existing widget code will be removed and replaced by a parameter.&nbsp;</span></p>
<p class="rvps2"><span class="rvts38">"reset_type" property will be used to determine the value of the parameter.</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts118">Note- APB ‘ff’ and ‘pulse_pready’ versions work only on async</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38">For example:</span></p>
<p class="rvps2"><span class="rvts38">If the property reset_type=async is used, then the highlighted change will now be observed in the output Verilog file where the widget is instantiated:</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts473">.&nbsp; .&nbsp; .</span></p>
<p class="rvps2"><span class="rvts1371">apb_widget #(.addr_width(addr_width), .bus_width(bus_width), </span><span class="rvts1372">.</span><span class="rvts1373">reset_type(async)</span><span class="rvts1372">)</span><span class="rvts1371"> apb(</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pclk(pclk),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .presetn(presetn),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwdata(pwdata),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .paddr(paddr),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .prdata(prdata),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pready(pready),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwrite(pwrite),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot(pprot),</span></p>
<p class="rvps2"><span class="rvts1371">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot_i(pprot_i),</span></p>
<p class="rvps2"><span class="rvts1371">.&nbsp; .&nbsp; .</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">2. S</span><span class="rvts31">ingle widget file will be generated with a customized name in the output directory for specified flavor in the widget property</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts38">A single widget file will now be generated in the output directory for specified widget flavor as given in the second argument of the widget property and the same would be instantiated in the generated RTL.</span></p>
<p class="rvps2"><span class="rvts38">The generated widget file will have the customized file name depending on the third argument of the widget property. The name of the module in the generated widget and so also at its RTL instantiation will be modified as per the third argument of the widget property.</span></p>
<p class="rvps2"><span class="rvts38">Suppose the widget property is applied in the specification as shown below:-</span></p>
<p class="rvps3"><span class="rvts38">“ widget=apb:ff:apb_widget_mod “</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38">This will generate the ‘ff’ version of the apb widget&nbsp; with name ‘apb_widget_mod.v’ and the having module with name ‘apb_widget_mod’ that is instantiated in the RTL. The following highlighted change will appear in the output Verilog file:</span></p>
<p class="rvps2"><span class="rvts473">.&nbsp; .&nbsp; .</span></p>
<p class="rvps2"><span class="rvts403">apb_widget_mod</span><span class="rvts473">&nbsp; #(.addr_width(addr_width), .bus_width(bus_width) ) apb(</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pclk(pclk),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .presetn(presetn),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwdata(pwdata),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .paddr(paddr),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .prdata(prdata),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pready(pready),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwrite(pwrite),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot(pprot),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot_i(pprot_i),</span></p>
<p class="rvps2"><span class="rvts473">.&nbsp; .&nbsp; .</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38">In case the following properties are applied in the specification:</span></p>
<p class="rvps2"><span class="rvts72">a) </span><span class="rvts38">Widget=apb:default:apb_widget</span></p>
<p class="rvps2"><span class="rvts72">b)&nbsp;</span><span class="rvts38">reset_type=async</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts38">The default widget flavor the apb is to be generated with name ‘apb_widget.v’ and having&nbsp;module named as ‘apb_widget’.&nbsp; The RTL output now generated will have the following changes:</span></p>
<p class="rvps2"><span class="rvts473"><br/></span></p>
<p class="rvps2"><span class="rvts473">. &nbsp;.&nbsp; .</span></p>
<p class="rvps2"><span class="rvts473">apb_widget #(.addr_width(addr_width), .bus_width(bus_width), </span><span class="rvts1374">.reset_type(async))</span><span class="rvts473"> apb(</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pclk(pclk),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .presetn(presetn),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwdata(pwdata),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .paddr(paddr),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .prdata(prdata),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pready(pready),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pwrite(pwrite),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot(pprot),</span></p>
<p class="rvps2"><span class="rvts473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .pprot_i(pprot_i),</span></p>
<p class="rvps2"><span class="rvts473">.&nbsp; .&nbsp; .</span></p>
<p class="rvps2"><a name="Widget_with_mbd"></a><span class="rvts473"><br/></span></p>
<p class="rvps14"><span class="rvts35">Widget Property With Multiple Bus Domain</span><span class="rvts393">(IDSBatch v 7.16.0.0 onwards):</span></p>
<p class="rvps2"><span class="rvts118"><br/></span></p>
<p class="rvps694"><span class="rvts34">The ‘widget’ property can be applied on top(chip/block) to generate specific static modules (interface widgets) at run time that are instantiated in the generated block level&nbsp; RTL based on the property values and the top bus option. The property allows the user to customize the name of the generated static file as well as the module name in it.&nbsp;</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps694"><span class="rvts34">This property has now been enhanced to support MBD and generate required modules that correspond to the used interfaces in the generated RTL. There may be following two scenarios where the enhanced property can be used in MBD flow of the tool -</span></p>
<p class="rvps12"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 40px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps12 noindent"><span class="rvts34">Multiple bus domains in a chip level case where each block address-map corresponds to a particular register interface.&nbsp;</span></li>
</ul>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">Here the bus interface in each block inside a chip addrmap would generate a separate static file corresponding to the module instantiated. The property is to be used separately in each block and the static widgets will have changes as per the user arguments in the property. This flow would have no effect in case of with/without multi-out option used in a run to generate separate block level IPs.</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 40px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps12 noindent"><span class="rvts34">Multiple interfaces in block level cases where some components of the block are on one interface and some on another. Each interface in the block address-map would generate its corresponding static widget.</span></li>
</ul>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">The property has been extended/enhanced to accept comma separated values to access information on all the interfaces used inside the block. Each interface in the block address-map would generate its corresponding static widget as per the argument values.</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">For e.g.;&nbsp;</span></p>
<p class="rvps161"><span class="rvts34">If interfaces intf1 and intf2 corresponding to APB and AXI register interface are used in a block addrmap where some block components are associated with intf1 and some with intf2, then the property ‘widget’ is to be used as below on the block addrmap –</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts347">{widget=apb:default:module1,axi:default:module2}</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">The above usage would generate the default flavor AMBA-APB widget with name </span><span class="rvts347">‘module1.v’</span><span class="rvts34"> and the name of the module would also change to ‘module1’ inside the widget file as well as in the RTL during instantiation.&nbsp; In the block level RTL, it would be instantiated as –</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts347">module1 #(&lt;parameters&gt;) intf1 _apb (&lt;port connections&gt;);</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">Similarly,</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts34">The above usage of the property would generate the default flavor AMBA-AXI widget with name </span><span class="rvts347">‘module2.v’</span><span class="rvts34"> and the name of the module would also change to ‘module2’ inside the widget file as well as in the RTL during instantiation.&nbsp; In the block level RTL, it would be instantiated as –</span></p>
<p class="rvps12"><span class="rvts29"><br/></span></p>
<p class="rvps161"><span class="rvts347">Module2 #(&lt;parameters&gt;) intf2 _axi (&lt;port connections&gt;);</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts118"><br/></span></p>
<p class="rvps2"><span class="rvts118">Note-</span></p>
<p class="rvps2"><span class="rvts118">1. The first argument of the widget property is compulsory to identify the widget that is to be used in the RTL. However, the other two arguments can be left blank which will proceed with default generation of widget and its RTL instantiation.</span></p>
<p class="rvps2"><span class="rvts118">2. For generating the vhdl widget file, it is mandatory to use the </span><span class="rvts55">-fast_vhdl switch along with -out vhdl.</span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38"><br/></span></p>
<p class="rvps2"><span class="rvts38"></span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpauthoringsoftware.com">What is a Help Authoring tool?</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

