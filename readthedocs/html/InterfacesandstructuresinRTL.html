

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Interfaces and structures in RTL</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Advanced Topics">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Interfaces and structures in RTL">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Interfaces and structures in RTL" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="InterfacesandstructuresinRTL"
		  data-hnd-context="378"
		  data-hnd-title="Interfaces and structures in RTL"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="AdvancedTopics.html">Advanced Topics</a></li><li><a href="AdvancedRTL.html">Advanced RTL</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="AdvancedRTL.html" title="Advanced RTL" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="FieldErrorSignal.html" title="Field Error Signal" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="InsertingdelaysinRTL.html" title="Inserting delays in RTL" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Interfaces and structures in RTL</h2>

            <div class="main-content">
                
<p class="rvps2"><a name="sv_inf"></a><span class="rvts198"><br/></span></p>
<p class="rvps2"><span class="rvts14">In system verilog, by default, interfaces are created for every register used in the input specification. However, for creating intefaces of a section or for creating structures in sv, IDS has property 'sv_interface'. This property can take up following values:</span></p>
<p class="rvps2"><span class="rvts14">1. sv_interface = true , for creating interfaces, for more info </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#true">click here</a></p>
<p class="rvps2"><span class="rvts14">2. sv_interface = struct, for creating structures, for more info </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#sv_struct">click here</a><span class="rvts14">&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">3. </span><span class="rvts36">sv_interface=struct:bus_inf or sv_interface=struct:bus_struct, for more info </span><a class="rvts41" href="InterfacesandstructuresinRTL.html#sv_interface=struct:bus_struct">click here</a></p>
<p class="rvps2"><span class="rvts43"><br/></span></p>
<p class="rvps2"><span class="rvts43">Structures in sv are also supported for&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps6 noindent"><span class="rvts43">signals, for more info, </span><a class="rvts41" href="InterfacesandstructuresinRTL.html#Signal%20inside%20struct">click here</a><span class="rvts43">&nbsp;</span></li>
  <li class="rvps6 noindent"><span class="rvts43">chip-inside-chip flow, for more info, </span><a class="rvts41" href="Chip-inside-ChipFlow.html#sv_interface">click here</a></li>
 </ul>
</ul>
<p class="rvps2"><span class="rvts198"><br/></span></p>
<p class="rvps2"><a name="true"></a><span class="rvts16">sv_interface=true</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">"sv_interface=true" property has been introduced for making separate interface/s for section/s(reggroup) when output is given as SystemVerilog.</span></p>
<p class="rvps2"><span class="rvts14">Without this property separate interfaces for every register will be formed.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">This property can be applied over section template.</span></p>
<p class="rvps2"><span class="rvts395"><br/></span></p>
<p class="rvps2"><span class="rvts36">The example below represents how sv_interface property is applied in IDS. Here, the Section2 lies inside Section1 and the property is applied on Section1 template.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example</span><span class="rvts15">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/sv_interface/sv_interface.zip">IDS-NG</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/sv_interface/sv_interface.docx">IDS-Word</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/sv_interface/sv_interface.xlsx">IDS-Excel</a><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/sv_interface/sv_interface.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 585px; height : 323px; padding : 1px;" src="lib/NewItem5134.png"></p>
<p class="rvps3"><img alt="" style="width : 579px; height : 277px; padding : 1px;" src="lib/NewItem5135.png"></p>
<p class="rvps3"><img alt="" style="width : 581px; height : 130px; padding : 1px;" src="lib/NewItem5136.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 731px; height : 330px; padding : 1px;" src="lib/NewItem5137.png"><img alt="" style="width : 731px; height : 81px; padding : 1px;" src="lib/NewItem5138.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts385">property sv_interface {type = boolean; component = regfile;};</span></p>
   <p class="rvps2"><span class="rvts356">addrmap Block1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;regfile Section1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span><span class="rvts385">sv_interface = true;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;reg Reg1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;}R1[31:1];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;reg Reg2 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;}R1[31:1];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;regfile Section2 {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;reg Reg3 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}R1[31:1];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;Reg3 Reg3;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;Reg1 Reg1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;Reg2 Reg2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;Section2 Section2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; regfile Section3 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg Reg4 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; hw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; }R1[31:1];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; }; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Reg4 Reg4;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;Section1 Section1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;Section3 Section3;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts260">Generate code</span><span class="rvts14">&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts14">The </span><span class="rvts15">system verilog code</span><span class="rvts14"> thus generated is given as follows:</span></p>
   <p class="rvps2"><span class="rvts14"><br/></span></p>
   <p class="rvps2"><span class="rvts356">module Block1_IDS_wrapper</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; #(</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // &nbsp;PARAMETERS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 4,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter block_offset &nbsp; = 'h0,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter Block1_address_width = addr_width</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_Section1_interface &nbsp; Block1_Section1_if,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_Section3_Reg4_interface.mp &nbsp; Block1_Section3_Reg4_if,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; IDS_apb_if.apb_mp Block1_apb_if</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Module Instantiation</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS #(.addr_width(addr_width), .bus_width(bus_width), .block_offset(block_offset)) Block1IDS (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //Block1_IDS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg1_enb(Block1_Section1_if.Section1_Reg1_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg1_R1_in_enb(Block1_Section1_if.Section1_Reg1_R1_in_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg1_R1_in(Block1_Section1_if.Section1_Reg1_R1_in),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg1_R1_r (Block1_Section1_if.Section1_Reg1_R1_r),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg2_enb(Block1_Section1_if.Section1_Reg2_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg2_R1_in_enb(Block1_Section1_if.Section1_Reg2_R1_in_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg2_R1_in(Block1_Section1_if.Section1_Reg2_R1_in),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section1_Reg2_R1_r (Block1_Section1_if.Section1_Reg2_R1_r),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section2_Reg3_enb(Block1_Section1_if.Section2_Reg3_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section2_Reg3_R1_in_enb(Block1_Section1_if.Section2_Reg3_R1_in_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section2_Reg3_R1_in(Block1_Section1_if.Section2_Reg3_R1_in),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section2_Reg3_R1_r (Block1_Section1_if.Section2_Reg3_R1_r),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section3_Reg4_enb(Block1_Section3_Reg4_if.Section3_Reg4_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section3_Reg4_R1_in_enb(Block1_Section3_Reg4_if.Section3_Reg4_R1_in_enb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section3_Reg4_R1_in(Block1_Section3_Reg4_if.Section3_Reg4_R1_in),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Section3_Reg4_R1_r (Block1_Section3_Reg4_if.Section3_Reg4_R1_r),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pclk(Block1_apb_if.pclk),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .presetn(Block1_apb_if.presetn),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .psel(Block1_apb_if.psel),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .penable(Block1_apb_if.penable),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pwrite(Block1_apb_if.pwrite),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pprot(Block1_apb_if.pprot),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pstrb(Block1_apb_if.pstrb),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pwdata(Block1_apb_if.pwdata),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .paddr(Block1_apb_if.paddr),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pready(Block1_apb_if.pready),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .prdata(Block1_apb_if.prdata),</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pslverr(Block1_apb_if.pslverr)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Instantiation End</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">endmodule</span></p>
   <p class="rvps2"><span class="rvts14"><br/></span></p>
   <p class="rvps2"><span class="rvts14">And, the corresponding</span><span class="rvts15"> sv interface</span><span class="rvts14"> generated will be as follows:</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">// INTERFACE : SECTION1</span></p>
   <p class="rvps2"><span class="rvts356">interface Block1_Section1_interface # (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 4</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic Section1_Reg1_enb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; Section1_Reg1_R1_in_enb ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp;[30 : 0] Section1_Reg1_R1_r ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; [30 : 0] Section1_Reg1_R1_in ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic Section1_Reg2_enb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; Section1_Reg2_R1_in_enb ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp;[30 : 0] Section1_Reg2_R1_r ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; [30 : 0] Section1_Reg2_R1_in ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic Section2_Reg3_enb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; Section2_Reg3_R1_in_enb ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp;[30 : 0] Section2_Reg3_R1_r ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; [30 : 0] Section2_Reg3_R1_in ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; modport mp (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section1_Reg1_R1_in_enb, Section1_Reg1_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section1_Reg1_enb, Section1_Reg1_R1_r,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section1_Reg2_R1_in_enb, Section1_Reg2_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section1_Reg2_enb, Section1_Reg2_R1_r,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section2_Reg3_R1_in_enb, Section2_Reg3_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section2_Reg3_enb, Section2_Reg3_R1_r);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; modport op (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section1_Reg1_R1_in_enb, Section1_Reg1_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section1_Reg1_enb, Section1_Reg1_R1_r,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section1_Reg2_R1_in_enb, Section1_Reg2_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section1_Reg2_enb, Section1_Reg2_R1_r,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section2_Reg3_R1_in_enb, Section2_Reg3_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section2_Reg3_enb, Section2_Reg3_R1_r);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">endinterface</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">// INTERFACE : REG4</span></p>
   <p class="rvps2"><span class="rvts356">interface Block1_Section3_Reg4_interface # (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 4</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic Section3_Reg4_enb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; Section3_Reg4_R1_in_enb ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp;[30 : 0] Section3_Reg4_R1_r ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic &nbsp; [30 : 0] Section3_Reg4_R1_in ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; modport mp (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section3_Reg4_R1_in_enb, Section3_Reg4_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section3_Reg4_enb, Section3_Reg4_R1_r);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; modport op (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Section3_Reg4_R1_in_enb, Section3_Reg4_R1_in,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Section3_Reg4_enb, Section3_Reg4_R1_r);</span></p>
   <p class="rvps2"><span class="rvts356">endinterface</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><a name="sv_struct"></a><span class="rvts329">sv_interface=struct</span></p>
<p class="rvps2"><span class="rvts198"><br/></span></p>
<p class="rvps10"><span class="rvts35">“sv_interface=struct” </span><span class="rvts34">property is applied only on the top node. This property is used for creating struct instead of interfaces in system verilog. For every register, there will be two structs: one for hardware to block (input) and another for block to hardware(output) inside the package. This is done to avoid confusion between input and output ports.</span></p>
<p class="rvps10"><span class="rvts99">&nbsp;</span></p>
<p class="rvps10"><span class="rvts34">In case of section and bus, separate package files are created for section and bus respectively, which are further imported in the block package file and then block package file is imported inside the top wrapper file.</span></p>
<p class="rvps10"><span class="rvts34"><br/></span></p>
<p class="rvps10"><span class="rvts34">It also works for repeated section/register, external, and block. For example on repeat, </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#repeat%20on%20block">click here</a><span class="rvts34"> and for external register, </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#external%20reg%20example">click here</a><span class="rvts34">.</span></p>
<p class="rvps10"><span class="rvts34"><br/></span></p>
<p class="rvps10"><a name="section inside section"></a><span class="rvts34">From 6.42.0.0 onwards, </span><span class="rvts35">“sv_interface=struct”</span><span class="rvts34"> property is also supported for sections inside sections, where a separate structure file for each section will be created, (for example, </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#section%20inside%20section%20struct">click here</a><span class="rvts34">) &nbsp;and signals (for example, </span><a class="rvts23" href="InterfacesandstructuresinRTL.html#Signal%20inside%20struct">click here</a><span class="rvts34">)</span></p>
<p class="rvps10"><span class="rvts34"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3353.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts16">RDL Spec:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts385">property sv_interface {type = string; component = addrmap ; };</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap block_name {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; desc = "GMC Level RDL Description";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `include agnisys_ip1.rdl</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span><span class="rvts385">sv_interface = "struct";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;section1 section1[2] @0x0400;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts1296">//// agnisys_ip1.rdl &nbsp;////</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap section1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; name = "agnisys_ip1 Address Map";</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg reg_name {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; field {} f1[2:0];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg_name reg_name[6] @0x00;</span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts16">In IDS-Word</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3181.png"></p>
<p class="rvps2"><span class="rvts16">In IDS-Excel</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3296.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts16">IDS_Wrapper :-&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><img alt="" style="width : 697px; height : 384px; padding : 1px;" src="lib/NewItem3190.png"></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts16">Section_pkg:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3189.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts16">Block_pkg:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3188.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><a name="external reg example"></a><span class="rvts27">RDL Spec: For external register</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">property sv_interface {type = string; component = addrmap ; };</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap block1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; desc = "GMC Level RDL Description";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `include agnisys_ip2.rdl</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;sv_interface = "struct";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;section1 section1[2];</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts1296">//// &nbsp;agnisys_ip2.rdl &nbsp;////</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap section1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; name = "agnisys_ip2 Address Map";</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg reg_name {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; field {} F1[0:0];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; field {} F2[13:8] = 6'h20;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; external reg_name reg_name[6] @0x00;</span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts27">IDS_Wrapper :</span></p>
<p class="rvps2"><img alt="" style="width : 697px; height : 421px; padding : 1px;" src="lib/NewItem3185.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts16">Section Pkg:</span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3184.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts16">Block_pkg:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3183.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts16">External_pkg:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3182.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts16">Chip package:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">`include "blockname_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts356">`include "blockname2_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">package chipname_pkg;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">//----------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">// parameters and structs</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">`ifdef blockname_count</span></p>
   <p class="rvps2"><span class="rvts356">parameter blockname_count = `blockname_count;</span></p>
   <p class="rvps2"><span class="rvts356">`else</span></p>
   <p class="rvps2"><span class="rvts356">parameter blockname_count = 2;</span></p>
   <p class="rvps2"><span class="rvts356">`endif</span></p>
   <p class="rvps2"><span class="rvts356">import blockname_pkg::*;</span></p>
   <p class="rvps2"><span class="rvts356">import blockname2_pkg::*;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">// structs for blocks</span></p>
   <p class="rvps2"><span class="rvts356">//HW 2 CSR</span></p>
   <p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
   <p class="rvps2"><span class="rvts356">blockname_h2c &nbsp;[blockname_count - 1 : 0] blockname;</span></p>
   <p class="rvps2"><span class="rvts356">blockname2_h2c &nbsp;blockname2;</span></p>
   <p class="rvps2"><span class="rvts356">}chipname_h2c;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">//CSR 2 HW</span></p>
   <p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
   <p class="rvps2"><span class="rvts356">blockname_c2h &nbsp;[blockname_count - 1 : 0] blockname;</span></p>
   <p class="rvps2"><span class="rvts356">blockname2_c2h &nbsp;blockname2;</span></p>
   <p class="rvps2"><span class="rvts356">}chipname_c2h;</span></p>
   <p class="rvps2"><span class="rvts356">endpackage</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts16">Wrapper module:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts385">`include "chipname_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts385">`include "chip.v"</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">module chipname_wrapper</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; #(</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // &nbsp;PARAMETERS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 6,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter &nbsp;blockname_reggroup1_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname_IDSreggroup1_address_width= addr_width,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter &nbsp;blockname2_reggroup2_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname2_IDSreggroup2_address_width= addr_width</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">input pclk,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input presetn,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output pslverr,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output pready,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input &nbsp;chipname_pkg::chipname_h2c &nbsp;chipname_h2c_in,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output &nbsp;chipname_pkg::chipname_c2h &nbsp;chipname_c2h_out,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input &nbsp;apb_pkg::apb_req &nbsp;apb_req_bus,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output &nbsp;apb_pkg::apb_resp &nbsp;apb_resp_bus</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; genvar blockname_i;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [blockname_count * addr_width -1 : 0] blockname_IDSaddress_out;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [blockname_count * bus_width -1 : 0] blockname_IDSwr_data_out;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; generate</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; for ( blockname_i=0; blockname_i &lt; blockname_count; blockname_i = blockname_i+1)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin : blockname_external_block</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">assign chipname_c2h_out.blockname[blockname_i].externalSignal.blockname_IDSaddress_out = blockname_IDSaddress_out[(blockname_i * addr_width)+addr_width -1 : (blockname_i * addr_width)];</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign &nbsp; chipname_c2h_out.blockname[blockname_i].externalSignal.blockname_IDSwr_data_out = blockname_IDSwr_data_out[(blockname_i * bus_width)+bus_width -1 : (blockname_i * bus_width)];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endgenerate</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts385"><br/></span></p>
<p class="rvps2"><span class="rvts16">In SystemRDL</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">property sv_interface {type = string; component = addrmap;};</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap chipname {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; sv_interface="struct" ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; addrmap blockname {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">reg regname {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;} F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg Externalreg {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; addrmap reggroup1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; reg regname {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; regname regname @0x00;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; regname regname @0x00;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; external Externalreg Externalreg @0x04;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reggroup1 &nbsp;reggroup1[2] @0x08;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; addrmap blockname2 { &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg regname1 {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg Externalreg1 {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; addrmap reggroup2 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; reg regname2 {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; field {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; regname2 regname2 @0x00;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; regname1 regname1 @0x00;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; external Externalreg1 Externalreg1 @0x04;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reggroup2 &nbsp;reggroup2[2] @0x08;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; blockname &nbsp;blockname[2] @0x00;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; blockname2 &nbsp;blockname2 @0x20;</span></p>
   <p class="rvps2"><span class="rvts356">};</span><span class="rvts14">&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><a name="repeat on block"></a><span class="rvts171">In case of chip with repeat/without repeat on block</span></p>
<p class="rvps2"><span class="rvts19"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3354.png"></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3355.png"></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3356.png"></p>
<p class="rvps2"><span class="rvts20">Generated Output:</span></p>
<p class="rvps2"><span class="rvts20"><br/></span></p>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<div class="rvps10">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts6">apb_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6">external_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6"><br/></span></p>
   <p class="rvps2"><span class="rvts6">blockname_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6">blockname_wrapper.sv</span></p>
   <p class="rvps2"><span class="rvts6"><br/></span></p>
   <p class="rvps2"><span class="rvts6">blockname2_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6">blockname2_wrapper.sv</span></p>
   <p class="rvps2"><span class="rvts6"><br/></span></p>
   <p class="rvps2"><span class="rvts6">chipname.v</span></p>
   <p class="rvps2"><span class="rvts6">chipname_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6">chipname_wrapper.sv</span></p>
   <p class="rvps2"><span class="rvts6"><br/></span></p>
   <p class="rvps2"><span class="rvts6">reggroup1_pkg.sv</span></p>
   <p class="rvps2"><span class="rvts6">reggroup2_pkg.sv&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps10"><span class="rvts356"><br/></span></p>
<p class="rvps10"><span class="rvts6"><br/></span></p>
<p class="rvps191"><img alt="" style="padding : 1px;" src="lib/NewItem3358.png"></p>
<p class="rvps191"><img alt="" style="padding : 1px;" src="lib/NewItem3359.png"></p>
<p class="rvps2"><span class="rvts35">Chip package code:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts367">Chip package:-&nbsp;</span></p>
   <p class="rvps2"><span class="rvts367"><br/></span></p>
   <p class="rvps2"><span class="rvts356">`include "blockname_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts356">`include "blockname2_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">package chipname_pkg;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">//----------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">// parameters and structs</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">`ifdef blockname_count</span></p>
   <p class="rvps2"><span class="rvts356">parameter blockname_count = `blockname_count;</span></p>
   <p class="rvps2"><span class="rvts356">`else</span></p>
   <p class="rvps2"><span class="rvts356">parameter blockname_count = 2;</span></p>
   <p class="rvps2"><span class="rvts356">`endif</span></p>
   <p class="rvps2"><span class="rvts356">import blockname_pkg::*;</span></p>
   <p class="rvps2"><span class="rvts356">import blockname2_pkg::*;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">// structs for blocks</span></p>
   <p class="rvps2"><span class="rvts356">//HW 2 CSR</span></p>
   <p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
   <p class="rvps2"><span class="rvts356">blockname_h2c &nbsp;[blockname_count - 1 : 0] blockname;</span></p>
   <p class="rvps2"><span class="rvts356">blockname2_h2c &nbsp;blockname2;</span></p>
   <p class="rvps2"><span class="rvts356">}chipname_h2c;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">//CSR 2 HW</span></p>
   <p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
   <p class="rvps2"><span class="rvts356">blockname_c2h &nbsp;[blockname_count - 1 : 0] blockname;</span></p>
   <p class="rvps2"><span class="rvts356">blockname2_c2h &nbsp;blockname2;</span></p>
   <p class="rvps2"><span class="rvts356">}chipname_c2h;</span></p>
   <p class="rvps2"><span class="rvts356">endpackage</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts96"><br/></span></p>
<p class="rvps2"><span class="rvts15">Chip wrapper code:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 1px 10px;">
   <p class="rvps2"><span class="rvts385">`include "chipname_pkg.sv"</span></p>
   <p class="rvps2"><span class="rvts385">`include "chip.v"</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">module chipname_wrapper</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; #(</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // &nbsp;PARAMETERS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 6,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter &nbsp;blockname_reggroup1_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname_IDSreggroup1_address_width= addr_width,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter &nbsp;blockname2_reggroup2_count = 2,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter blockname2_IDSreggroup2_address_width= addr_width</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; (</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">input pclk,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input presetn,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output pslverr,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output pready,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input &nbsp;chipname_pkg::chipname_h2c &nbsp;chipname_h2c_in,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output &nbsp;chipname_pkg::chipname_c2h &nbsp;chipname_c2h_out,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; input &nbsp;apb_pkg::apb_req &nbsp;apb_req_bus,</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; output &nbsp;apb_pkg::apb_resp &nbsp;apb_resp_bus</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; genvar blockname_i;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [blockname_count * addr_width -1 : 0] blockname_IDSaddress_out;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [blockname_count * bus_width -1 : 0] blockname_IDSwr_data_out;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; generate</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; for ( blockname_i=0; blockname_i &lt; blockname_count; blockname_i = blockname_i+1)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin : blockname_external_block</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">assign chipname_c2h_out.blockname[blockname_i].externalSignal.blockname_IDSaddress_out = blockname_IDSaddress_out[(blockname_i * addr_width)+addr_width -1 : (blockname_i * addr_width)];</span></p>
   <p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; assign &nbsp; chipname_c2h_out.blockname[blockname_i].externalSignal.blockname_IDSwr_data_out = blockname_IDSwr_data_out[(blockname_i * bus_width)+bus_width -1 : (blockname_i * bus_width)];</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endgenerate</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><a name="section inside section struct"></a><span class="rvts16">Section inside Section</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts15">In SystemRDL:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts385">property sv_interface {type=string; component=addrmap; } ;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">addrmap block1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;sv_interface="struct";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regfile {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;regfile {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;reg reg1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; field { }f1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}reg1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}sec2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }sec1;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">};&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Code :</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">System Verilog-</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block package:</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`include "sec1_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts356">package block1_pkg;</span></p>
<p class="rvps2"><span class="rvts356">import sec1_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for a single block1</span></p>
<p class="rvps2"><span class="rvts356">//HW 2 CSR</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">sec1_h2c sec1;</span></p>
<p class="rvps2"><span class="rvts356">}block1_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">//CSR 2 HW</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">sec1_c2h sec1;</span></p>
<p class="rvps2"><span class="rvts356">}block1_c2h;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts940">Section 'sec1' package:</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`include "sec2_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts356">package sec1_pkg;</span></p>
<p class="rvps2"><span class="rvts356">import sec2_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for a single sec1</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">sec2_h2c sec2;</span></p>
<p class="rvps2"><span class="rvts356">}sec1_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">sec2_c2h sec2;</span></p>
<p class="rvps2"><span class="rvts356">}sec1_c2h;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts940">Section 'sec2'(section inside section 'sec1') package:</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">package sec1_pkg;</span></p>
<p class="rvps2"><span class="rvts356">import sec2_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for REG1</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">logic f1_in_enb;</span></p>
<p class="rvps2"><span class="rvts356">logic f1_in;</span></p>
<p class="rvps2"><span class="rvts356">}sec2_reg1_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">logic enb;</span></p>
<p class="rvps2"><span class="rvts356">logic f1_r;</span></p>
<p class="rvps2"><span class="rvts356">}sec2_reg1_c2h;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block wrapper:</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`include "block1_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts356">`include "block1.v"</span></p>
<p class="rvps2"><span class="rvts356">module block1_IDS_wrapper</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; #(</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // &nbsp;PARAMETERS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 2,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter block_offset &nbsp; = 'h0,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter block1_address_width = addr_width</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; )</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; (</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // apb signal</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input pclk,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input presetn,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input psel,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input penable,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input pwrite,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [2 : 0] pprot,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width/8-1 : 0] pstrb,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width-1 : 0] pwdata,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [addr_width-1 : 0] paddr,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output pready,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width-1 : 0] prdata,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output pslverr,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input &nbsp;block1_pkg::block1_h2c &nbsp;block1_h2c_in,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output &nbsp;block1_pkg::block1_c2h &nbsp;block1_c2h_out</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; import block1_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Module Instantiation</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; block1_IDS #(.addr_width(addr_width), .bus_width(bus_width), .block_offset(block_offset)) block1IDS (</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //block1_IDS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .sec2_reg1_enb(block1_c2h_out.sec1.sec2.reg1.enb),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .sec2_reg1_f1_in_enb(block1_h2c_in.sec1.sec2.reg1.f1_in_enb),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .sec2_reg1_f1_in(block1_h2c_in.sec1.sec2.reg1.f1_in),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .sec2_reg1_f1_r(block1_c2h_out.sec1.sec2.reg1.f1_r),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pclk(pclk),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .presetn(presetn),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .psel(psel),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .penable(penable),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pwrite(pwrite),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pprot(pprot),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pstrb(pstrb),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pwdata(pwdata),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .paddr(paddr),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pready(pready),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .prdata(prdata),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .pslverr(pslverr)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Instantiation End</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">endmodule</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><a name="Signal inside struct"></a><span class="rvts16">Signals inside struct</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">In IDesignSpec</span><span class="rvts1087">TM</span><span class="rvts14"> signals are supported in interfaces in SystemVerilog output. “Signals” connect certain internal design signals to the external world. With the enhancement of Structs in SystemVerilog, &nbsp;signals are handled inside structs as &nbsp;they were supported in Interfaces.</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts821"><br/></span></p>
<p class="rvps2"><span class="rvts15">In SystemRDL:</span></p>
<p class="rvps2"><span class="rvts356">property buffer_trig_reg {type = string; component = reg;};&nbsp;</span></p>
<p class="rvps2"><span class="rvts422">property sv_interface {type = string; component = chip;};</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">addrmap blockname {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; name &nbsp;= "blockname Address Map";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">sv_interface = "struct" ;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; signal { activelow; sync; signalwidth = 1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;desc= " This signal is sync and activelow with width 1"; } S1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; signal { activelow; sync; signalwidth = 1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;desc= " This signal is sync and activelow with width 1"; } S2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; signal { activelow; sync; signalwidth = 1;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;desc= " This signal is sync and activelow with width 1"; } S3;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg Reg6 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;buffer_trig_reg = "S1:w,S2:r" ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F3[31:0] = 32'h01;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Reg6 Reg6 @0x0;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; };&nbsp;</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts16">In IDS-Word</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3428.png"></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts15">Code :</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">System Verilog-</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block package</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">package blockname_pkg;</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed { &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic S1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic S2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; logic S3;</span></p>
<p class="rvps2"><span class="rvts356">}signal_input; // For input as well as inout signals</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">...</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for a single blockname</span></p>
<p class="rvps2"><span class="rvts356">//HW 2 CSR</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">blockname_Reg6_h2c &nbsp;Reg6;</span></p>
<p class="rvps2"><span class="rvts385">signal_input sig_in;</span></p>
<p class="rvps2"><span class="rvts356">}blockname_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block Wrapper</span></p>
<p class="rvps2"><span class="rvts356">module blockname_IDS_wrapper</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; (</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ....</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input &nbsp;blockname_pkg::blockname_h2c &nbsp;blockname_h2c_in</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; import blockname_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Module Instantiation</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; blockname_IDS #(.addr_width(addr_width), .bus_width(bus_width), .block_offset(block_offset)) blocknameIDS (</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //blockname_IDS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Reg6_enb(blockname_c2h_out.Reg6.enb),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Reg6_F3_in_enb(blockname_h2c_in.Reg6.F3_in_enb),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Reg6_F3_in(blockname_h2c_in.Reg6.F3_in),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .Reg6_F3_r(blockname_c2h_out.Reg6.F3_r),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //Signals &nbsp;: SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">.S1(blockname_h2c_in.sig_in.S1),</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; .S2(blockname_h2c_in.sig_in.S2),</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; .S3(blockname_h2c_in.sig_in.S3),</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ...</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Instantiation End</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">endmodule</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><a name="ExternalSection"></a><span class="rvts27">For External Section:</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts15">In SystemRDL:</span></p>
<p class="rvps2"><span class="rvts356">property sv_interface {type=string; component=addrmap; } ;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">addrmap block {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span><span class="rvts385"> sv_interface="struct"</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; regfile {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;reg reg1 &nbsp;{</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;regwidth=32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;field { } f1[31:0];</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}reg1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;}external sec1;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;};</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">In IDS-WORD:</span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3455.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">In IDS-EXCEL:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem3456.png"></p>
<p class="rvps2"><span class="rvts15">Code :</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">System Verilog-</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block package</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`include "external_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts356">`include "sec1_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">package block_pkg;</span></p>
<p class="rvps2"><span class="rvts356">import sec1_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">import external_pkg::*;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for a single block</span></p>
<p class="rvps2"><span class="rvts356">//HW 2 CSR</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">sec1_h2c &nbsp;sec1;</span></p>
<p class="rvps2"><span class="rvts356">}block_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">//CSR 2 HW</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356">externalSignal_block &nbsp;externalSignal;</span></p>
<p class="rvps2"><span class="rvts356">sec1_c2h &nbsp;sec1;</span></p>
<p class="rvps2"><span class="rvts356">}block_c2h;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts940">Block Wrapper</span></p>
<p class="rvps2"><span class="rvts940"><br/></span></p>
<p class="rvps2"><span class="rvts420">`include "block_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts420">`include "block.v"</span></p>
<p class="rvps2"><span class="rvts420"><br/></span></p>
<p class="rvps2"><span class="rvts420">module block_IDS_wrapper</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; (</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; . . .</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; </span><span class="rvts422">input &nbsp;block_pkg::block_h2c &nbsp;block_h2c_in,</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; output &nbsp;block_pkg::block_c2h &nbsp;block_c2h_out</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; import block_pkg::*;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; // Module Instantiation</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; block_IDS #(.addr_width(addr_width), .bus_width(bus_width), .block_offset(block_offset)) blockIDS (</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; //block_IDS</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; </span><span class="rvts422">.sec1_rd_ack_in(block_h2c_in.sec1.sec1_rd_ack_in),</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; .sec1_rd_data_in(block_h2c_in.sec1.sec1_rd_data_in),</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; .sec1_rd_valid_out(block_c2h_out.sec1.sec1_rd_valid_out),</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; .sec1_wr_valid_out(block_c2h_out.sec1.sec1_wr_valid_out),</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; .sec1_wr_req_in(block_h2c_in.sec1.sec1_wr_req_in),</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; </span><span class="rvts422">.address_out(block_c2h_out.externalSignal.address_out),</span></p>
<p class="rvps2"><span class="rvts422">&nbsp; &nbsp; .wr_data_out(block_c2h_out.externalSignal.wr_data_out),</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;. . .</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp; // Instantiation End</span></p>
<p class="rvps2"><span class="rvts420">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts420">endmodule</span></p>
<p class="rvps2"><span class="rvts19"><br/></span></p>
<p class="rvps2"><span class="rvts940">Section package</span></p>
<p class="rvps2"><span class="rvts940"><br/></span></p>
<p class="rvps2"><span class="rvts356">package sec1_pkg;</span></p>
<p class="rvps2"><span class="rvts356">// parameters and structs</span></p>
<p class="rvps2"><span class="rvts356">`ifdef bus_width</span></p>
<p class="rvps2"><span class="rvts356">parameter bus_width &nbsp; = `bus_width;</span></p>
<p class="rvps2"><span class="rvts356">`else</span></p>
<p class="rvps2"><span class="rvts356">parameter bus_width &nbsp; = 32;</span></p>
<p class="rvps2"><span class="rvts356">`endif</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// structs for a singlesec1</span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">logic sec1_rd_ack_in;</span></p>
<p class="rvps2"><span class="rvts356">logic [bus_width-1 : 0]sec1_rd_data_in;</span></p>
<p class="rvps2"><span class="rvts356">logic sec1_wr_req_in;</span></p>
<p class="rvps2"><span class="rvts356">}sec1_h2c;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">logic sec1_rd_valid_out;</span></p>
<p class="rvps2"><span class="rvts356">logic sec1_wr_valid_out;</span></p>
<p class="rvps2"><span class="rvts356">}sec1_c2h;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts940"><br/></span></p>
<p class="rvps2"><span class="rvts940">External Package</span></p>
<p class="rvps2"><span class="rvts940"><br/></span></p>
<p class="rvps2"><span class="rvts940"><br/></span></p>
<p class="rvps2"><span class="rvts356">package external_pkg;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`ifdef bus_width</span></p>
<p class="rvps2"><span class="rvts356">parameter bus_width &nbsp; = `bus_width;</span></p>
<p class="rvps2"><span class="rvts356">`else</span></p>
<p class="rvps2"><span class="rvts356">parameter bus_width &nbsp; = 32;</span></p>
<p class="rvps2"><span class="rvts356">`endif</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">`ifdef addr_width</span></p>
<p class="rvps2"><span class="rvts356">parameter addr_width &nbsp;= `addr_width;</span></p>
<p class="rvps2"><span class="rvts356">`else</span></p>
<p class="rvps2"><span class="rvts356">parameter addr_width &nbsp;= 2;</span></p>
<p class="rvps2"><span class="rvts356">`endif</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">logic [addr_width-1:0] address_out;</span></p>
<p class="rvps2"><span class="rvts356">logic [bus_width-1:0] wr_data_out;</span></p>
<p class="rvps2"><span class="rvts356">}externalSignal_block;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">endpackage</span></p>
<p class="rvps2"><span class="rvts19"><br/></span></p>
<p class="rvps2"><span class="rvts392">Note:</span><span class="rvts14">&nbsp;</span></p>
<p class="rvps2"><span class="rvts14">(1) </span><span class="rvts34">Currently IDS does not support {sv_interface=struct} &nbsp;property with deep hierarchy of section and external section.</span></p>
<p class="rvps2"><span class="rvts36">(2) Currently, IDS does not supports {sv_interface=struct} for AVALON , WISHBONE , SPI , I2C buses</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><a name="sv_interface=struct:bus_struct"></a><span class="rvts523">sv_interface=struct:bus_struct</span></p>
<p class="rvps2"><span class="rvts523"><br/></span></p>
<p class="rvps2"><span class="rvts27">Introduction</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">"sv_interface"</span><span class="rvts36"> property is applied only on the top node, as discussed in the previous sections too.&nbsp;</span></p>
<p class="rvps2"><span class="rvts346"><br/></span></p>
<p class="rvps2"><span class="rvts36">In case of section and bus, separate package files are created for section and bus respectively, which are further imported in the block package file and then block package file is imported in top wrapper file.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps10"><span class="rvts34">It also works for repeated section/register, external components, and block.</span><span class="rvts36"> In case of external, a separate package file is created which is further imported in the block package. If a chip is existing in the spec, then the chip package will be created and further imported in chip wrapper.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts36">Generally, when customers dump hierarchical RTL and integrate each submodule in top design then addr_width generates according to top design so the problem is that there will be a mis-match at every instance of the submodule since each submodule has different addr_width.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts36">To solve this problem, IDS provides solution with property “sv_interface=struct:bus_inf’ or “sv_interface=struct:bus_struct” or “sv_interface=struct” and output will be generated according to the property applied in the spec.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts27">RDL Spec :</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts373">property sv_interface {type=string; component=addrmap;};</span></p>
<p class="rvps2"><span class="rvts430">addrmap chip {</span></p>
<p class="rvps2"><span class="rvts430">&nbsp;</span><span class="rvts373">sv_interface="struct:bus_inf ";</span></p>
<p class="rvps2"><span class="rvts430">//sv_interface="struct:bus_struct";</span></p>
<p class="rvps2"><span class="rvts430">//sv_interface="struct";</span></p>
<p class="rvps2"><span class="rvts430">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;addrmap block_ref1 {</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp;</span></p>
<p class="rvps2"><span class="rvts430"></span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> map_type="subblock";</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp;</span></p>
<p class="rvps2"><span class="rvts430"></span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> refpath="abc_csr.rdl:abc_csr"; &nbsp; &nbsp; &nbsp; //referred regfile</span></p>
<p class="rvps2"><span class="rvts430"></span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430">};</span></p>
<p class="rvps2"><span class="rvts430"></span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts430">block_ref1 abc_ref1;</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts27">Case1. &nbsp;"sv_interface=struct"</span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts27">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><img alt="" style="padding : 1px;" src="lib/NewItem3361.png"></p>
<p class="rvps2"><span class="rvts27"><br/></span></p>
<p class="rvps2"><span class="rvts31">Block Wrapper Code :</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3362.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3363.png"></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts27">Case2. "sv_interface=struct:bus_inf"</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3364.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">Block Wrapper Code&nbsp;</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3365.png"></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><img alt="" style="padding : 1px;" src="lib/NewItem3367.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts27">Case3. &nbsp;“sv_interface=struct:bus_struct”</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><img alt="" style="width : 491px; height : 256px; padding : 1px;" src="lib/NewItem3368.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">Block Wrapper Code&nbsp;</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3369.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3370.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">Bus Package</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="padding : 1px;" src="lib/NewItem3371.png"></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts31">Note:- The same change will be in Chip wrapper.&nbsp;</span></p>
<p class="rvps2"><span class="rvts31"><br/></span></p>
<p class="rvps2"><span class="rvts154">Uniquify the External package file in System Verilog Struct</span></p>
<p class="rvps2"><span class="rvts154"><br/></span></p>
<p class="rvps2"><span class="rvts34">IDesignSpec</span><span class="rvts829">TM </span><span class="rvts34">supports the </span><span class="rvts35">“sv_inte</span><span class="rvts31">rface=struct” </span><span class="rvts36">property that is applied only on the top node. This property is used for creating structs</span><span class="rvts34"> instead of interfaces in system verilog.</span><span class="rvts38">&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts38">IDS generates one external_pkg.sv file for a specification if it contains any external CSR by default with “sv_interface=struct”.</span></p>
<p class="rvps2"><span class="rvts72">For every independent IP Generation run that has an external REG, IDS generates the same name package&nbsp; 'external_pkg.sv' for them So need to uniquify the external_pkg file.</span></p>
<p class="rvps2"><span class="rvts34">To counter this a new IDS property “</span><span class="rvts35">rtl_external_</span><a name="rtl_external_pkg_unique"></a><span class="rvts35">pkg_unique=true</span><span class="rvts34">” has been introduced using which the </span><span class="rvts72">uniquify the external packages has been done , external package file name, and macros by adding the required block name in which the external component lies.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/rtl_ext_pkg_uni/ext_pkg.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/rtl_ext_pkg_uni/ext_pkg.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/rtl_ext_pkg_uni/ext_pkg.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/rtl_ext_pkg_uni/ext_pkg.rdl">SystemRDL</a></p>
<p class="rvps11"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps321"><span class="rvts15"><br/></span></p>
<p class="rvps322"><span class="rvts34">&nbsp;</span><img alt="" style="width : 723px; height : 423px; padding : 1px;" src="lib/NewItem4859.png"></p>
<p class="rvps322"><img alt="" style="width : 722px; height : 379px; padding : 1px;" src="lib/NewItem4860.png"></p>
<p class="rvps321"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps321"><span class="rvts34">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps322"><img alt="" style="width : 614px; height : 378px; padding : 1px;" src="lib/NewItem4861.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps321"><span class="rvts35">SystemRDL&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps321"><span class="rvts370">property sv_interface{type=string;component=addrmap;};</span></p>
<p class="rvps321"><span class="rvts373">property rtl_external_pkg_unique {type=boolean; component=addrmap ;};</span></p>
<p class="rvps321"><span class="rvts370">addrmap b1 {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;reg regA {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {} F1;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;reg regB {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {} F1;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;regA regA;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;external regB regB;</span></p>
<p class="rvps321"><span class="rvts370">};</span></p>
<p class="rvps321"><span class="rvts370">addrmap b2 {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;reg regA {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {} F1;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;reg regB {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {} F1;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;regA regA;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;&nbsp;&nbsp;external regB regB;</span></p>
<p class="rvps321"><span class="rvts370">};</span></p>
<p class="rvps321"><span class="rvts370">addrmap top {</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;</span><span class="rvts373">rtl_external_pkg_unique = true;</span></p>
<p class="rvps321"><span class="rvts370">&nbsp;sv_interface="struct";</span></p>
<p class="rvps321"><span class="rvts370">b1 b1;</span></p>
<p class="rvps321"><span class="rvts370">b2 b2;</span></p>
<p class="rvps321"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps321"><span class="rvts48">Generated Output</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps321"><span class="rvts38">The contents of each external_pkg.sv,&nbsp;they are not necessarily to be the same</span><span class="rvts48">.</span><span class="rvts38"> They may have different content.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 27px; list-style-position: outside;">
 <li class="rvps2 noindent"><span class="rvts34">B1_external_package: Now for Block B1 has an external package in which the signals ,&nbsp; and macros are unique.</span></li>
</ol>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps536"><span class="rvts370">package b1_external_pkg;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps536"><span class="rvts370">`ifdef b1_bus_width</span></p>
<p class="rvps536"><span class="rvts370">parameter b1_bus_width = `b1_bus_width;</span></p>
<p class="rvps536"><span class="rvts370">`else</span></p>
<p class="rvps536"><span class="rvts370">parameter b1_bus_width = 32;</span></p>
<p class="rvps536"><span class="rvts370">`endif</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps536"><span class="rvts370">`ifdef b1_addr_width</span></p>
<p class="rvps536"><span class="rvts370">parameter b1_addr_width = `b1_addr_width;</span></p>
<p class="rvps536"><span class="rvts370">`else</span></p>
<p class="rvps536"><span class="rvts370">parameter b1_addr_width = 3;</span></p>
<p class="rvps536"><span class="rvts370">`endif</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps536"><span class="rvts370">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps536"><span class="rvts370">logic [b1_addr_width-1:0]b1_IDSaddress_out;</span></p>
<p class="rvps536"><span class="rvts370">logic [b1_bus_width-1:0] b1_IDSwr_data_out;</span></p>
<p class="rvps536"><span class="rvts370">}externalSignal_b1;</span></p>
<p class="rvps536"><span class="rvts370">endpackage</span><br/><span class="rvts29"><br/></span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 27px; list-style-position: outside;">
 <li value="2" class="rvps2 noindent"><span class="rvts34">B2_external_package: Now for Block B2 has an external package in which the signals ,&nbsp; and macros are unique:</span></li>
</ol>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps537"><span class="rvts370">package b2_external_pkg;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps537"><span class="rvts370">`ifdef b2_bus_width</span></p>
<p class="rvps537"><span class="rvts370">parameter b2_bus_width = `b2_bus_width;</span></p>
<p class="rvps537"><span class="rvts370">`else</span></p>
<p class="rvps537"><span class="rvts370">parameter b2_bus_width = 32;</span></p>
<p class="rvps537"><span class="rvts370">`endif</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps537"><span class="rvts370">`ifdef b2_addr_width</span></p>
<p class="rvps537"><span class="rvts370">parameter b2_addr_width = `b2_addr_width;</span></p>
<p class="rvps537"><span class="rvts370">`else</span></p>
<p class="rvps537"><span class="rvts370">parameter b2_addr_width = 3;</span></p>
<p class="rvps537"><span class="rvts370">`endif</span></p>
<p class="rvps537"><span class="rvts370">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps537"><span class="rvts370">logic [b2_addr_width-1:0]b2_IDSaddress_out;</span></p>
<p class="rvps537"><span class="rvts370">logic [b2_bus_width-1:0] b2_IDSwr_data_out;</span></p>
<p class="rvps537"><span class="rvts370">}externalSignal_b2;</span></p>
<p class="rvps537"><span class="rvts370">endpackage</span></p>
<p class="rvps537"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts126">Repeated interface for section</span></p>
<p class="rvps2"><span class="rvts126"><br/></span></p>
<p class="rvps12"><span class="rvts34">The "sv_interface=true" has been enhanced </span><span class="rvts36">to support </span><span class="rvts34">the repeated interface for sections.User can use </span><span class="rvts346">"sv_interface=true:repeat"</span><span class="rvts101"> to get repeated interface.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts191">IDS-NG input:</span></p>
<p class="rvps2"><span class="rvts29">&nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts29">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><img alt="" style="width : 659px; height : 271px;" src="lib/NewItem4300.png"></p>
<p class="rvps2"><span class="rvts191">SystemRDL input:</span></p>
<p class="rvps2"><span class="rvts452">&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">property sv_interface{type=string;component=regfile;};</span></p>
<p class="rvps2"><span class="rvts453">addrmap block_name{</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;regfile DMA{</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sv_interface="true:repeat";</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg Reg1{</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; field{sw=rw;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hw=rw;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }F1[31:0]=32'h0;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};&nbsp;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;Reg1 Reg1;</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts453">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DMA DMA[3];</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts453">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts191">Generated SV Output :</span></p>
<p class="rvps12"><span class="rvts191"><br/></span></p>
<p class="rvps12"><span class="rvts684">Changes in Testcase_name_if.sv file</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">interface block_name_DMA_interface # (</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter bus_width &nbsp; = 32,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter addr_width&nbsp; = 4,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp; block_name_DMA_count = 3</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">logic DMA_Reg1_enb;</span></p>
<p class="rvps12"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;logic &nbsp; DMA_Reg1_F1_in_enb ;</span></p>
<p class="rvps12"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;logic&nbsp; [31 : 0] DMA_Reg1_F1_r ;</span></p>
<p class="rvps12"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;logic &nbsp; [31 : 0] DMA_Reg1_F1_in ;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;modport mp (</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input DMA_Reg1_F1_in_enb, DMA_Reg1_F1_in,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;output DMA_Reg1_enb, DMA_Reg1_F1_r);</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;modport op (</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;output DMA_Reg1_F1_in_enb, DMA_Reg1_F1_in,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;input DMA_Reg1_enb, DMA_Reg1_F1_r);</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">endinterface</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts684">Changes in Testcase_name.sv file</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">module block_name_IDS_wrapper</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;#(</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp; PARAMETERS</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter bus_width &nbsp; = 32,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter addr_width&nbsp; = 4,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter block_size &nbsp; = 'hC,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter block_offset &nbsp; = 'h0,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp; block_name_DMA_count = 3,</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter block_name_address_width = addr_width</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;)</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;(</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">block_name_DMA_interface.mp &nbsp; block_name_DMA_if[block_name_DMA_count-1 : 0],</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;IDS_apb_if.apb_mp block_name_apb_if</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts370">.</span></p>
<p class="rvps12"><span class="rvts370">.</span></p>
<p class="rvps12"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;generate</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;genvar&nbsp; block_name_DMA_i ;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">for( block_name_DMA_i = 0; block_name_DMA_i &lt; block_name_DMA_count;block_name_DMA_i = block_name_DMA_i+ 1)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">begin&nbsp; : block_name_DMA</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">assign&nbsp; block_name_DMA_if[block_name_DMA_i].DMA_Reg1_enb = DMA_Reg1_enb[block_name_DMA_i];</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">assign &nbsp; DMA_Reg1_F1_in_enb [block_name_DMA_i] = block_name_DMA_if[block_name_DMA_i].DMA_Reg1_F1_in_enb ;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts373">assign &nbsp; block_name_DMA_if[block_name_DMA_i].DMA_Reg1_F1_r =&nbsp; DMA_Reg1_F1_r [(block_name_DMA_i) *32+31 :&nbsp; (block_name_DMA_i) *32 ];</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts373">assign&nbsp; &nbsp; DMA_Reg1_F1_in [(block_name_DMA_i) *32+31 :&nbsp; (block_name_DMA_i) *32 ] = block_name_DMA_if[block_name_DMA_i].DMA_Reg1_F1_in;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;endgenerate</span></p>
<p class="rvps12"><span class="rvts370">.</span></p>
<p class="rvps12"><span class="rvts370">.</span></p>
<p class="rvps12"><span class="rvts370"><br/></span></p>
<p class="rvps12"><span class="rvts35">Limitation: </span><span class="rvts74">Section inside section is not supported with the property </span><span class="rvts65">"sv_interface=true:repeat"</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><a name="Re_usability_of_structs"></a><span class="rvts214">Re-usability of structs in System Verilog:</span></p>
<p class="rvps2"><span class="rvts214"><br/></span></p>
<p class="rvps2"><span class="rvts368">Property </span><span class="rvts122">“</span><span class="rvts1297">rtl_single_package=true”</span><span class="rvts760"> </span><span class="rvts368">can be used for re-usability of structs in System Verilog output when multiple instances are created of the same address map.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts398">SystemRDL input:-</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts397">property sv_interface { type=string; component = addrmap|regfile; };</span></p>
<p class="rvps2"><span class="rvts397">property rtl_single_package {type = boolean; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts397">property chip { type=boolean ; component = addrmap ;};</span></p>
<p class="rvps2"><span class="rvts397">addrmap test_regfile{</span></p>
<p class="rvps2"><span class="rvts397">reg {</span></p>
<p class="rvps2"><span class="rvts397">field {</span></p>
<p class="rvps2"><span class="rvts397">name="f1";</span></p>
<p class="rvps2"><span class="rvts397">sw=rw;</span></p>
<p class="rvps2"><span class="rvts397">hw=r;</span></p>
<p class="rvps2"><span class="rvts397">fieldwidth=3;</span></p>
<p class="rvps2"><span class="rvts397">}fi[2:0];</span></p>
<p class="rvps2"><span class="rvts397">}reg1;</span></p>
<p class="rvps2"><span class="rvts397">};</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts397">addrmap test_addrmap{</span></p>
<p class="rvps2"><span class="rvts397">test_regfile test_regfile;</span></p>
<p class="rvps2"><span class="rvts397">};</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts397">addrmap test_chip{</span></p>
<p class="rvps2"><span class="rvts397">chip=true;</span></p>
<p class="rvps2"><span class="rvts397">sv_interface="struct";</span></p>
<p class="rvps2"><span class="rvts403">rtl_single_package=true</span><span class="rvts397">;</span></p>
<p class="rvps2"><span class="rvts397">test_addrmap test_addrmap1;</span></p>
<p class="rvps2"><span class="rvts397">test_addrmap1-&gt;name="test_addrmap1";</span></p>
<p class="rvps2"><span class="rvts397">test_addrmap test_addrmap2;</span></p>
<p class="rvps2"><span class="rvts397">test_addrmap2-&gt;name="test_addrmap2";</span></p>
<p class="rvps2"><span class="rvts397">};</span></p>
<p class="rvps2"><span class="rvts397"><br/></span></p>
<p class="rvps2"><span class="rvts398">IDSWord input:</span></p>
<p class="rvps2"><span class="rvts398"><br/></span></p>
<p class="rvps3"><span class="rvts214">&nbsp;</span><img alt="" style="padding : 1px;" src="lib/image%2032.png"></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/image%2034.png"></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts398">SV Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts397">testchip_pkg.sv:</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts397">`include "testaddrmap1_pkg.sv"</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts397">package testchip_pkg;</span></p>
<p class="rvps2"><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts397">import testaddrmap1_pkg::*;</span></p>
<p class="rvps2"><span class="rvts371"></span><br/><span class="rvts371"><br/></span></p>
<p class="rvps2"><span class="rvts397">//CSR 2 HW</span></p>
<p class="rvps2"><span class="rvts397">typedef struct packed {</span></p>
<p class="rvps2"><span class="rvts403">testaddrmap1_c2h</span><span class="rvts397">&nbsp; testaddrmap1;</span></p>
<p class="rvps2"><span class="rvts403">testaddrmap1_c2h</span><span class="rvts397">&nbsp; testaddrmap2;</span></p>
<p class="rvps2"><span class="rvts397">}testchip_c2h;</span></p>
<p class="rvps2"><span class="rvts397">endpackage</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><a name="bus_parity_80"></a><span class="rvts389">Support of bus_parity &amp; bus_parity_e2e along with sv_interface= struct:bus_struct</span></p>
<p class="rvps2"><span class="rvts389"><br/></span></p>
<p class="rvps2"><span class="rvts386">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem%2018.png"></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps2"><span class="rvts386">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem%2019.png"></p>
<p class="rvps2"><span class="rvts386"><br/></span></p>
<p class="rvps2"><span class="rvts386">SystemRDL Input:</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts697">property sv_interface {type = string; component = addrmap;};</span></p>
<p class="rvps12"><span class="rvts370">property parity {type =string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">property parity_error {type = string; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">property </span><span class="rvts387">bus_parity</span><span class="rvts370"> {type = boolean; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps12"><span class="rvts370">property </span><span class="rvts387">bus_parity_e2e</span><span class="rvts370"> {type = boolean; component = addrmap|regfile|reg ; };</span></p>
<p class="rvps2"><span class="rvts387">addrmap block1 {</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; sv_interface = "struct:bus_struct";</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; parity = "even" ;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; parity_error = "S1:noread" ;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; bus_parity = true;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; bus_parity_e2e = true;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; signal { activelow; sync; signalwidth = 1; direction = "out";</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;desc= " This signal is sync and activelow with width 1"; } S1;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; reg Reg1{</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; Reg1 Reg1 @0x0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; reg Reg2{</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; } F1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; Reg2 Reg2 @0x8;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; &nbsp; };</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts386">SV output:</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts387">. &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts387">input &nbsp;block1_pkg::block1_h2c &nbsp;block1_h2c_in,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; output &nbsp;block1_pkg::block1_c2h &nbsp;block1_c2h_out,</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; input &nbsp;apb_pkg::apb_req &nbsp;apb_req_bus,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; output &nbsp;apb_pkg::apb_resp &nbsp;apb_resp_bus,</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; input &nbsp;apb_parity_pkg::apb_parity_req &nbsp;apb_parity_req_bus,</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; output &nbsp;apb_parity_pkg::apb_parity_resp &nbsp;apb_parity_resp_bus</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; import block1_pkg::*;</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; // Module Instantiation</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; block1_ids #(.addr_width(addr_width), .bus_width(bus_width), .block_size(block_size), .block_offset(block_offset)) block1ids (</span></p>
<p class="rvps2"><span class="rvts387">. &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">//APB Parity Checker</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_paddrchk(apb_parity_req_bus.i_paddrchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_pctrlchk(apb_parity_req_bus.i_pctrlchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_pselchk(apb_parity_req_bus.i_pselchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_penablechk(apb_parity_req_bus.i_penablechk),</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_pwdatachk(apb_parity_req_bus.i_pwdatachk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_pstrbchk(apb_parity_req_bus.i_pstrbchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_preadychk(apb_parity_req_bus.i_preadychk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_prdatachk(apb_parity_req_bus.i_prdatachk),</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .i_pslverrchk(apb_parity_req_bus.i_pslverrchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .pwrite_parity_err(apb_parity_resp_bus.pwrite_parity_err),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp;. &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; //APB Parity Generator</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_paddrchk(apb_parity_resp_bus.o_paddrchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_preadychk(apb_parity_resp_bus.o_preadychk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_pctrlchk(apb_parity_resp_bus.o_pctrlchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_pselchk(apb_parity_resp_bus.o_pselchk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_penablechk(apb_parity_resp_bus.o_penablechk),</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; .o_pwdatachk(apb_parity_resp_bus.o_pwdatachk),</span></p>
<p class="rvps2"><span class="rvts387">. &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp;.</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts386">Note</span><span class="rvts60">: Another new file “apb_parity_pkg.sv” file will be generated in the case of the mentioned combination of properties.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts386">apb_parity_pkg.sv file output:</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">package apb_parity_pkg;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">//----------------------------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts387">// parameters and structs</span></p>
<p class="rvps2"><span class="rvts387">`ifdef bus_width</span></p>
<p class="rvps2"><span class="rvts387">parameter bus_width &nbsp; = `bus_width;</span></p>
<p class="rvps2"><span class="rvts387">`else</span></p>
<p class="rvps2"><span class="rvts387">parameter bus_width &nbsp; = 32;</span></p>
<p class="rvps2"><span class="rvts387">`endif</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">`ifdef addr_width</span></p>
<p class="rvps2"><span class="rvts387">parameter addr_width &nbsp;= `addr_width;</span></p>
<p class="rvps2"><span class="rvts387">`else</span></p>
<p class="rvps2"><span class="rvts387">parameter addr_width &nbsp;= 4;</span></p>
<p class="rvps2"><span class="rvts387">`endif</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">//Bus REQ</span></p>
<p class="rvps2"><span class="rvts387">typedef struct packed{</span></p>
<p class="rvps2"><span class="rvts387">logic [addr_width/8-1:0] i_paddrchk;</span></p>
<p class="rvps2"><span class="rvts387">logic i_pctrlchk;</span></p>
<p class="rvps2"><span class="rvts387">logic i_pselchk;</span></p>
<p class="rvps2"><span class="rvts387">logic i_penablechk;</span></p>
<p class="rvps2"><span class="rvts387">logic [bus_width/8-1:0] i_pwdatachk;</span></p>
<p class="rvps2"><span class="rvts387">logic [3:0] i_pstrbchk;</span></p>
<p class="rvps2"><span class="rvts387">logic i_preadychk;</span></p>
<p class="rvps2"><span class="rvts387">logic [bus_width/8-1:0] i_prdatachk;</span></p>
<p class="rvps2"><span class="rvts387">logic i_pslverrchk;</span></p>
<p class="rvps2"><span class="rvts387">}apb_parity_req;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts387">//BUS RESP</span></p>
<p class="rvps2"><span class="rvts387">typedef struct packed{</span></p>
<p class="rvps2"><span class="rvts387">logic [addr_width/8-1:0] o_paddrchk;</span></p>
<p class="rvps2"><span class="rvts387">logic o_preadychk;</span></p>
<p class="rvps2"><span class="rvts387">logic o_pctrlchk;</span></p>
<p class="rvps2"><span class="rvts387">logic o_pselchk;</span></p>
<p class="rvps2"><span class="rvts387">logic o_penablechk;</span></p>
<p class="rvps2"><span class="rvts387">.</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387"> .&nbsp;</span><span class="rvts387"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts387">.</span></p>
<p class="rvps2"><span class="rvts60"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts386">Note</span><span class="rvts60">: to distinguish “sv_interface=struct” with the “sv_interface=struct” for the bus parity, users need to add a tag “bus_struct” along with struct, e.g., &nbsp;sv_interface = "struct:bus_struct".</span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpauthoringsoftware.com">Effortlessly Create High-Quality Help Documentation with a Help Authoring Tool</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

