

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Counters</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Advanced Topics,Special Register">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Counters">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Counters" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="Counters"
		  data-hnd-context="105"
		  data-hnd-title="Counters"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="AdvancedTopics.html">Advanced Topics</a></li><li><a href="SpecialQuirkyRegisters.html">Special / Quirky Registers</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="SpecialQuirkyRegisters.html" title="Special / Quirky Registers" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="Aliasregisterfordifferentblocks.html" title="Alias register for different blocks" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="FIFO.html" title="FIFO" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Counters</h2>

            <div class="main-content">
                
<p class="rvps2"><a name="counter"></a><span class="rvts1068">(</span><span class="rvts128">Supported in Verilog in IDS version 4.16.18.0 onwards)</span></p>
<p class="rvps2"><span class="rvts128">(Supported in VHDL(alt1) in IDS version 5.14.0.0 and above)</span></p>
<p class="rvps188"><a class="rvts1067" href="https://www.agnisys.com/idesignspec-training-videos-old1/#complexregister" target="_blank">Training Video: Creating Complex Registers</a></p>
<p class="rvps2"><span class="rvts421"><br/></span></p>
<p class="rvps420"><span class="rvts14">The register can be used as a counter (increment/decrement) in IDesignSpec™ by specifying the following property at the field.</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<div class="rvps264">
<table width="635" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; background-color: #d9d9d9; vertical-align: top; width: 315px;">
   <p class="rvps421"><span class="rvts461">Property</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; background-color: #d9d9d9; vertical-align: top; width: 364px;">
   <p class="rvps421"><span class="rvts461">Summary</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter = incr/decr/both</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies whether the counter will be incrementing or decrementing or both for read/write operation from HW interface</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.incr.val = any value/signal</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies the value by which the counter is incremented</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.decr.val = any value/signal</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies the value by which the counter is decremented</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.incr.sat = any value</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies the value after which the incrementing counter will not increment</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.decr.sat = any value</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies the value after which the decrementing counter will stop decrementing</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><a name="/signal/field"></a><span class="rvts14">counter.incr.thld = any value/signal/field</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts715">Threshold counters are inferred to</span></p>
   <p class="rvps2"><span class="rvts715">contain an output which designates whether the counter's value exceeds the threshold</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.decr.thld = any value/signal/field</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts715">Threshold counters are inferred to</span></p>
   <p class="rvps2"><span class="rvts715">contain an output which designates whether the counter's value is lower the threshold</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.sat = true/false</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies that the counter is saturated and the saturation by default is 2^(number of bits)-1 if the counter.decr.sat or counter.incr.sat is not specified</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps420"><span class="rvts14">counter.signal=signal/field/</span></p>
   <p class="rvps420"><span class="rvts14">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;regname&gt;@overflow</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts180">This is used to control the increment and decrement events of a counter. It is an Active-High event</span></p>
   <p class="rvps2"><span class="rvts180"><br/></span></p>
   <p class="rvps2"><span class="rvts180">In case of </span><span class="rvts176">{counter=both}</span><span class="rvts180">, counter.signal should contain 2 separate signals each for incrementing and decrementing event, i.e. </span><span class="rvts176">{counter.signal=sig1,sig2}</span></p>
   <p class="rvps2"><span class="rvts176"><br/></span></p>
   <p class="rvps2"><span class="rvts180">&lt;regname&gt;@overflow value is given for wide register counter.</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.sw.wr = incr/decr [,value/"wdata"/field]</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies that the counter is incrementing/decrementing for write operation from SW interface.&nbsp;</span></p>
   <p class="rvps215"><span class="rvts36"><br/></span></p>
   <p class="rvps215"><span class="rvts36">2nd optional argument to this property is the incrementing/decrementing value which could a-&nbsp;</span></p>
   <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
    <li class="rvps215 noindent"><span class="rvts31">positive integer</span><span class="rvts36"> or&nbsp;</span></li>
    <li class="rvps215 noindent"><span class="rvts31">wdata</span><span class="rvts36"> for wr_data from bus interface to be the increment/decrement value or&nbsp;</span></li>
    <li class="rvps215 noindent"><span class="rvts31">value in any register field</span><span class="rvts36"> within the design block</span></li>
   </ul>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.sw.rd = incr/decr [,positive integer]</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps215"><span class="rvts36">This specifies that the counter is incrementing/decrementing for read operation from SW interface</span></p>
   <p class="rvps215"><span class="rvts36"><br/></span></p>
   <p class="rvps215"><span class="rvts36">2nd optional argument is the constant value by which the counter would increment/decrement</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.predence = hw,sw_rd,_sw_wr&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts14">This property is used to change the sequence of precedence for all three type of counters</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.hw.enb</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts14">To specify enable signal for HW write&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.sw.wr.enb</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts14">To specify enable signal for SW write</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.sw.rd.enb</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts14">To specify enable signal for SW read</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps2"><span class="rvts14">counter.incr.width</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts14">To specify the width of the signal by which the counter is incremented</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 315px;">
   <p class="rvps92"><span class="rvts193">counter.both.enb</span></p>
  </td>
  <td style="border-width : 1px; border-color: #000000; border-style: solid; padding: 0px 7px; vertical-align: top; width: 364px;">
   <p class="rvps2"><span class="rvts34">To generate individual enable for both increment and decrement counter</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts26">Note: &nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps420 noindent"><span class="rvts26">To specify a counter, atleast one of the 3 properties- "counter","counter.sw.wr" or "counter.sw.rd" is must.</span></li>
 <li class="rvps420 noindent"><span class="rvts26">The hardware access for counters could be "ro" or "na". Though, hardware write for counter is possible. Its just that it is not specified as an access. For that "incrwidth" property is used on the field which will create an input port signal having width equal to the value of property and user can provide value from the hw side to this input signal through which they want the counter to be incremented.&nbsp;</span></li>
 <li class="rvps420 noindent"><span class="rvts26">If incr/decr.val is not specified then it creates a parameter of incr_val with its default value as 1.</span></li>
 <li class="rvps2 noindent"><span class="rvts55">If only the "counter" property is used, it will create a default &nbsp;behavior where the counter increments by a value of 1, and the default incr_saturation and incr_threshold values are set to 32'hffffffff.</span></li>
 <li class="rvps2 noindent"><span class="rvts26">"_overflow" output signal is asserted based on the threshold or saturation properties.&nbsp;</span></li>
 <li class="rvps2 noindent"><span class="rvts128">"counter.incr.width" property will create an i/p port signal having width equal to the value of property and the user can provide value from the hw side to this i/p signal through which they want the counter to be incremented. However, in case of the "counter.incr.val" a parameter will be created based on which the counter will be incremented.</span></li>
</ul>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps420"><span class="rvts14">In IDS, counters are supported for both RTL and UVM output.&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps420 noindent"><span class="rvts14">For more info on counters in RTL, </span><a class="rvts23" href="Counters.html#Counters_in_RTL">refer here</a></li>
 <li class="rvps420 noindent"><span class="rvts14">For details on counters in UVM, </span><a class="rvts23" href="Counters.html#Counters%20in%20UVM">refer here</a></li>
</ul>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts16"><br/></span></p>
<p class="rvps420"><span class="rvts16">C</span><a name="Counters_in_RTL"></a><span class="rvts16">ounters in RTL</span></p>
<p class="rvps420"><span class="rvts15"><br/></span></p>
<p class="rvps420"><span class="rvts15">Waveform:</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><img alt="" style="padding : 1px;" src="lib/NewItem2621.png"></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts14">For more details on counter properties, </span><a class="rvts23" href="RTLProperties.html#COUNTER%20PROPERTIES">refer here</a></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts14">Following capabilities are provided by the counters in RTL:</span></p>
<p class="rvps420"><span class="rvts14">1. User can count hardware events</span></p>
<p class="rvps420"><span class="rvts14">2. User can count software read/write events</span></p>
<p class="rvps420"><span class="rvts14">3. User can count both hardware and software events</span></p>
<p class="rvps420"><span class="rvts14">4. Counter can also count on interrupts</span></p>
<p class="rvps420"><span class="rvts14">5. User can also create 64-bit increment counter using two 32 bits register maps</span><span class="rvts15">&nbsp;</span></p>
<p class="rvps420"><span class="rvts14">6. User can also generate individual enable for both decrement and increment counter</span></p>
<p class="rvps420"><span class="rvts14">7. Counters can also be parameterised</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts14">The details of the above mentioned points are discussed in the following section:</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">1. Counter to count HW events</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps420"><span class="rvts15">{counter=incr/decr/both}</span><span class="rvts14"> property on register field, specifies it as a counter to count events from HW interface.</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts260">Incrementing Counter</span></p>
<p class="rvps2"><span class="rvts260"><br/></span></p>
<p class="rvps2"><span class="rvts393">Example</span><span class="rvts35">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_incr/counter_incr.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_incr/counter_incr.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_incr/counter_incr.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_incr/counter_incr.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts260"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Register View</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 581px; height : 235px; padding : 1px;" src="lib/NewItem4975.png"></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 626px; height : 206px; padding : 1px;" src="lib/NewItem4976.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL Input</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">addrmap block1 {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; reg reg_incr {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; hw = na;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; counter = true;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; incrvalue = 2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; incrsaturate = 45;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; incrthreshold = 40;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; } f1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; };</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; reg_incr reg_incr @0x0;</span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated RTL Output:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">assign Reg1_R1_overflow = (Reg1_R1_q &nbsp;&gt; Reg1_R1_incr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> //R1 : SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_R1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_incr_sat_val - Reg1_R1_q) &lt;= Reg1_R1_incr_val || (Reg1_R1_incr_sat_val == Reg1_R1_q ))</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_incr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q + Reg1_R1_incr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end //end always</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated UVM Output:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual Block1_hw_if hw_if;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_saturation_value = 32'h28;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_thld_value = 32'h14;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_incr_value = 32'h2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; bit Reg1_R1_overflow_int;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_config_db #(virtual Block1_hw_if)::get(null,"*","Block1_hif",hw_if);</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts15">Decrementing Counter</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts393">Example</span><span class="rvts35">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_dec/counter_dec.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_dec/counter_dec.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_dec/counter_dec.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_dec/counter_dec.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Register View</span></p>
<p class="rvps3"><img alt="" style="width : 651px; height : 274px; padding : 1px;" src="lib/NewItem4977.png"></p>
<p class="rvps3"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Spreadsheet View</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 645px; height : 201px; padding : 1px;" src="lib/NewItem4978.png"></p>
<p class="rvps3"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts370">addrmap block1 {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; reg reg_count_d {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; hw = na;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; counter = true;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; decrvalue = 2;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; decrthreshold = 10;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; decrsaturate = 5;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; } f1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; };</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; reg_count_d reg_count_d @0x0;</span></p>
   <p class="rvps2"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated RTL output:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">assign Reg1_R1_underflow = (Reg1_R1_q &nbsp;&lt; Reg1_R1_decr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> //R1 : SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_R1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_q - Reg1_R1_decr_sat_val) &lt;= Reg1_R1_decr_val &nbsp;|| &nbsp;(Reg1_R1_decr_sat_val == Reg1_R1_q))</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - Reg1_R1_decr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">UVM:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual Block1_hw_if hw_if;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_saturation_value = 32'h28;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_thld_value = 32'h14;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; uvm_reg_data_t &nbsp;Reg1_R1_incr_value = 32'h2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; bit Reg1_R1_overflow_int;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_config_db #(virtual Block1_hw_if)::get(null,"*","Block1_hif",hw_if);</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Up-Down Counter</span></p>
<p class="rvps420"><span class="rvts14"><br/></span></p>
<p class="rvps421"><img alt="" style="padding : 1px;" src="lib/NewItem1289.png"></p>
<p class="rvps421"><span class="rvts14"><br/></span></p>
<p class="rvps422"><span class="rvts26">Points to remember for up-down counter -</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps422 noindent"><span class="rvts26">To behave as up counter, set "regname_field_in_enb" to high.</span></li>
 <li class="rvps422 noindent"><span class="rvts26">To behave as down counter, set "regname_field_in_enb" to low.</span></li>
 <li class="rvps422 noindent"><span class="rvts26">If user wants to change this triggering polarity, invert the "regname_field_in_enb" manually outside.</span></li>
</ul>
<p class="rvps422"><span class="rvts26"><br/></span></p>
<p class="rvps2"><span class="rvts35">RTL:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts370">assign Reg1_R1_overflow = (Reg1_R1_q &nbsp;&gt; Reg1_R1_incr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; assign Reg1_R1_underflow = (Reg1_R1_q &nbsp;&lt; Reg1_R1_decr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> //R1 : SW Write</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_R1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_incr_sat_val - Reg1_R1_q) &lt;= Reg1_R1_incr_val || (Reg1_R1_incr_sat_val == Reg1_R1_q ))</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_incr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q + Reg1_R1_incr_val;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_q - Reg1_R1_decr_sat_val) &lt;= Reg1_R1_decr_val )</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - Reg1_R1_decr_val;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; end //end always</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDSExcel</span></p>
<p class="rvps376"><span class="rvts34"><br/></span></p>
<p class="rvps376"><img alt="" style="padding : 1px;" src="lib/NewItem1149.png"></p>
<p class="rvps2"><span class="rvts421"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts370">addrmap block_name {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; reg incr_reg {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hw = na;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrvalue = 2;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrsaturate = 15;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrthreshold = 10;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} Fld[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; };</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp;reg decr_reg {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; field {</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hw = na;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrvalue = 2;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrthreshold = 10;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrsaturate = 5;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} Fld[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; };</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp;incr_reg incr_reg @0x0000;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp;decr_reg decr_reg @0x0004;</span></p>
   <p class="rvps2"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts878">RTL:</span></p>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span></p>
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span></p>
   <p class="rvps2"><span class="rvts370">assign incrreg_Fld_overflow = (incrreg_Fld_q &nbsp;&gt; incrreg_Fld_incr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; if (incrreg_wr_valid)</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> //FLD : SW Write</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (incrreg_Fld_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (incrreg_Fld_in_enb)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((incrreg_Fld_incr_sat_val - incrreg_Fld_q) &lt;= incrreg_Fld_incr_val || (incrreg_Fld_incr_sat_val == incrreg_Fld_q ))</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_q &lt;= incrreg_Fld_incr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_q &lt;= incrreg_Fld_q + incrreg_Fld_incr_val;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; assign incrreg_rd_data &nbsp;= incrreg_rd_valid ? {incrreg_Fld_q} : 32'd0;</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span></p>
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">assign decrreg_Fld_underflow = (decrreg_Fld_q &nbsp;&lt; decrreg_Fld_decr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; if (decrreg_wr_valid)</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> //FLD : SW Write</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (decrreg_Fld_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (decrreg_Fld_in_enb)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((decrreg_Fld_q - decrreg_Fld_decr_sat_val) &lt;= decrreg_Fld_decr_val &nbsp;|| &nbsp;(decrreg_Fld_decr_sat_val == decrreg_Fld_q))</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_q &lt;= decrreg_Fld_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_q &lt;= decrreg_Fld_q - decrreg_Fld_decr_val;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; assign decrreg_rd_data &nbsp;= decrreg_rd_valid ? {decrreg_Fld_q} : 32'd0;</span></p>
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span></p>
   <p class="rvps2"><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">.</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts878">UVM:</span></p>
<p class="rvps2"><span class="rvts878"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts878"><br/></span></p>
   <p class="rvps2"><span class="rvts304">.</span><span class="rvts304"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts304">.</span><span class="rvts304"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts304">.</span><span class="rvts304"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts304">.</span><span class="rvts304"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts304">.</span></p>
   <p class="rvps2"><span class="rvts304">.</span><span class="rvts304"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts304">.</span></p>
   <p class="rvps2"><span class="rvts370">class blockname_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; `uvm_object_utils( blockname_block)</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; virtual blockname_hw_if hw_if;</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;incrreg_Fld_saturation_value = 32'hf;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;incrreg_Fld_thld_value = 32'ha;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;incrreg_Fld_incr_value = 32'h2;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; bit incrreg_Fld_overflow_int;</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;decrreg_Fld_saturation_value = 32'h5;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;decrreg_Fld_thld_value = 32'ha;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; uvm_reg_data_t &nbsp;decrreg_Fld_decr_value = 32'h2;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; bit decrreg_Fld_underflow_int;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; rand blockname_incrreg incrreg;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; rand blockname_decrreg decrreg;</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; function new(string name = "blockname_block");</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; uvm_config_db #(virtual blockname_hw_if)::get(null,"*","blockname_hif",hw_if);</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; //INCR_REG</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; incrreg = blockname_incrreg::type_id::create("incrreg");</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; incrreg.configure(this, null, "incrreg");</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; incrreg.build();</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( incrreg, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; //DECR_REG</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; decrreg = blockname_decrreg::type_id::create("decrreg");</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; decrreg.configure(this, null, "decrreg");</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; decrreg.build();</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( decrreg, 'h4, "RW");</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; task hw_counter;</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; fork</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; forever@(posedge hw_if.clk)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( hw_if.incrreg_Fld_in_enb &amp;&amp; !incrreg.is_busy()) begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(longint'(incrreg_Fld_saturation_value - incrreg.Fld.get_mirrored_value) &lt;= longint'(incrreg_Fld_incr_value)) begin &nbsp;//Checks the saturation point</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'( incrreg.Fld.predict(incrreg_Fld_saturation_value ));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_overflow_int = 1; &nbsp;//overflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(incrreg_Fld_saturation_value == incrreg.Fld.get_mirrored_value) &nbsp;begin &nbsp; //when the field is equal to saturation value</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_overflow_int = 1; &nbsp;//overflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'( incrreg.Fld.predict(incrreg_Fld_saturation_value ));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'( incrreg.Fld.predict(incrreg.Fld.get_mirrored_value + incrreg_Fld_incr_value));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(incrreg.Fld.get_mirrored_value &gt; incrreg_Fld_thld_value ) begin &nbsp; //Checks the threshold value</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; incrreg_Fld_overflow_int = 1; &nbsp;//overflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `uvm_info(incrreg.Fld.get_full_name(), { "incrreg_Fld overflow value", ":" , $sformatf("%h",incrreg_Fld_overflow_int &nbsp;),"and Current Value is : ",$sformatf("%h",incrreg.Fld.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370"><br/></span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; forever@(posedge hw_if.clk)</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if( hw_if.decrreg_Fld_in_enb &amp;&amp; !decrreg.is_busy()) begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(longint'(decrreg.Fld.get_mirrored_value - decrreg_Fld_saturation_value) &lt;= longint'(decrreg_Fld_decr_value)) begin //Checks the saturation point</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'(decrreg.Fld.predict(decrreg_Fld_saturation_value));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_underflow_int = 1; //underflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(decrreg_Fld_saturation_value == decrreg.Fld.get_mirrored_value) begin &nbsp;//when the field is equal to saturation values</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'(decrreg.Fld.predict(decrreg_Fld_saturation_value));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_underflow_int = 1; //underflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else begin</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; void'(decrreg.Fld.predict(decrreg.Fld.get_mirrored_value - decrreg_Fld_decr_value));</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(decrreg.Fld.get_mirrored_value &lt; decrreg_Fld_thld_value) begin //Checks the threshold value</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; decrreg_Fld_underflow_int = 1; //underflow flag</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `uvm_info(decrreg.Fld.get_full_name(),{"decrreg_Fld underflow value"," : ", $sformatf("%h",decrreg_Fld_underflow_int)," and Current Value is : ",$sformatf("%h",decrreg.Fld.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; &nbsp; join</span></p>
   <p class="rvps2"><span class="rvts370">&nbsp; &nbsp; endtask</span></p>
   <p class="rvps2"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts15">2. Counter to count SW read/write events&nbsp;</span></p>
<p class="rvps2"><span class="rvts15">SW write events -</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">"coun</span><a name="counter_sw_wr"></a><span class="rvts14">ter.sw.wr" property specifies a register field to behave as counter to count SW write events. It needs two arguments to implement it as a counter.&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside;">
 <ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: lower-alpha;">
  <li class="rvps2 noindent"><span class="rvts14">First one is to define the type of counter like “incr” for increment and “decr” for decrement. &nbsp;</span></li>
  <li class="rvps2 noindent"><span class="rvts14">Second argument(optional) is value by which it will increment or decrement, it can be a constant value or write data ”wdata” or some field within the design block.</span></li>
 </ol>
</ol>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts393">Example</span><span class="rvts35">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_sw_wr/counter_sw_wr.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_sw_wr/counter_sw_wr.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_sw_wr/counter_sw_wr.xls">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/counter_sw_wr/counter_sw_wr.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View</span></p>
<p class="rvps118"><img alt="" style="width : 646px; height : 226px; padding : 1px;" src="lib/NewItem4983.png"></p>
<p class="rvps118"><span class="rvts209"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View</span></p>
<p class="rvps72"><span class="rvts209"><br/></span></p>
<p class="rvps118"><img alt="" style="width : 789px; height : 157px; padding : 1px;" src="lib/NewItem4984.png"></p>
<p class="rvps118"><span class="rvts186"><br/></span></p>
<p class="rvps72"><span class="rvts209">SystemRDL Input:</span></p>
<p class="rvps72"><span class="rvts209"><br/></span></p>
<div class="rvps72">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps72"><span class="rvts469">property counter_sw_wr {type =string; component = field ; };</span></p>
   <p class="rvps72"><span class="rvts209">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps72"><span class="rvts469">addrmap Block1 {</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; reg Reg1 {&nbsp;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; field {</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; counter_sw_wr = "incr,wdata" ;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; hw = r;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; sw = rw;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; counter;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; incrsaturate = 45;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; incrthreshold = 40;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; saturate = true;</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; } R1[31:0] = 32'h0;</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; };</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; Reg1 Reg1 @0x0;</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps72"><span class="rvts209"><br/></span></p>
<p class="rvps72"><span class="rvts209">Generated RTL Output:</span></p>
<p class="rvps72"><span class="rvts209"><br/></span></p>
<div class="rvps72">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps72"><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span></p>
   <p class="rvps72"><span class="rvts186">.</span><span class="rvts186"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts186">.</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp;assign Reg1_R1_overflow = (Reg1_R1_q &nbsp;&gt; Reg1_R1_incr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; else</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_incr_sat_val - Reg1_R1_q) &lt;= Reg1_R1_wr_val || (Reg1_R1_incr_sat_val == Reg1_R1_q) )</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_incr_sat_val ;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q + Reg1_R1_wr_val;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //sw.wr end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; assign Reg1_R1_r = Reg1_R1_q; // Field : R1</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; assign Reg1_rd_data &nbsp;= Reg1_rd_valid ? {Reg1_R1_q} : 32'd0;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps72"><span class="rvts186"><br/></span></p>
<p class="rvps72"><span class="rvts1070">UVM:</span></p>
<p class="rvps72"><span class="rvts1070"><br/></span></p>
<div class="rvps72">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps72"><span class="rvts469">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; counter_write_cb &nbsp; &nbsp; Reg1_R1_wr_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for write callback</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //CALLBACK REGISTRATION</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb = counter_write_cb::type_id::create("Reg1_R1_wr_cb");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb.my_fld = Reg1.R1;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_write_cb)::add(Reg1.R1,Reg1_R1_wr_cb);</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.R1.set_counter(.value('h1),.counter_value_type(VALUE),.saturation_value('h28),.threshold_value('h14));</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; endfunction</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps72"><span class="rvts469"><br/></span></p>
<p class="rvps2"><span class="rvts15">SW read events -</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">"counter.sw.rd" property specifies a register field to behave as counter to count SW read events. It needs two arguments to implement it as a counter.&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside;">
 <ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: lower-alpha;">
  <li class="rvps2 noindent"><span class="rvts14">First one is to define the type of counter like “incr” for increment and “decr” for decrement. &nbsp;</span></li>
  <li class="rvps2 noindent"><span class="rvts14">Second argument(optional) is a constant value by which it will increment or decrement.</span></li>
 </ol>
</ol>
<p class="rvps101"><span class="rvts186"><br/></span></p>
<p class="rvps118"><img alt="" style="padding : 1px;" src="lib/NewItem1284.png"></p>
<p class="rvps118"><span class="rvts186"><br/></span></p>
<p class="rvps2"><span class="rvts15">RTL:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;assign Reg1_R1_underflow = (Reg1_R1_q &nbsp;&lt; Reg1_R1_decr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> //R1 : SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= (wr_data [31 : 0] &nbsp;&amp; reg_enb &nbsp;[31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb &nbsp;[31 : 0] ));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_rd_valid)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_q - Reg1_R1_decr_sat_val) &lt;= Reg1_R1_rd_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - Reg1_R1_rd_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Reg1_R1_r = Reg1_R1_q; // Field : R1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Reg1_rd_data &nbsp;= Reg1_rd_valid ? {Reg1_R1_q} : 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts367"><br/></span></p>
<p class="rvps2"><span class="rvts1071">UVM:</span></p>
<p class="rvps2"><span class="rvts1071"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span></p>
   <p class="rvps2"><span class="rvts367">.</span><span class="rvts367"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts367">.</span></p>
   <p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; counter_read_cb &nbsp; &nbsp; &nbsp;Reg1_R1_rd_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for read callback</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //CALLBACK REGISTRATION</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_rd_cb = counter_read_cb::type_id::create("Reg1_R1_rd_cb");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_rd_cb.my_fld = Reg1.R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_read_cb)::add(Reg1.R1,Reg1_R1_rd_cb);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.R1.set_counter(.value('h3),.saturation_value('hA),.threshold_value('h14),.counter_read_type(READ_DECR));</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
   <p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts15">SW read and write events -</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">"counter.sw.rd" and "counter.sw.wr" properties together specifies a register field to behave as counter to count both SW read and write events.&nbsp;</span></p>
<p class="rvps72"><span class="rvts186"><br/></span></p>
<p class="rvps118"><img alt="" style="padding : 1px;" src="lib/NewItem1285.png"></p>
<p class="rvps72"><span class="rvts1070">RTL:</span></p>
<p class="rvps72"><span class="rvts1070"><br/></span></p>
<div class="rvps72">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps72"><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span></p>
   <p class="rvps72"><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp;assign Reg1_R1_underflow = (Reg1_R1_q &nbsp;&lt; Reg1_R1_decr_thld_val ) | Reg1_R1_underflow_int ? 1'b1 : 1'b0;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_underflow_int &lt;= 1'b0 ;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; else</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - ((wr_data [31 : 0] &nbsp;&amp; reg_enb [31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb [31 : 0] )));</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_R1_q &lt; ((wr_data [31 : 0] &nbsp;&amp; reg_enb [31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb [31 : 0] ))) )</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_underflow_int &lt;= 1'b1 ;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_underflow_int &lt;= 1'b0 ;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; assign Reg1_rd_data &nbsp;= Reg1_rd_valid ? {Reg1_R1_q} : 32'd0;</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span></p>
   <p class="rvps72"><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps72"><span class="rvts469"><br/></span></p>
<p class="rvps72"><span class="rvts1070">UVM:</span></p>
<p class="rvps72"><span class="rvts1070"><br/></span></p>
<div class="rvps72">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps72"><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span></p>
   <p class="rvps72"><span class="rvts1069">.</span><span class="rvts1069"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts1069">.</span></p>
   <p class="rvps72"><span class="rvts469">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; counter_write_cb &nbsp; &nbsp; Reg1_R1_wr_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for write callback</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; //CALLBACK REGISTRATION</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb = counter_write_cb::type_id::create("Reg1_R1_wr_cb");</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb.my_fld = Reg1.R1;</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_write_cb)::add(Reg1.R1,Reg1_R1_wr_cb);</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.R1.set_counter(.counter_value_type(WDATA),.saturation_value('hFFFFFFFF),.threshold_value('hFFFFFFFF),.counter_type(DECR));</span></p>
   <p class="rvps72"><span class="rvts469"><br/></span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps72"><span class="rvts469">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps72"><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span></p>
   <p class="rvps72"><span class="rvts469">.</span><span class="rvts469"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts469">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps72"><span class="rvts246"><br/></span></p>
<p class="rvps2"><span class="rvts15">3. Counter to count both SW and HW events</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">"counter" and "counter.sw.rd"/"counter.sw.wr" properties used together specifies a counter that count both HW and SW events.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem1286.png"></p>
<p class="rvps2"><span class="rvts15">RTL:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
   <p class="rvps2"><span class="rvts356">assign Reg1_R1_overflow = (Reg1_R1_q &nbsp;&gt; Reg1_R1_incr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Reg1_R1_underflow = (Reg1_R1_q &nbsp;&lt; Reg1_R1_decr_thld_val ) &nbsp;? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_incr_sat_val - Reg1_R1_q) &lt;= ((wr_data [31 : 0] &nbsp;&amp; reg_enb [31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb [31 : 0] ))) || (Reg1_R1_incr_sat_val == Reg1_R1_q) )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_incr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q + ((wr_data [31 : 0] &nbsp;&amp; reg_enb [31 : 0] ) | (Reg1_R1_q &amp; (~reg_enb [31 : 0] )));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end //sw.wr end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else if (Reg1_rd_valid)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_q - Reg1_R1_decr_sat_val) &lt;= Reg1_R1_rd_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - Reg1_R1_rd_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_R1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_incr_sat_val - Reg1_R1_q) &lt;= Reg1_R1_incr_val || (Reg1_R1_incr_sat_val == Reg1_R1_q ))</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_incr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q + Reg1_R1_incr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_R1_q - Reg1_R1_decr_sat_val) &lt;= Reg1_R1_decr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_decr_sat_val ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_q &lt;= Reg1_R1_q - Reg1_R1_decr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">end //end always</span></p>
   <p class="rvps2"><span class="rvts356">assign Reg1_rd_data &nbsp;= Reg1_rd_valid ? {Reg1_R1_q} : 32'd0;</span></p>
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">UVM:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
   <p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_Reg1 Reg1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; counter_write_cb &nbsp; &nbsp; Reg1_R1_wr_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for write callback</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; counter_read_cb &nbsp; &nbsp; &nbsp;Reg1_R1_rd_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for read callback</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //REG1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1 = Block1_Reg1::type_id::create("Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.configure(this, null, "Reg1");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //CALLBACK REGISTRATION</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb = counter_write_cb::type_id::create("Reg1_R1_wr_cb");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_wr_cb.my_fld = Reg1.R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_write_cb)::add(Reg1.R1,Reg1_R1_wr_cb);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.R1.set_counter(.counter_value_type(WDATA),.saturation_value('h2D),.threshold_value('h2C),.counter_type(INCR));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_rd_cb = counter_read_cb::type_id::create("Reg1_R1_rd_cb");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1_R1_rd_cb.my_fld = Reg1.R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_read_cb)::add(Reg1.R1,Reg1_R1_rd_cb);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Reg1.R1.set_counter(.value('h9),.saturation_value('h2D),.threshold_value('h2C),.counter_read_type(READ_DECR));</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts14"><br/></span></p>
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
   <p class="rvps2"><span class="rvts14">.</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">Note:-</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">Use "counter.precedence"</span><span class="rvts15"> </span><span class="rvts14">property to change the precedence of counting behavior. By default, SW write has highest priority. Possible Values are-&nbsp;</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: square;">
   <li class="rvps2 noindent"><span class="rvts14">For HW event counter - 'hw'</span></li>
   <li class="rvps2 noindent"><span class="rvts14">Fow SW write counter - 'sw_wr'</span></li>
   <li class="rvps2 noindent"><span class="rvts14">For SW read counter - 'sw_rd'</span></li>
  </ul>
 </ul>
 <li class="rvps2 noindent"><span class="rvts14">If "counter.precedence" property is used, then mention all the counting behaviors of the counter as value to this property.</span></li>
</ul>
<p class="rvps2"><span class="rvts14">For example- in the above 3rd case where, counter hold 3 behaviors- HW counter, SW write counter and SW read counter, using {counter.precedence=hw,sw_wr} is incorrect. Mention all 3 behaviors in required precedence order.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">If counter is of all 3 types- HW side counter, SW write counter and SW read counter, then 'hw' cannot exist between 'sw_wr' and 'sw_rd' while defining precedence using "counter.precedence" property. That is- {counter.precedence=sw_wr, hw, sw_rd} is invalid precedence order.</span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="COUNT ON INTERRUPTS"></a><span class="rvts15">4. Count on Interrupts</span></p>
<p class="rvps3"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts36">Designs often have a need for&nbsp;counter for interrupt&nbsp;signals. An interrupt&nbsp;is a signal generated and sent to the processor by hardware or software indicating an event that needs attention.&nbsp;</span></p>
<p class="rvps2"><span class="rvts36">In IDS, We have implemented a property {counter.sw.wr.enb=regname.fieldname,intr;counter.sw.wr=incr,1} to count the interrupt on that line which has not been cleared.&nbsp;</span></p>
<p class="rvps2"><span class="rvts36">Let’s take an example:</span></p>
<p class="rvps2"><span class="rvts36">A block is taken with various registers and property is applied on it:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem1763.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/NewItem1764.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">In the above example following properties have been used:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts14">intr.pending=a</span></li>
</ul>
<p class="rvps423"><span class="rvts34">This property used to check any pending interrupt on that register</span><span class="rvts35">. </span><span class="rvts34">Pending register is originally the Logical And of interrupt source &amp; enable field.&nbsp;Interrupt source can be registered in a flip flop or it can be a signal.&nbsp;</span></p>
<p class="rvps423"><span class="rvts34"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts14">intr.status=a</span></li>
</ul>
<p class="rvps6"><span class="rvts36">When&nbsp;interrupt &nbsp;source is asserted or detected for edge it writes 1 to status register. Firmware reads this register to identify active&nbsp;</span><span class="rvts34">interrupt</span><span class="rvts36">s denoted by value 1 in field and acknowledges/clear the&nbsp;</span><span class="rvts34">interrupts</span><span class="rvts36"> by writing one to it or reading from it</span><span class="rvts1061">.</span></p>
<p class="rvps6"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts14">intr.enable=a</span></li>
</ul>
<p class="rvps423"><span class="rvts34">The enable register enables the&nbsp;interrupts to propagate to CPU by writing one to it. Enable bit corresponding to Status register bit decides whether that interrupt will be allowed to propogate or not. Firmware writes one to bit position where It can be identified using property&nbsp;"intr.enable"&nbsp;at register or field</span></p>
<p class="rvps6"><span class="rvts14"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps6 noindent"><span class="rvts14">And finally the property </span><span class="rvts36">{counter.sw.wr.enb=regname.fieldname,intr;counter.sw.wr=incr,1} is used to count the interrupt on that line which has not been cleared. Here,</span></li>
</ul>
<p class="rvps6"><span class="rvts36">counter.sw.wr.enb=regname.fieldname,intr : Used to count the interrupts</span></p>
<p class="rvps6"><span class="rvts36">counter.sw.wr=incr,1 : Increments the count of interrupts by 1.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15">RTL</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; assign counter_R1_overflow &nbsp;= (counter_R1_q &nbsp;&gt; counter_R1_incr_thld_val ) | counter_R1_overflow_int ? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk) &nbsp;begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter_R1_overflow_int &lt;= 1'b0 ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter_R1_q &lt;= 32'd0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (estatus_q)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter_R1_q &lt;= counter_R1_q + counter_R1_wr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((counter_R1_incr_sat_val - counter_R1_q) &lt; counter_R1_wr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter_R1_overflow_int &lt;= 1'b1 ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; counter_R1_overflow_int &lt;= 1'b0 ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end //end always</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign counter_rd_data &nbsp;= counter_rd_valid ? {counter_R1_q} : 32'd0; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign &nbsp;irq = ( | (estatus_R1_q &amp; enable_R1_q ));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_data_vld = rd_stb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_data = pending_rd_data &nbsp;|</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; estatus_rd_data &nbsp;|</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; enable_rd_data &nbsp;|</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; counter_rd_data ;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign request = 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign rd_wait = 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign error = pending_write_error;</span></p>
   <p class="rvps2"><span class="rvts15">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">UVM</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
   <p class="rvps2"><span class="rvts356">class Block1_block extends uvm_reg_block;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; `uvm_object_utils(Block1_block)</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_pending pending;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_estatus estatus;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_enable enable;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; rand Block1_counter counter;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; counter_write_cb &nbsp; &nbsp; counter_R1_wr_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//Callback Object for write callback</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : new</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; function new(string name = "Block1_block");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; super.new(name, UVM_NO_COVERAGE);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //PENDING</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; pending = Block1_pending::type_id::create("pending");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; pending.configure(this, null, "pending");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; pending.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( pending, 'h0, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //ESTATUS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; estatus = Block1_estatus::type_id::create("estatus");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; estatus.configure(this, null, "estatus");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; estatus.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( estatus, 'h4, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //ENABLE</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; enable = Block1_enable::type_id::create("enable");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; enable.configure(this, null, "enable");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; enable.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( enable, 'h8, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //COUNTER</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter = Block1_counter::type_id::create("counter");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter.configure(this, null, "counter");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter.build();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map.add_reg( counter, 'hC, "RW");</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //CALLBACK REGISTRATION</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter_R1_wr_cb = counter_write_cb::type_id::create("counter_R1_wr_cb");</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter_R1_wr_cb.my_fld = counter.R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; uvm_callbacks#(agni_counter_field,counter_write_cb)::add(counter.R1,counter_R1_wr_cb);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; counter.R1.set_counter(.value('h1),.counter_value_type(VALUE),.saturation_value('hFFFFFFFF),.threshold_value('hFFFFFFFF),.counter_type(INCR));</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intr_status_class status_Block1_pending_R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; status_Block1_pending_R1 = new(.estatus(estatus.R1),.pending(pending.R1),.enable(enable.R1),.mask(null),.overflow(null));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uvm_reg_field_cb::add(estatus.R1,status_Block1_pending_R1);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intr_class intr_Block1_pending_R1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; intr_Block1_pending_R1 = new(.pending(pending.R1),.mask(null),.estatus(estatus.R1));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; uvm_reg_field_cb::add(enable.R1,intr_Block1_pending_R1);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; lock_model();</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
   <p class="rvps2"><span class="rvts15"><br/></span></p>
   <p class="rvps2"><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts15">.</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">5. 64-bit increment counter using two 32 bits register maps&nbsp;</span></p>
<p class="rvps2"><span class="rvts392"><br/></span></p>
<p class="rvps2"><span class="rvts14">By making use of "counter.signal" property along with "counter=incr" property, we can define the register which will begin incrementing when the overflow of current register is achieved. Let us take the following example, it depicts that as soon as register 'R1' is in its overflow condition, register 'R2' will start incrementing. Thus, user can easily create a 64-bit increment counter using two 32-bit register maps.</span></p>
<p class="rvps2"><span class="rvts392"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDSWord</span><span class="rvts1029">&nbsp;</span></p>
<p class="rvps143"><img alt="" style="width : 588px; height : 333px; padding : 1px;" src="lib/NewItem2220.png"></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts162"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated RTL output</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">//----------------------------------------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;// REGISTER &nbsp; &nbsp; &nbsp;: &nbsp;R1</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;// ADDRESS &nbsp; &nbsp; &nbsp; : &nbsp;block_offset+'h4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH : 32</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;// HW ACCESS &nbsp; &nbsp; : &nbsp;READ-ONLY</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;// SW ACCESS &nbsp; &nbsp; : &nbsp;READ-WRITE</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;//-----------------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">assign R1_wr_valid = R1_decode &amp;&amp; wr_stb;</span></p>
   <p class="rvps2"><span class="rvts356">assign R1_rd_valid = R1_decode &amp;&amp; rd_stb;</span></p>
   <p class="rvps2"><span class="rvts356">assign R1_enb &nbsp; &nbsp; &nbsp;= R1_wr_valid;</span></p>
   <p class="rvps2"><span class="rvts356">…. &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_q &lt;= &nbsp;32'b00000000000000000000000000000000;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_overflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (R1_wr_valid) &nbsp; // SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_q &lt;= ( wr_data[31 : 0] &amp; reg_enb[31 : 0] ) | (R1_F1_q &amp; ( ~(reg_enb[31 : 0]))); &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (R1_F1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_q &lt;= </span><span class="rvts367">R1_F1_incr</span><span class="rvts356">;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((R1_F1_incr_sat_val - </span><span class="rvts367">R1_F1_incr</span><span class="rvts356">) &lt; R1_F1_incr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_overflow_int &lt;= 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R1_F1_overflow_int &lt;= 1'b0; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // &nbsp;always</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts367">assign &nbsp;R1_F1_incr = R2_F1_overflow ? (R1_F1_q + R1_F1_incr_val) : R1_F1_q;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R1_F1_overflow = (R1_F1_q &gt; R1_F1_incr_thld_val) | R1_F1_overflow_int ? 1'b1 : 1'b0; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R1_F1_r = R1_F1_q; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R1_rd_data = R1_rd_valid ? {R1_F1_q} : 32'b00000000000000000000000000000000;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //----------------------------------------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // REGISTER &nbsp; &nbsp; &nbsp;: &nbsp;R2</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // ADDRESS &nbsp; &nbsp; &nbsp; : &nbsp;block_offset+'h8 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WIDTH : 32</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // HW ACCESS &nbsp; &nbsp; : &nbsp;READ-ONLY</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // SW ACCESS &nbsp; &nbsp; : &nbsp;READ-WRITE</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //-----------------------------------------------------------------------------</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R2_wr_valid = R2_decode &amp;&amp; wr_stb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R2_rd_valid = R2_decode &amp;&amp; rd_stb;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign R2_enb &nbsp; &nbsp; &nbsp;= R2_wr_valid;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;…</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge clk)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_q &lt;= &nbsp;32'b00000000000000000000000000000000;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_overflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (R2_wr_valid) &nbsp; // SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_q &lt;= ( wr_data[31 : 0] &amp; reg_enb[31 : 0] ) | (R2_F1_q &amp; ( ~(reg_enb[31 : 0]))); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (R2_F1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_q &lt;= R2_F1_q + R2_F1_incr_val; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((R2_F1_incr_sat_val - R2_F1_q) &lt; R2_F1_incr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_overflow_int &lt;= 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; R2_F1_overflow_int &lt;= 1'b0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // &nbsp;always</span></p>
   <p class="rvps2"><span class="rvts367">&nbsp; &nbsp;assign R2_F1_overflow = (R2_F1_q &gt; R2_F1_incr_thld_val) | R2_F1_overflow_int ? 1'b1 : 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;assign R2_F1_r = R2_F1_q; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;assign R2_rd_data = R2_rd_valid ? {R2_F1_q} : 32'b00000000000000000000000000000000;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts310"><br/></span></p>
<p class="rvps2"><span class="rvts310"><br/></span></p>
<p class="rvps2"><a name="{counter.both.enable=true}"></a><span class="rvts15">6. Individual enable for both decrement and increment counter</span></p>
<p class="rvps2"><span class="rvts395"><br/></span></p>
<p class="rvps2"><span class="rvts14">For this, user can make use of "counter.both.enable=true" property. Two inputs has been created, one reg_field_incr_enb (for counter increment enable) and other reg_field_decr_enb (for enabling the decrement of counter) instead of reg_field_in_enb. So, when reg_field_incr_enb is high, it will increment and when reg_field_decr_enb is high, counter will be decremented else counter will retain its previous value.</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated RTL output</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">input &nbsp; Counter1_F1_in_enb; &nbsp; &nbsp;// FIELD : F1</span></p>
   <p class="rvps2"><span class="rvts356">input &nbsp; hold;</span></p>
   <p class="rvps2"><span class="rvts356">.</span></p>
   <p class="rvps2"><span class="rvts356">.</span></p>
   <p class="rvps2"><span class="rvts356">.</span></p>
   <p class="rvps2"><span class="rvts356">.</span></p>
   <p class="rvps2"><span class="rvts6">&nbsp;</span><span class="rvts356">always @(posedge clk)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_q &lt;= &nbsp;32'b00000000000000000000000000000000;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_overflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_underflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_name_wr_valid) &nbsp; // SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_q &lt;= ( wr_data[31 : 0] &amp; reg_enb[31 : 0] ) | (reg_name_R1_q &amp; ( ~(reg_enb[31 : 0])));</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_name_R1_incr_enb &amp; !reg_name_R1_decr_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_q &lt;= reg_name_R1_q + reg_name_R1_incr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((reg_name_R1_incr_sat_val - reg_name_R1_q) &lt; reg_name_R1_incr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_overflow_int &lt;= 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_overflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if (reg_name_R1_decr_enb &amp; !reg_name_R1_incr_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_q &lt;= reg_name_R1_q - reg_name_R1_decr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (reg_name_R1_q &nbsp;&lt; reg_name_R1_decr_val )</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_underflow_int &lt;= 1'b1;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_underflow_int &lt;= 1'b0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; reg_name_R1_q &lt;= reg_name_R1_q;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // &nbsp;always</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts35">7. Parameterized count</span><a name="Parameterized_Counter"></a><span class="rvts35">ers (incr/decr)</span></p>
<p class="rvps2"><span class="rvts1066"><br/></span></p>
<p class="rvps2"><span class="rvts14">User can give parameterized value in the "counter.incr.val" and "counter.decr.val" property, which will basically decide the value by which the counter will increment or decrement. A helping example is given below:</span></p>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL</span><span class="rvts25"> &nbsp;</span></p>
<p class="rvps2"><span class="rvts25"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">addrmap Block1 #(longint unsigned $incr_val =2) &nbsp;{</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; name = "Block1 Address Map";</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; reg Reg1 {&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;regwidth = 32;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> field {</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> &nbsp; &nbsp;hw = r;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw = rw;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;counter = true;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts385">incrvalue = $incr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;incrsaturate = 45;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;incrthreshold = 40;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp;&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">} F1[31:0] = 32'h0;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;};</span></p>
   <p class="rvps2"><span class="rvts162"><br/></span></p>
   <p class="rvps2"><span class="rvts367">&nbsp; &nbsp; </span><span class="rvts356">Reg1 Reg1 @0x0;</span></p>
   <p class="rvps2"><span class="rvts356">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts162"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDSWord&nbsp;</span></p>
<p class="rvps2"><span class="rvts1063"><br/></span></p>
<div class="rvps3">
<table width="618" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 222px;">
   <h1 class="rvps106"><span class="rvts0"><span class="rvts504">1 Block1</span></span></h1>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 164px;">
   <p class="rvps2"><span class="rvts505">Block1</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 89px;">
   <p class="rvps2"><img alt="" style="width : 40px; height : 24px; padding : 1px;" src="lib/NewItem3543.jpg"></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 89px;">
   <p class="rvps2"><span class="rvts505">0x0</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 89px;">
   <p class="rvps3"><span class="rvts505">offset</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 89px;">
   <p class="rvps2"><span class="rvts506"><br/></span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 89px;">
   <p class="rvps3"><span class="rvts505">external</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 89px;">
   <p class="rvps2"><span class="rvts506"><br/></span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 89px;">
   <p class="rvps3"><span class="rvts505">size</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 89px;">
   <p class="rvps2"><span class="rvts506"><br/></span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td colspan="7" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 609px; height: 1px;">
   <p class="rvps2"><span class="rvts506"><br/></span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<div class="rvps143">
<table width="621" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; background-color: #f2f2f2; vertical-align: top; width: 177px; height: 16px;">
   <p class="rvps3"><span class="rvts6">define name</span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; background-color: #f2f2f2; vertical-align: top; width: 123px; height: 16px;">
   <p class="rvps3"><span class="rvts6">value</span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; background-color: #f2f2f2; vertical-align: top; width: 219px; height: 16px;">
   <p class="rvps3"><span class="rvts6">description</span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; background-color: #f2f2f2; vertical-align: top; width: 45px; height: 16px;">
   <p class="rvps3"><span class="rvts6">private</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td colspan="4" style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; background-color: #d9d9d9; vertical-align: top; width: 609px; height: 1px;">
   <p class="rvps2"><span class="rvts6">DEFINE</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; vertical-align: top; width: 177px; height: 15px;">
   <p class="rvps2"><span class="rvts6">$incr_val</span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; vertical-align: top; width: 123px; height: 15px;">
   <p class="rvps2"><span class="rvts6">2</span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; vertical-align: top; width: 219px; height: 15px;">
   <p class="rvps2"><span class="rvts6"><br/></span></p>
  </td>
  <td style="border-width : 1px; border-color: #bfbfbf; border-style: solid; padding: 0px 7px; vertical-align: top; width: 45px; height: 15px;">
   <p class="rvps2"><span class="rvts6"><br/></span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<div class="rvps143">
<table width="609" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td colspan="8" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 228px; height: 17px;">
   <h2 class="rvps192"><span class="rvts0"><span class="rvts507">1.1 Reg1</span></span></h2>
  </td>
  <td colspan="5" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 158px; height: 17px;">
   <p class="rvps2"><span class="rvts505">Reg1</span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 89px; height: 17px;">
   <p class="rvps2"><img alt="" style="width : 40px; height : 24px; padding : 1px;" src="lib/NewItem3542.jpg"></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 89px; height: 17px;">
   <p class="rvps2"><span class="rvts505">0x0</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 47px;">
   <p class="rvps3"><span class="rvts505">offset</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 47px;">
   <p class="rvps3"><span class="rvts505"><br/></span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 47px;">
   <p class="rvps3"><span class="rvts505">external&nbsp;</span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 47px;">
   <br/>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 47px;">
   <p class="rvps3"><span class="rvts505">size</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 47px;">
   <p class="rvps3"><span class="rvts505">32</span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 53px;">
   <p class="rvps3"><span class="rvts505">default</span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 168px;">
   <p class="rvps3"><span class="rvts505">0x00000000</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td colspan="16" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 609px; height: 1px;">
   <br/>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 33px;">
   <p class="rvps3"><span class="rvts505">bits</span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 72px;">
   <p class="rvps3"><span class="rvts505">name</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 21px;">
   <p class="rvps3"><span class="rvts505">s/w</span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 21px;">
   <p class="rvps3"><span class="rvts505">h/w&nbsp;</span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 63px;">
   <p class="rvps3"><span class="rvts505">default</span></p>
  </td>
  <td colspan="6" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; background-color: #f3f3f3; vertical-align: top; width: 324px;">
   <p class="rvps3"><span class="rvts505">description</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 33px;">
   <p class="rvps2"><span class="rvts505">31:0</span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 72px;">
   <p class="rvps2"><span class="rvts505">F1</span></p>
  </td>
  <td style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 21px;">
   <p class="rvps2"><span class="rvts505">Rw</span></p>
  </td>
  <td colspan="2" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 21px;">
   <p class="rvps2"><span class="rvts505">Ro</span></p>
  </td>
  <td colspan="3" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 63px;">
   <p class="rvps2"><span class="rvts505">0</span></p>
  </td>
  <td colspan="6" style="border-width : 1px; border-color: #d9d9d9; border-style: solid; padding: 0px 7px; vertical-align: top; width: 324px;">
   <p class="rvps2"><span class="rvts1064">{</span><span class="rvts375">counter=incr;</span></p>
   <p class="rvps2"><span class="rvts1065">counter.incr.val=$incr_val;</span></p>
   <p class="rvps2"><span class="rvts375">counter.incr.thld=40;</span></p>
   <p class="rvps2"><span class="rvts375">counter.incr.sat=45;}</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<p class="rvps2"><span class="rvts162"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated Verilog Output</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts356">module Block1_IDS (&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // &nbsp; // REGISTER : REG1 PORT SIGNALS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Reg1_F1_in_enb,</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ….</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; …..</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp;);</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; // PARAMETERS</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width = 2;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter block_size &nbsp; = 'h4;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">parameter incr_val = 2 </span><span class="rvts356">;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp;…</span></p>
   <p class="rvps2"><span class="rvts356">…</span></p>
   <p class="rvps2"><span class="rvts356">// REGISTER: REG1 SIGNALS</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts385">localparam Reg1_F1_incr_val &nbsp; &nbsp; &nbsp;= incr_val</span><span class="rvts356">;</span></p>
   <p class="rvps2"><span class="rvts356">localparam Reg1_F1_incr_thld_val = 32'h28;</span></p>
   <p class="rvps2"><span class="rvts356">localparam Reg1_F1_incr_sat_val = 32'h2D;</span></p>
   <p class="rvps2"><span class="rvts356"><br/></span></p>
   <p class="rvps2"><span class="rvts356">output &nbsp; Reg1_enb;</span></p>
   <p class="rvps2"><span class="rvts356">input &nbsp; Reg1_F1_in_enb; &nbsp;// FIELD : F1</span></p>
   <p class="rvps2"><span class="rvts356">...</span></p>
   <p class="rvps2"><span class="rvts356">….</span></p>
   <p class="rvps2"><span class="rvts356">….</span></p>
   <p class="rvps2"><span class="rvts356">always @(posedge clk) &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if (!reset_l)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;...&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;..... &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_wr_valid) &nbsp; // SW Write</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.....</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.....</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Reg1_F1_in_enb)</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((Reg1_F1_incr_sat_val - Reg1_F1_q) &lt;= Reg1_F1_incr_val || (Reg1_F1_incr_sat_val == Reg1_F1_q))</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= Reg1_F1_incr_sat_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= Reg1_F1_q + Reg1_F1_incr_val;</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
   <p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // always</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps72"><a name="Counters in UVM"></a><span class="rvts246">Counters in UVM</span></p>
<p class="rvps72"><span class="rvts1062"><br/></span></p>
<p class="rvps2"><span class="rvts14">Custom “agni_counter_field” class is defined &nbsp;to provide set_counter,get_saturation_value, get_threshold_value etc , get_overflow and get_underflow functions which will &nbsp;get and set appropriate counter values and &nbsp;will give information about the counter status. Every counter field will be extended from this field.</span></p>
<p class="rvps2"><span class="rvts14">If agni_counter_field is extended from a user defined class &nbsp;then there will be no issue, if user defined class extends from uvm_reg_field.</span></p>
<p class="rvps2"><span class="rvts202"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps11 noindent"><span class="rvts14">In regmodel the fields on which counter property is applied extends from agni_counter_field.</span></li>
</ul>
<p class="rvps284"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 722px; height : 564px; padding : 1px;" src="lib/NewItem1795.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps11"><span class="rvts356">class Block1_Reg1 extends uvm_reg;</span></p>
<p class="rvps6"><span class="rvts356">&nbsp; &nbsp;`uvm_object_utils(Block1_Reg1)</span></p>
<p class="rvps6"><span class="rvts356">&nbsp; &nbsp;rand agni_counter_field F1;</span></p>
<p class="rvps6"><span class="rvts356">&nbsp; &nbsp;rand agni_counter_field F2;</span></p>
<p class="rvps2"><span class="rvts202"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">The class agni_counter_field extends from standard uvm class “uvm_reg_field” and is defined in package file. Class “agni_counter_field” is defined to provide set/get functions.</span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts611">set_counter function</span><span class="rvts14">: called in regmodel inside block class to set counter values such as threshold, saturation, countertype, incr/decr value etc.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts611">get functions:</span><span class="rvts14"> &nbsp;such as get_threshold_value(), get_saturation_value(), get_value() etc , called in callback class to use these values inside callback, for incrementing/decrementing counter register</span><span class="rvts15">.</span></p>
<p class="rvps2"><span class="rvts202"><br/></span></p>
<p class="rvps2"><span class="rvts202"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">According to the counter property applied on the field, its set_counter function is called with appropriate values in the Block class in regmodel. For example,</span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">Reg1.F1.set_counter(.value('h4), .saturation_value('h3f), .threshold_value('h30), .counter_type(INCR), .counter_value_type(VALUE)); &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">Reg2.F1.set_counter(.value('h4),.saturation_value('h3f),.threshold_value('h30),.counter_read_type(READ_INCR));</span></p>
<p class="rvps2"><span class="rvts357"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">Following enums used for counters have been defined in package file:</span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts356">typedef enum {INCR, DECR, NULL_TYPE} counter_type_e;</span></p>
<p class="rvps2"><span class="rvts356">typedef enum {VALUE,WDATA,FIELD, NULL_VALUE} counter_value_type_e;</span></p>
<p class="rvps2"><span class="rvts356">typedef enum {READ_INCR, READ_DECR, NULL_READ_TYPE} counter_read_type_e;</span></p>
<p class="rvps2"><span class="rvts202"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts14">Two callbacks, “counter_write_cb” and “counter_read_cb” &nbsp;are defined in the package file to implement the functionality of the write and read counter respectively. These callback are registered with appropriate fields (i.e. field with counter.sw.wr property are registered with counter_write_cb callback, while field with counter.sw.rd property are registered with counter_read_cb callback) in the block class in regmodel. For example,</span></li>
</ul>
<p class="rvps2"><span class="rvts357"><br/></span></p>
<p class="rvps2"><span class="rvts356">counter_write_cb Reg1_F1_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//CALLBACK OBJECT</span></p>
<p class="rvps2"><span class="rvts356">counter_read_cb Reg2_F1_cb; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//CALLBACK OBJECT</span></p>
<p class="rvps2"><span class="rvts356">Reg1_F1_cb = counter_write_cb::type_id::create("Reg1_F1_cb");</span></p>
<p class="rvps2"><span class="rvts356">Reg1_F1_cb.my_fld = Reg1.F1;</span></p>
<p class="rvps2"><span class="rvts356">uvm_callbacks#(agni_counter_field,counter_write_cb)::add(Reg1.F1,Reg1_F1_cb);</span></p>
<p class="rvps2"><span class="rvts356">Reg2_F1_cb = counter_read_cb::type_id::create("Reg2_F1_cb");</span></p>
<p class="rvps2"><span class="rvts356">Reg2_F1_cb.my_fld = Reg2.F1;</span></p>
<p class="rvps2"><span class="rvts356">uvm_callbacks#(agni_counter_field,counter_read_cb)::add(Reg2.F1,Reg2_F1_cb);</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><a name="harware_counter"></a><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts16">Hardware Event Counter</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps12"><span class="rvts34">For HW event counter in UVM RAL, we will use the hardware interface instance to perform the incr/decr action.</span><span class="rvts14">User has to set a pointer (virtual interface handle) to this interface in the “uvm_config_db”, in his/her verification environment or can pass the pointer to the virtual interface in test class.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">Case 1 . Increment Counter</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">1) counter = incr&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDSNG</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps161"><span class="rvts35">&nbsp; &nbsp; </span><img alt="" style="padding : 1px;" src="lib/NewItem4105.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = r;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;counter;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Output</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps2"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'hffffffff;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'hffffffff;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_incr_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_overflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual counter_hw_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts373">task hw_counter;</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fork</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.reg1_f1_in_enb &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(longint'(reg1_f1_saturation_value - reg1.f1.get_mirrored_value) &lt;= longint'(reg1_f1_incr_value)) begin </span><span class="rvts430">//Checks the saturation point.</span><span class="rvts373"> reg1_F1_overflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin</span></p>
   <p class="rvps6"><span class="rvts373">void'(reg1.f1.predict(reg1.f1.get_mirrored_value + reg1_f1_incr_val));&nbsp; </span><span class="rvts430">//Increment by 1.</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1.f1.get_mirrored_value &gt; reg1_f1_thld_value)</span></p>
   <p class="rvps147"><span class="rvts373">&nbsp;begin&nbsp; </span><span class="rvts430">//Checks the threshold value</span></p>
   <p class="rvps6"><span class="rvts373">reg1_f1_overflow_int</span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 overflow value"," : ", $sformatf("%h",reg1_f1_overflow_int)," and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp;&nbsp;join</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">2) Increment Counter with counter.hw.enb&nbsp;</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts393">Example</span><span class="rvts35">: </span><span class="rvts21">IDS-NG</span><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts21">IDS-Word</span><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts21">IDS-Excel</span><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts21">SystemRDL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDS-NG Register View</span></p>
<p class="rvps6"><span class="rvts14"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 813px; height : 323px; padding : 1px;" src="lib/NewItem4986.png"></p>
<p class="rvps3"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDS-NG Spreadsheet View</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 905px; height : 216px; padding : 1px;" src="lib/NewItem4987.png"></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">SystemRDL</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<div class="rvps12">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">property counter_hw_enb {type = string;component = field;};</span></p>
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signal {}s1;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = r;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;counter;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;counter_hw_enb = “s1”;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Output</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'hffffffff;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'hffffffff;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_incr_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_overflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual counter_hw_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">virtual function void build();</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//define default map and add reg/regfiles</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">uvm_config_db #(virtual counter_hw_hw_if)::get(null,"*","counter_hw_hif",hw_if);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">task hw_counter;</span></p>
   <p class="rvps6"><span class="rvts373">fork</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.s1 &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts430">&nbsp; </span><span class="rvts373">if(longint'(reg1_f1_saturation_value - reg1.f1.get_mirrored_value) &lt;= longint'(reg1_f1_incr_value)) begin </span><span class="rvts430">//Checks the saturation point.</span></p>
   <p class="rvps6"><span class="rvts430">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">reg1_F1_overflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps110"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin</span></p>
   <p class="rvps6"><span class="rvts373">void'(reg1.f1.predict(reg1.f1.get_mirrored_value + reg1_f1_incr_value));&nbsp; </span><span class="rvts430">//Increment by 1.</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1.f1.get_mirrored_value &gt; reg1_f1_thld_value)</span></p>
   <p class="rvps147"><span class="rvts373">&nbsp;begin&nbsp; </span><span class="rvts430">//Checks the threshold value</span></p>
   <p class="rvps6"><span class="rvts373">reg1_F1_overflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 overflow value"," : ", $sformatf("%h",reg1_f1_overflow_int ),"and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"></span><br/><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts370"><br/></span></p>
<p class="rvps12"><span class="rvts35">3) Increment Counter With property counter.incr.sat and counter.incr.thld</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDSNG</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps6"><img alt="" style="padding : 1px;" src="lib/NewItem4108.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;counter;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incrsaturate = 40;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incrthreshold = 30;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">Output</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<div class="rvps12">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'h28;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'h1e;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_incr_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_overflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual block_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts373">task&nbsp;</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.reg1_f1_in_enb &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(longint'(reg1_f1_saturation_value - reg1.f1.get_mirrored_value) &lt;= longint'(reg1_f1_incr_value)) begin </span><span class="rvts430">//Checks the saturation point.</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps147"><span class="rvts373">void'(reg1.f1.predict(reg1_f1_saturation_value));</span></p>
   <p class="rvps6"><span class="rvts373">reg1_f1_overflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1_f1_saturation_value == reg1.f1.get_mirrored_value) begin&nbsp; </span><span class="rvts430">//when the field is equal to saturation values.</span></p>
   <p class="rvps147"><span class="rvts373">reg1_f1_overflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin void'(reg1.f1.predict(reg1.f1.get_mirrored_value + reg1_f1_incr_value));&nbsp; </span><span class="rvts430">//Increment by 1.</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1.f1.get_mirrored_value &gt; reg1_f1_thld_value)</span></p>
   <p class="rvps147"><span class="rvts373">&nbsp;begin&nbsp; </span><span class="rvts430">//Checks the threshold value</span></p>
   <p class="rvps6"><span class="rvts373">reg1_f1_overflow_int=1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 overflow value"," : ", $sformatf("%h",reg1_f1_overflow_int)," and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">Case 2) Decrement counter</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">1. counter=decr</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDSNG</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps6"><img alt="" style="padding : 1px;" src="lib/NewItem4110.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signal {}s1;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">counter</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">decrvalue = 1</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts370"><br/></span></p>
<p class="rvps12"><span class="rvts35">Output</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<div class="rvps12">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_decr_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_underflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual block_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts373">task&nbsp;</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.reg1_f1_in_enb &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">void'(reg1.f1.predict(reg1.f1.get_mirrored_value - reg1_f1_decr_value));&nbsp; </span><span class="rvts430">//Decrement by 1.</span></p>
   <p class="rvps147"><span class="rvts373">if(reg1.f1.get_mirrored_value &lt; longint'(reg1_f1_decr_value))&nbsp;&nbsp;</span></p>
   <p class="rvps147"><span class="rvts373">begin </span><span class="rvts430">//Checks the saturation point.</span></p>
   <p class="rvps304"><span class="rvts373">reg1_f1_underflow_int= 1; </span><span class="rvts430">//underflow flag</span></p>
   <p class="rvps147"><span class="rvts373">end</span></p>
   <p class="rvps147"><span class="rvts373">else if(reg1_f1_thld_value &gt; reg1.f1.get_mirrored_value)</span></p>
   <p class="rvps147"><span class="rvts373">begin&nbsp; </span><span class="rvts430">//when the field is below the threshold values.</span></p>
   <p class="rvps147"><span class="rvts373">reg1_f1_underflow_int= 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps147"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 underflow value"," : ", $sformatf("%h",reg1_f1_underflow_int)," and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts430">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;end</span></p>
   <p class="rvps6"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">2. counter = decr with counter.hw.enb property&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDSNG</span></p>
<p class="rvps6"><span class="rvts29"></span><br/><img alt="" style="padding : 1px;" src="lib/NewItem4107.png"><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">property counter_hw_enb {type = string;component = field;};</span></p>
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps2"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;signal {}s1;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">counter</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">decrvalue = 1</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">counter_hw_enb = “s1”</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps2"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps2"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts35">Output</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_decr_value = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_underflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual counter_hw_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts373">task&nbsp;</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.s1 &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">void'(reg1.f1.predict(reg1.f1.get_mirrored_value - reg1_f1_decr_value));&nbsp; </span><span class="rvts430">//Decrement by 1.</span></p>
   <p class="rvps147"><span class="rvts373">if(reg1.f1.get_mirrored_value &lt; longint'(reg1_f1_decr_value))&nbsp;&nbsp;</span></p>
   <p class="rvps147"><span class="rvts373">begin </span><span class="rvts430">//Checks the saturation point.</span></p>
   <p class="rvps304"><span class="rvts373">reg1_f1_underflow_int= 1; </span><span class="rvts430">//underflow flag</span></p>
   <p class="rvps147"><span class="rvts373">end</span></p>
   <p class="rvps147"><span class="rvts373">else if(reg1_f1_thld_value &gt; reg1.f1.get_mirrored_value)</span></p>
   <p class="rvps147"><span class="rvts373">begin&nbsp; </span><span class="rvts430">//when the field is below the threshold values.</span></p>
   <p class="rvps147"><span class="rvts373">reg1_f1_underflow_int= 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps147"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 underflow value"," : ", $sformatf("%h",reg1_f1_underflow_int)," and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">3. counter = decr with counter.decr.sat and counter.decr.thld</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDSNG</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps6"><img alt="" style="padding : 1px;" src="lib/NewItem4109.png"></p>
<p class="rvps2"><span class="rvts35">SystemRDL</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">addrmap counter_hw {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = na;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">counter</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">decrthreshold = 10</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">decrsaturate = 5</span><span class="rvts370">;</span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}f1[31:0] = 31’b0;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}reg1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">};</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Output</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<div class="rvps2">
<table width="100%" cellpadding="10" style="border-width: 0px; border-spacing: 2px;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: canvastext; border-style: solid; padding: 10px;">
   <p class="rvps6"><span class="rvts370">class counter_hw_block extends uvm_reg_block;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_saturation_value = 32'h5;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_thld_value = 32'hA;</span></p>
   <p class="rvps6"><span class="rvts373">uvm_reg_data_t reg1_f1_decr_val = 32'h1;</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">bit reg1_f1_underflow_int;</span></p>
   <p class="rvps6"><span class="rvts370">//...</span></p>
   <p class="rvps6"><span class="rvts370">virtual counter_hw_hw_if hw_if;</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts370">//..</span></p>
   <p class="rvps6"><span class="rvts373">task&nbsp;</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">forever@(posedge hw_if.clk)</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(hw_if.reg1_f1_in_enb &amp;&amp; !reg1.is_busy())</span></p>
   <p class="rvps6"><span class="rvts373">begin</span></p>
   <p class="rvps6"><span class="rvts373">if(longint'(reg1.f1.get_mirrored_value-reg1_f1_saturation_value) &lt;= longint'(reg1_f1_decr_value)) begin </span><span class="rvts430">//Checks the saturation point.</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps147"><span class="rvts373">void'(reg1.f1.predict(reg1_f1_saturation_value));</span></p>
   <p class="rvps6"><span class="rvts373">reg1_f1_underflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1_f1_saturation_value == reg1.f1.get_mirrored_value) begin&nbsp; </span><span class="rvts430">//when the field is equal to saturation values.</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void'(reg1.f1.predict(reg1_f1_saturation_value));</span></p>
   <p class="rvps147"><span class="rvts373">reg1_f1_underflow_int = 1; </span><span class="rvts430">//overflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">else begin void'(reg1.f1.predict(reg1.f1.get_mirrored_value - reg1_f1_decr_value));&nbsp; </span><span class="rvts430">//Increment by 1.</span></p>
   <p class="rvps6"><span class="rvts373">if(reg1.f1.get_mirrored_value &lt; reg1_f1_thld_value)</span></p>
   <p class="rvps147"><span class="rvts373">&nbsp;begin&nbsp; </span><span class="rvts430">//Checks the threshold value</span></p>
   <p class="rvps6"><span class="rvts373">reg1_f1_underflow_int=1; </span><span class="rvts430">//underflow flag</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">`uvm_info(reg1.f1.get_full_name(), {"reg1_f1 underflow value"," : ", $sformatf("%h",reg1_f1_underflow_int)," and Current Value is : ",$sformatf("%h",reg1.f1.get_mirrored_value)}, UVM_LOW);</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">&nbsp; end</span></p>
   <p class="rvps6"><span class="rvts373">end</span></p>
   <p class="rvps6"><span class="rvts373">endtask</span></p>
   <p class="rvps6"><span class="rvts29"><br/></span></p>
   <p class="rvps6"><span class="rvts370">endclass</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps6"><span class="rvts370"><br/></span></p>
<p class="rvps2"><span class="rvts35">Note</span><span class="rvts34">: </span><span class="rvts128">&nbsp;Software will always have higher precedence with the proposed solution.</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Future Enhancement In UVM RAL</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts34">i) Hardware event counter is not supported with repeat.</span></p>
<p class="rvps2"><span class="rvts34">ii) Counter = both property is not supported yet.</span></p>
<p class="rvps2"><span class="rvts29"></span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpndoc.com/feature-tour/advanced-project-analyzer/">Streamline Your Documentation Process with HelpNDoc's Project Analyzer</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

