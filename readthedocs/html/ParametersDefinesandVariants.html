

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Parameters, Defines and Variants</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Application Notes">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Parameters, Defines and Variants">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Parameters, Defines and Variants" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="ParametersDefinesandVariants"
		  data-hnd-context="482"
		  data-hnd-title="Parameters, Defines and Variants"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="ApplicationNotes.html">Application Notes</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="ApplicationNotes.html" title="Application Notes" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="RefsupportinSystemRDL.html" title="Ref support in SystemRDL" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="Chip-inside-ChipFlow.html" title="Chip-inside-Chip Flow" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Parameters, Defines and Variants</h2>

            <div class="main-content">
                
<p class="rvps608"><span class="rvts198">Parameters, Defines and Variants</span></p>
<p class="rvps608"><span class="rvts14">Parameters and Defines are ways of customizations. IDS considers these customizations at two levels:&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: lower-alpha;">
 <li class="rvps609 noindent"><span class="rvts15">Documentation/Specification</span><span class="rvts14">: Parameters and defines that are used to customize instantiations of different components are referred as documentation level parameters and defines. They are processed and resolved by the pre-processor and/or compiler. They appear as static values in the generated outputs, if they are carried forward to the outputs.&nbsp;</span></li>
 <li class="rvps610 noindent"><span class="rvts15">Runtime/Output</span><span class="rvts14">: The output languages like Verilog, SV, UVM, etc. also supports parameters and defines for customizations during simulation and verification. The parameters and defines mentioned in the specification but that are not resolved by pre-processor and compiler rather they are carried forward to the generated outputs as parameters and defines respectively are called runtime parameters and defines.&nbsp;</span></li>
</ol>
<p class="rvps608"><span class="rvts14">Similarly, variants and rdl_define are the ways by which one specification can be modified in order to be reused. &nbsp;</span></p>
<p class="rvps611"><span class="rvts14">Following table gives an overview of these features before dealing with them in detail.&nbsp;</span></p>
<div class="rvps143">
<table width="666" style="border-width: 0px; border-collapse: collapse; margin: 0px auto;">
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #ed7d31; border-style: solid; padding: 0px 7px; border-right: none; border-left: none; background-color: #ed7d31; vertical-align: top; width: 88px; height: 18px;">
   <p class="rvps2"><span class="rvts1360">Method&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #ed7d31; border-style: solid; padding: 0px 7px; border-right: none; border-left: none; background-color: #ed7d31; vertical-align: top; width: 120px; height: 18px;">
   <p class="rvps2"><span class="rvts1360">Definition&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #ed7d31; border-style: solid; padding: 0px 7px; border-right: none; border-left: none; background-color: #ed7d31; vertical-align: top; width: 214px; height: 18px;">
   <p class="rvps2"><span class="rvts1360">Documentation Level&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #ed7d31; border-style: solid; padding: 0px 7px; border-left: none; background-color: #ed7d31; vertical-align: top; width: 188px; height: 18px;">
   <p class="rvps2"><span class="rvts1360">Runtime/Output&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 88px; height: 126px;">
   <p class="rvps2"><span class="rvts15">Parameter&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 120px; height: 126px;">
   <p class="rvps2"><span class="rvts14">A generalized value of a component definition that can be modified for each instance of the component&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 214px; height: 126px;">
   <p class="rvps2"><span class="rvts14">These parameters are defined as described in standard SystemRDL 2.0 documentation. Its value is resolved in the documentation itself. &nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 188px; height: 126px;">
   <p class="rvps2"><span class="rvts14">These parameters are reflected in the Verilog, UVM, CHeader, documentation outputs. They can be differentiated from the documentation level parameters by a ‘$’ sign in the beginning of their names. &nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 88px; height: 90px;">
   <p class="rvps2"><span class="rvts15">Defines&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 120px; height: 90px;">
   <p class="rvps2"><span class="rvts14">A macro is a fragment of code that is given a name.&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 214px; height: 90px;">
   <p class="rvps612"><span class="rvts14">They are used as macros in the input SystemRDL file, used for selective generation of various&nbsp;</span></p>
   <p class="rvps2"><span class="rvts14">components&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 188px; height: 90px;">
   <p class="rvps2"><span class="rvts14">Reflected in Verilog, UVM, CHeader, documentation outputs. They can be specified like parameters with ‘define’ keyword prepended.&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 88px; height: 108px;">
   <p class="rvps2"><span class="rvts15">Variant&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 120px; height: 108px;">
   <p class="rvps2"><span class="rvts14">Variants are used to create multiple outputs from a single specification that contains small variations&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 214px; height: 108px;">
   <p class="rvps2"><span class="rvts14">Enables selective output generation based on the variant values specified It can be applied on SystemRDL specification with help of a UDP&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; background-color: #fbe4d5; vertical-align: top; width: 188px; height: 108px;">
   <p class="rvps2"><span class="rvts14">NA&nbsp;</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 88px; height: 90px;">
   <p class="rvps2"><span class="rvts15">rdl_define&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 120px; height: 90px;">
   <p class="rvps2"><span class="rvts14">rdl_define is like variant and is used to create multiple outputs from a single specification &nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 214px; height: 90px;">
   <p class="rvps613"><span class="rvts14">It can be applied in YAML as a property and in SystemRDL&nbsp;</span></p>
   <p class="rvps614"><span class="rvts14">specification as a UDP&nbsp;</span></p>
   <p class="rvps2"><span class="rvts14">&nbsp;</span></p>
  </td>
  <td style="border-width : 1px; border-color: #f4b083; border-style: solid; padding: 0px 7px; vertical-align: top; width: 188px; height: 90px;">
   <p class="rvps2"><span class="rvts14">Enables multiple output for different instances of a block&nbsp;</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps615"><span class="rvts14">&nbsp;</span></p>
<p class="rvps2"><span class="rvts126">Parameters</span></p>
<p class="rvps2"><span class="rvts126"><br/></span></p>
<p class="rvps608"><span class="rvts14">According to SystemRDL,&nbsp;</span></p>
<p class="rvps608"><span class="rvts15">“Parameter:</span><span class="rvts14"> A generalized value of a component definition that can be modified for each instance of the component”&nbsp;</span></p>
<p class="rvps608"><span class="rvts14">SystemRDL does not state anything about the output reflection of these parameters. It parameterizes almost all attributes of a component. But out of these, there are few attributes which can be reflected in various outputs such as Verilog and UVM.&nbsp;</span></p>
<p class="rvps608"><span class="rvts14">Therefore, IDesignSpec™ categorizes these parameters in the following two ways:&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside;">
 <li class="rvps609 noindent"><span class="rvts14">Documentation Parameters&nbsp;</span></li>
 <li class="rvps610 noindent"><span class="rvts14">Output Parameters &nbsp;</span></li>
</ol>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps106 noindent"><span class="rvts0"><span class="rvts988">Documentation Parameters</span></span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps608"><span class="rvts14">These parameters are defined as described in standard SystemRDL 2.0 documentation. Its value is resolved in the documentation itself. &nbsp;</span></p>
<p class="rvps14"><span class="rvts35">Example</span></p>
<p class="rvps14"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps14"><span class="rvts35"><br/></span></p>
<p class="rvps658"><span class="rvts356">reg myReg #(longint unsigned </span><span class="rvts385">SIZE =32</span><span class="rvts356">){</span></p>
<p class="rvps658"><span class="rvts356">&nbsp; &nbsp;regwidth = SIZE; &nbsp;&nbsp;</span></p>
<p class="rvps658"><span class="rvts356">&nbsp; &nbsp;field {&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; &nbsp;} data[SIZE – 1]; &nbsp;</span></p>
<p class="rvps659"><span class="rvts6">&nbsp;}</span><span class="rvts356">; &nbsp;</span></p>
<p class="rvps659"><span class="rvts356">addrmap myAmap {</span></p>
<p class="rvps659"><span class="rvts356">&nbsp; myReg reg32;</span></p>
<p class="rvps659"><span class="rvts356">&nbsp; myReg reg32_arr[8];&nbsp;</span></p>
<p class="rvps659"><span class="rvts356">&nbsp; myReg #(.SIZE(16)) reg16;&nbsp;</span></p>
<p class="rvps659"><span class="rvts356">&nbsp; myReg #(.SIZE(8)) reg8;&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp;}; &nbsp;</span></p>
<p class="rvps608"><span class="rvts14">The parameter SIZE is resolved in the documentation itself. It is used for customization of instances and has no impact on the outputs.&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps106 noindent"><span class="rvts0"><span class="rvts988">Output Parameters</span></span></li>
</ul>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps617"><span class="rvts14">These parameters go all the way from specification to ouputs like Verilog, UVM, CHeader, documentation (HTML, PDF), etc. They can be differentiated from the documentation level parameters by a ‘$’ sign in the beginning of their names. Salient features of these parameters are:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps618 noindent"><span class="rvts14">Parameter names should start with a '$'&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">The value of the define/parameter can be static or based on an expression. Both String and numeric expressions are allowed.&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Value can be an expression with the following operators:&nbsp;</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 96px; list-style-position: outside; list-style-type: '✍ ';">
  <li class="rvps619 noindent"><span class="rvts14">Arithmetic operators </span><span class="rvts15">: +, -, *, /, %, &lt;&lt;, &gt;&gt;, ()&nbsp;</span></li>
  <li class="rvps620 noindent"><span class="rvts14">Comparison operators/relational operators </span><span class="rvts15">: &gt;,&lt;, &gt;=, &lt;=, ==</span><span class="rvts14"> </span><span class="rvts1362">▪</span><span class="rvts14">&nbsp;</span><span class="rvts14"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts14">Conditional ternary operator: </span><span class="rvts15">?:</span><span class="rvts14">&nbsp;</span></li>
  <li class="rvps619 noindent"><span class="rvts14">Concatenation Operator : </span><span class="rvts15">+ (overloaded in string context)</span><span class="rvts14">&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps621"><span class="rvts14">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li style="text-indent: 0px" class="rvps638 noindent"><span class="rvts15">Accessing Parameters&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps637"><span class="rvts15"><br/></span></p>
<p class="rvps639"><span class="rvts14">Syntax to use the parameters in various properties- $parameter_name Example:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 96px; list-style-position: outside; list-style-type: '✍ ';">
  <li class="rvps609 noindent"><span class="rvts14">clock_edge=$EDGE&nbsp;</span></li>
  <li class="rvps609 noindent"><span class="rvts14">reset_type=$isAsync?sync:async&nbsp;</span></li>
  <li class="rvps609 noindent"><span class="rvts14">repeat=$Count&nbsp;</span></li>
  <li class="rvps609 noindent"><span class="rvts14">offset=$address+$ROUTER_COUNT*$Chip_off&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps614"><span class="rvts14">&nbsp;</span></p>
<p class="rvps175"><span class="rvts35">Example</span></p>
<p class="rvps175"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps175"><span class="rvts35"><br/></span></p>
<p class="rvps641"><span class="rvts356">addrmap uart #(longint unsigned </span><span class="rvts385">$offset2</span><span class="rvts356">=0x4, longint unsigned </span><span class="rvts385">$count</span><span class="rvts356">=2, boolean </span><span class="rvts385">$ENABLE</span><span class="rvts356">=1){ &nbsp;</span></p>
<p class="rvps641"><span class="rvts356">&nbsp; reg queue_reg { &nbsp;&nbsp;</span></p>
<p class="rvps641"><span class="rvts356">&nbsp; &nbsp;field {&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp;} Field1[15:4] = $ENABLE;&nbsp;</span></p>
<p class="rvps643"><span class="rvts356">&nbsp; }; &nbsp;</span></p>
<p class="rvps643"><span class="rvts356">&nbsp; queue_reg queue_reg [$count] @$offset2;&nbsp;</span></p>
<p class="rvps642"><span class="rvts6">}</span><span class="rvts356">; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps644"><span class="rvts6">&nbsp;</span></p>
<p class="rvps636"><span class="rvts1365">Generated Verilog Output</span></p>
<p class="rvps645"><span class="rvts356">. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp;</span></p>
<p class="rvps645"><span class="rvts356">parameter &nbsp;offset2 &nbsp;= &nbsp;'h4 ;</span></p>
<p class="rvps645"><span class="rvts356">parameter &nbsp;count &nbsp;= &nbsp;2 ; &nbsp;</span></p>
<p class="rvps645"><span class="rvts356">parameter &nbsp;ENABLE &nbsp;= &nbsp;1 ;&nbsp;</span></p>
<p class="rvps646"><span class="rvts356">&nbsp;&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp;&nbsp;</span></p>
<p class="rvps647"><span class="rvts356">begin&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;.&nbsp;</span></p>
<p class="rvps648"><span class="rvts356">&nbsp; &nbsp;assign Reg1_wr_valid = Reg1_decode &amp;&amp; wr_stb;</span></p>
<p class="rvps648"><span class="rvts356">&nbsp; &nbsp;assign Reg1_rd_valid = Reg1_decode &amp;&amp; rd_stb;&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; . &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;.&nbsp;</span></p>
<p class="rvps649"><span class="rvts356">&nbsp; else</span></p>
<p class="rvps649"><span class="rvts356">&nbsp; &nbsp; begin&nbsp;</span></p>
<p class="rvps650"><span class="rvts356">&nbsp; &nbsp; if (Reg1_wr_valid) &nbsp; // F1 : SW Write&nbsp;</span></p>
<p class="rvps650"><span class="rvts356">&nbsp; &nbsp; &nbsp;begin&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; &nbsp; Reg1_F1_q &lt;= &nbsp;( wr_data[7 : 0] &amp; reg_enb[7 : 0] ) | (Reg1_F1_q &amp;&nbsp;</span></p>
<p class="rvps651"><span class="rvts356">(~reg_enb[7 : 0]));&nbsp;</span></p>
<p class="rvps651"><span class="rvts356">&nbsp; &nbsp; end &nbsp;</span></p>
<p class="rvps651"><span class="rvts356">&nbsp; &nbsp;end &nbsp;// sw_write_close</span></p>
<p class="rvps651"><span class="rvts356">&nbsp; end &nbsp;</span></p>
<p class="rvps651"><span class="rvts356">&nbsp;end // always clk&nbsp;</span></p>
<p class="rvps652"><span class="rvts356">&nbsp;assign Reg1_F1_r &nbsp;= &nbsp;Reg1_F1_q; &nbsp; &nbsp;// Field : F1</span></p>
<p class="rvps652"><span class="rvts356">&nbsp;assign Reg1_rd_data = Reg1_rd_valid ? {Reg1_F1_q} : 8'b00000000; &nbsp;</span></p>
<p class="rvps642"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps636"><span class="rvts1365"><br/></span></p>
<p class="rvps636"><span class="rvts1365">Generated UVM Output</span></p>
<p class="rvps645"><span class="rvts356">`ifndef CLASS_uart_block `define CLASS_uart_block&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">class uart_block#(parameter offset2='h4, parameter count=2, parameter&nbsp;</span></p>
<p class="rvps642"><span class="rvts385">ENABLE=1)</span><span class="rvts356"> extends uvm_reg_block; &nbsp;&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">`uvm_object_param_utils(uart_block#(offset2,count,ENABLE))&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps653"><span class="rvts356">. &nbsp; &nbsp; &nbsp; &nbsp;.&nbsp;</span></p>
<p class="rvps653"><span class="rvts356">virtual function void build();</span></p>
<p class="rvps653"><span class="rvts356">&nbsp; &nbsp;begin&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; //REG1&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; &nbsp;Reg1 &nbsp; = &nbsp; Block1_Reg1#(r1)::type_id::create("Reg1");&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; &nbsp;Reg1.configure(this, null, "Reg1");&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp; &nbsp; &nbsp;Reg1.build(); &nbsp;</span></p>
<p class="rvps642"><span class="rvts356"><br/></span></p>
<p class="rvps654"><span class="rvts356">&nbsp; &nbsp;//define default map and add reg/regfiles</span></p>
<p class="rvps654"><span class="rvts356">&nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
<p class="rvps654"><span class="rvts356">&nbsp; &nbsp; &nbsp; default_map.add_reg( Reg1, 'h0, "RW"); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps654"><span class="rvts356">&nbsp; &nbsp;end &nbsp; &nbsp;</span></p>
<p class="rvps654"><span class="rvts356">&nbsp;lock_model(); &nbsp;</span></p>
<p class="rvps654"><span class="rvts356">endfunction&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">. &nbsp; &nbsp; &nbsp; &nbsp;. &nbsp; &nbsp; &nbsp; &nbsp;.&nbsp;</span></p>
<p class="rvps646"><span class="rvts356">&nbsp;</span></p>
<p class="rvps636"><span class="rvts1365">Generated C Header Output</span><span class="rvts15">&nbsp;</span></p>
<p class="rvps636"><span class="rvts15"><br/></span></p>
<p class="rvps642"><span class="rvts356">/* parameter macros &nbsp;*/&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">#define OFFSET2 0x4&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">#define COUNT 2&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">#define ENABLE 1&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">/*block : uart */&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">#ifndef _UART_REGS_H_&nbsp;</span></p>
<p class="rvps655"><span class="rvts356">#define _UART_REGS_H_&nbsp;</span></p>
<p class="rvps655"><span class="rvts356">#if IS_PRESENT != 0&nbsp;</span></p>
<p class="rvps655"><span class="rvts356">typedef union &nbsp;{&nbsp;</span></p>
<p class="rvps656"><span class="rvts356">&nbsp;#ifdef /* IDS_BIG_ENDIAN */&nbsp;</span></p>
<p class="rvps656"><span class="rvts356">&nbsp; struct { &nbsp;&nbsp;</span></p>
<p class="rvps656"><span class="rvts356">&nbsp; &nbsp; hwint resv16 : 16; &nbsp;</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; &nbsp; hwint Field1 : 12;&nbsp;</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; /*15:4 SW=rw HW=rw 0x1 */</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; &nbsp; &nbsp;hwint resv0 : 4; &nbsp;&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp;} bf;&nbsp;</span></p>
<p class="rvps653"><span class="rvts356">#else /* IDS_LITTLE_ENDIAN */&nbsp;</span></p>
<p class="rvps653"><span class="rvts356">&nbsp; struct { &nbsp;</span></p>
<p class="rvps653"><span class="rvts356">&nbsp; &nbsp; hwint resv0 : 4;&nbsp;</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; &nbsp; hwint Field1 : 12;&nbsp;</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; /* 4:15 SW=rw HW=rw 0x1 */</span></p>
<p class="rvps657"><span class="rvts356">&nbsp; &nbsp; hwint resv16 : 16;&nbsp;</span></p>
<p class="rvps642"><span class="rvts356">&nbsp;} bf; &nbsp;</span></p>
<p class="rvps642"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps616"><a name="Overriding"></a><span class="rvts356"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li style="text-indent: 0px" class="rvps622 noindent"><span class="rvts15">Parameters O</span><span class="rvts139">verriding</span></li>
</ul>
<p class="rvps622"><span class="rvts139"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li style="text-indent: 0px" class="rvps632 noindent"><span class="rvts139">Case1: With a constant value</span></li>
 </ul>
</ul>
<p class="rvps175"><span class="rvts35"><br/></span></p>
<p class="rvps175"><span class="rvts35">Example</span></p>
<p class="rvps175"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps175"><span class="rvts35"><br/></span></p>
<p class="rvps175"><span class="rvts1256">addrmap top {</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp;addrmap uart #(longint unsigned&nbsp;</span><span class="rvts1257">$offset2</span><span class="rvts1256">=0x4, longint unsigned&nbsp;</span><span class="rvts1257">$count</span><span class="rvts1256">=2, boolean&nbsp;</span><span class="rvts1257">$ENABLE</span><span class="rvts1256">=1){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp;&nbsp;&nbsp;reg queue_reg {</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp;&nbsp;&nbsp;&nbsp; field {</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp;&nbsp;&nbsp;&nbsp; } Field1[15:4] =&nbsp;</span><span class="rvts1257">$ENABLE</span><span class="rvts1256">;</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp;&nbsp; };</span></p>
<p class="rvps175"><span class="rvts1256">&nbsp; &nbsp;queue_reg queue_reg&nbsp;</span><span class="rvts1257">[$count] @$offset2;</span></p>
<p class="rvps175"><span class="rvts1256">};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps633"><span class="rvts1363">&nbsp;</span><span class="rvts1256">uart&nbsp;</span><span class="rvts1257">#(.($count(4))</span><span class="rvts1256">&nbsp;uart;&nbsp;&nbsp; //parameter overriding</span></p>
<p class="rvps633"><span class="rvts1363">};</span></p>
<p class="rvps633"><span class="rvts15">Generated header output:</span></p>
<p class="rvps633"><span class="rvts356">/* parameter macros &nbsp;*/</span></p>
<p class="rvps633"><span class="rvts356">#define TOP_PARAM3 3</span></p>
<p class="rvps633"><span class="rvts356">#define TOP_PARAM_OFFSET2 20</span></p>
<p class="rvps633"><span class="rvts356">#define TOP_REPEAT 5</span></p>
<p class="rvps633"><span class="rvts356">#define BLOCK_PARAM TOP_PARAM3</span></p>
<p class="rvps633"><span class="rvts356">#define BLOCK_PARAM_OFFSET1 TOP_PARAM_OFFSET2</span></p>
<p class="rvps633"><span class="rvts356">#define BLOCK_REPEAT TOP_REPEAT</span></p>
<p class="rvps633"><span class="rvts356">#define PARAM1 BLOCK_PARAM</span></p>
<p class="rvps633"><span class="rvts356">#define REGF_PARAM BLOCK_PARAM</span></p>
<p class="rvps633"><span class="rvts356">#define SEC_REPEAT BLOCK_REPEAT</span></p>
<p class="rvps633"><span class="rvts356">#define SEC_OFFSET2 BLOCK_PARAM_OFFSET1</span></p>
<p class="rvps633"><span class="rvts356">#define PARAM3 REGF_PARAM</span></p>
<p class="rvps633"><span class="rvts15">Generated UVM output:</span></p>
<p class="rvps633"><span class="rvts15"><br/></span></p>
<p class="rvps633"><span class="rvts356">//Class &nbsp; &nbsp; &nbsp; : Chip1_block</span></p>
<p class="rvps633"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps633"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps633"><span class="rvts356">class Chip1_block#(parameter Top_param3=3, parameter Top_param_offset2=20, parameter Top_repeat=5, parameter Reg1_param1=0, parameter Ref_sec_Reg2_param3=0, parameter Ref_sec_regf_param=7, parameter Ref_sec_sec_repeat=8, parameter Ref_sec_sec_offset2=42, parameter block_param=10, parameter block_param_offset1=50, parameter block_repeat=16) extends uvm_reg_block;</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; `uvm_object_param_utils(Chip1_block#(Top_param3, Top_param_offset2, Top_repeat, Reg1_param1, Ref_sec_Reg2_param3, Ref_sec_regf_param, Ref_sec_sec_repeat, Ref_sec_sec_offset2, block_param, block_param_offset1, block_repeat))</span></p>
<p class="rvps633"><span class="rvts356"><br/></span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; rand Block1_block#(.Top_param3(Top_param3), .Top_param_offset2(Top_param_offset2), .Top_repeat(Top_repeat), .Reg1_param1(block_param), .Ref_sec_Reg2_param3(Ref_sec_regf_param), .Ref_sec_regf_param(block_param), .Ref_sec_sec_repeat(block_repeat), .Ref_sec_sec_offset2(block_param_offset1), .block_param(Top_param3), .block_param_offset1(Top_param_offset2), .block_repeat(Top_repeat)) Block1;</span></p>
<p class="rvps633"><span class="rvts356"><br/></span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; // Function : build</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; virtual function void build();</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //define default map and add reg/regfiles</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; default_map= create_map("default_map", 'h0, 4, UVM_BIG_ENDIAN, 1);</span></p>
<p class="rvps633"><span class="rvts356"><br/></span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; //BLOCK1</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; Block1 = Block1_block#(.Top_param3(Top_param3), .Top_param_offset2(Top_param_offset2), .Top_repeat(Top_repeat), .Reg1_param1(block_param), .Ref_sec_Reg2_param3(Ref_sec_regf_param), .Ref_sec_regf_param(block_param), .Ref_sec_sec_repeat(block_repeat), .Ref_sec_sec_offset2(block_param_offset1), .block_param(Top_param3), .block_param_offset1(Top_param_offset2), .block_repeat(Top_repeat))::type_id::create("Block1");</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps633"><span class="rvts356">&nbsp; &nbsp; endfunction</span></p>
<p class="rvps633"><span class="rvts356">endclass</span></p>
<p class="rvps633"><span class="rvts356">`endif</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps634 noindent"><a name="Hierarchical_overriding"></a><span class="rvts0"><span class="rvts15">Case2: Hierarchical Parameter overriding (Using Variables)</span></span></li>
 </ul>
</ul>
<p class="rvps635"><span class="rvts34">In Verilog Output, IDS creates modules for block/chip/board level containers so register and reg_file level parameters in the RDL input are converted to </span><span class="rvts35">localparam </span><span class="rvts34">inside the block level module. The reason for this is there is no module associated with reg and reg_file so the parameters need to be bubbled up to the containing block.</span></p>
<p class="rvps175"><span class="rvts35">Example</span></p>
<p class="rvps175"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps175"><span class="rvts35"><br/></span></p>
<p class="rvps110"><span class="rvts370">addrmap Chip1 #(longint unsigned $Top_param = 20){</span></p>
<p class="rvps304"><span class="rvts370">addrmap Block11 #(longint unsigned $block_param = 10) {</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">reg register_1 #(longint unsigned $reg_param = 0){</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">field {</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">sw=rw;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">hw=na;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">fieldwidth=32;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">} f1 = $reg_param;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">};</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">register_1 #(.$reg_param($block_param)) Reg1;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">};</span><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">Block11 #(.$block_param($Top_param)) Block1;</span></p>
<p class="rvps110"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts99"><br/></span></p>
<p class="rvps518"><span class="rvts34">Naming convention of these localparam would be hierarchical from the block level down to the reg or reg_file in order to make them unique inside the block module .</span></p>
<p class="rvps110"><span class="rvts99"><br/></span></p>
<p class="rvps110"><span class="rvts34">For example,</span><span class="rvts35"> </span><span class="rvts34">Localparam name of param1 used on Reg1 would become Reg1_param1, following the below naming convention:</span></p>
<p class="rvps110"><span class="rvts34"><br/></span></p>
<p class="rvps110"><span class="rvts128">&lt;hierarchical register instance name&gt;_&lt;parameter name&gt;</span></p>
<p class="rvps110"><span class="rvts34"><br/></span></p>
<p class="rvps110"><span class="rvts34">&nbsp;Here, Reg1 is register instance name</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps636"><span class="rvts1365">Generated Verilog Output</span></p>
<p class="rvps110"><span class="rvts14"><br/></span></p>
<p class="rvps110"><span class="rvts370">module Chip1_IDS (</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp; Top_param = 'h14;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;....</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;....</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;Block1_IDS #(.addr_width(addr_width), .block_offset(Block1_IDS_offset),</span><span class="rvts373">.block_param(Top_param)</span><span class="rvts370">) Block1_IDSinst(</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">....</span></p>
<p class="rvps110"><span class="rvts370"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts370">....</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps110"><span class="rvts370">endmodule</span></p>
<p class="rvps110"><span class="rvts1364"><br/></span></p>
<p class="rvps110"><span class="rvts370">module Block1_IDS(</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;...</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// PARAMETERS</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp; Top_param = 'h14;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp; block_param = Top_param;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;localparam&nbsp; Reg1_reg_param = block_param;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clk)&nbsp; begin</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;if (!reset_l)</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reg1_f1_q &lt;= </span><span class="rvts373">Reg1_reg_param</span><span class="rvts370">;</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</span></p>
<p class="rvps110"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end //end always</span></p>
<p class="rvps110"><span class="rvts1364"><br/></span></p>
<p class="rvps110"><span class="rvts370">&nbsp;endmodule</span></p>
<p class="rvps110"><span class="rvts356"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps2 noindent"><span class="rvts15">Changing values of the parameter at run time&nbsp;</span></li>
</ul>
<p class="rvps614"><span class="rvts15">&nbsp;</span></p>
<p class="rvps624"><span class="rvts14">The main idea of using output parameters is to have the ability to change the parameters at run-time. How exactly that is done is specific to the different vendors.&nbsp;</span></p>
<p class="rvps614"><span class="rvts14">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li style="text-indent: 0px" class="rvps637 noindent"><span class="rvts15">Mentor Graphics&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps661"><span class="rvts14">User can change the parameter at run time by using the option –g (parameter default) and –G (parameter override) through the command line.&nbsp;</span></p>
<p class="rvps662"><span class="rvts14">&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">% vsim -c –g&lt;name&gt;=&lt;value&gt; [working library].[file name]&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Or&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">% vsim -c –G&lt;name&gt;=&lt;value&gt; [working library].[file name]&nbsp;</span></p>
<p class="rvps625"><span class="rvts14">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li style="text-indent: 0px" class="rvps637 noindent"><span class="rvts15">Synopsys&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps661"><span class="rvts14">User can change the parameter at run time by using the option&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">-pvalues+&lt;hierarchical_path_to_parameter&gt;=&lt;value&gt; through the command line.&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">*Note -path must be slash("/") saperated&nbsp;</span></p>
<p class="rvps663"><span class="rvts14">% vcs -pvalue+&lt;hierarchical_path_to_parameter&gt;=&lt;value&gt; [file name]&nbsp;</span></p>
<p class="rvps625"><span class="rvts14">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li style="text-indent: 0px" class="rvps637 noindent"><span class="rvts15">Cadence&nbsp;</span></li>
 </ul>
</ul>
<p class="rvps661"><span class="rvts14">User can change the parameter at run time by using the option&nbsp;</span></p>
<p class="rvps664"><span class="rvts14">&nbsp; &nbsp; -defparam &lt;hierarchical_path_to_parameter&gt;=&lt;value&gt; through the command line.&nbsp;</span></p>
<p class="rvps664"><span class="rvts14">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;*Note -path must be dot(".") saparated.&nbsp;</span></p>
<p class="rvps660"><span class="rvts14">% irun -defparam&lt;hierarchical_path_to_parameter&gt;=&lt;value&gt; [file name]&nbsp;</span></p>
<p class="rvps646"><span class="rvts14">&nbsp;</span></p>
<p class="rvps627"><span class="rvts1366">Note-</span></p>
<p class="rvps626"><span class="rvts26">Only the following attributes can be parameterized in output currently:&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 72px; list-style-position: outside; list-style-type: lower-alpha;">
 <li class="rvps628 noindent"><span class="rvts26">Field Default&nbsp;</span></li>
 <li class="rvps628 noindent"><span class="rvts26">Repeat/Count&nbsp;</span></li>
 <li class="rvps628 noindent"><span class="rvts26">Offset&nbsp;</span></li>
 <li class="rvps628 noindent"><span class="rvts26">hdl_path&nbsp;</span></li>
 <li class="rvps628 noindent"><span class="rvts26">field width</span></li>
</ol>
<p class="rvps238"><span class="rvts126"><br/></span></p>
<p class="rvps238"><span class="rvts126">Defines&nbsp;</span></p>
<p class="rvps238"><span class="rvts126"><br/></span></p>
<p class="rvps624"><span class="rvts14">Similarly, SystemRDL supports preprocessor directives:&nbsp;</span></p>
<p class="rvps205"><span class="rvts14">&nbsp;</span></p>
<p class="rvps3"><img alt="" style="width : 436px; height : 321px; padding : 1px;" src="lib/NewItem3429.png"><span class="rvts14">&nbsp;</span></p>
<p class="rvps166"><span class="rvts14">&nbsp;</span></p>
<p class="rvps624"><span class="rvts14">They can be used for conditional selection of components in the input SystemRDL file or they can also be reflected in the output Verilog, UVM and Cheader files. They can also be categorized in two ways:&nbsp;</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside;">
 <li class="rvps609 noindent"><span class="rvts14">Documentation Defines&nbsp;</span></li>
 <li class="rvps609 noindent"><span class="rvts14">Output Defines&nbsp;</span></li>
</ol>
<p class="rvps623"><span class="rvts14">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li style="text-indent: 0px" class="rvps627 noindent"><span class="rvts1365">Documentation Defines</span></li>
</ul>
<p class="rvps624"><span class="rvts14">They are used as macros in the input SystemRDL file, used for selective generation of various components. &nbsp;For example:&nbsp;</span></p>
<p class="rvps627"><span class="rvts1361"><br/></span></p>
<p class="rvps14"><span class="rvts35">Example</span></p>
<p class="rvps14"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps205"><span class="rvts6">&nbsp;</span></p>
<div class="rvps6">
<table width="192" cellpadding="0" style="border-width: 0px; border-spacing: 0px;">
 <tr style="vertical-align: top;">
  <td style="padding: 0px; background-color: #ffff00; vertical-align: top; width: 192px;">
   <p class="rvps161"><span class="rvts356">`ifndef TEST_COMMON_RDL_</span></p>
  </td>
 </tr>
 <tr style="vertical-align: top;">
  <td style="padding: 0px; background-color: #ffff00; vertical-align: top; width: 192px;">
   <p class="rvps161"><span class="rvts356">`define TEST_COMMON_RDL_</span></p>
  </td>
 </tr>
</table>
</div>
<p class="rvps640"><span class="rvts356">property module_name {type = string; component = addrmap;};&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp;</span></p>
<p class="rvps666"><span class="rvts356">field rw_field_t #(longint unsigned WIDTH = 1) {&nbsp;</span></p>
<p class="rvps666"><span class="rvts356">&nbsp; name = "Read/Write CSR field name"; &nbsp;</span></p>
<p class="rvps666"><span class="rvts356">&nbsp; desc = "Read/Write CSR field description";</span></p>
<p class="rvps666"><span class="rvts356">&nbsp; sw = rw;</span></p>
<p class="rvps666"><span class="rvts356">&nbsp; hw = rw;&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; fieldwidth = WIDTH;&nbsp;</span></p>
<p class="rvps640"><span class="rvts6">}</span><span class="rvts356">;&nbsp;</span></p>
<p class="rvps640"><span class="rvts385">`endif</span><span class="rvts356">&nbsp;</span></p>
<p class="rvps624"><span class="rvts14"><br/></span></p>
<p class="rvps624"><span class="rvts14">The generated output will have no trace of TEST_COMMON_RDL_ define. &nbsp;</span></p>
<p class="rvps627"><span class="rvts1361"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li style="text-indent: 0px" class="rvps627 noindent"><span class="rvts1365">Output Defines</span></li>
</ul>
<p class="rvps624"><span class="rvts14"><br/></span></p>
<p class="rvps624"><span class="rvts14">If user wants these defines to be reflected in Verilog, UVM and CHeader outputs. Such defines can be specified just like parameters in SystemRDL with ‘define’ written before the parameter name. The word ‘define’ is IDS specific to make the parameter as output define.</span></p>
<p class="rvps668"><span class="rvts35"><br/></span></p>
<p class="rvps668"><span class="rvts35">Example</span></p>
<p class="rvps14"><span class="rvts34"></span><br/><span class="rvts35">SystemRDL</span></p>
<p class="rvps14"><span class="rvts35"><br/></span></p>
<p class="rvps667"><span class="rvts356">addrmap top { &nbsp;</span></p>
<p class="rvps667"><span class="rvts356">&nbsp; reg RegType #( longint unsigned </span><span class="rvts385">define p = 1</span><span class="rvts356"> ) {&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp; field {} f;&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; };&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; RegType myReg;&nbsp;</span></p>
<p class="rvps640"><span class="rvts6">}</span><span class="rvts356">;&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp;</span></p>
<p class="rvps669"><span class="rvts1365">Generated Verilog Output</span><span class="rvts14">&nbsp;</span></p>
<p class="rvps623"><span class="rvts356">&nbsp;</span></p>
<p class="rvps640"><span class="rvts385">`define p &nbsp;1</span><span class="rvts356">&nbsp;</span></p>
<p class="rvps670"><span class="rvts356">&nbsp;module top_IDS(&nbsp;</span></p>
<p class="rvps671"><span class="rvts356">&nbsp; &nbsp; // REGISTER : MYREG PORT SIGNAL &nbsp;</span></p>
<p class="rvps671"><span class="rvts356">&nbsp; &nbsp;myReg_enb, &nbsp;</span></p>
<p class="rvps671"><span class="rvts356">&nbsp; &nbsp;myReg_f_in,&nbsp;</span></p>
<p class="rvps671"><span class="rvts356">&nbsp; &nbsp;myReg_f_in_enb,</span></p>
<p class="rvps671"><span class="rvts356">&nbsp; &nbsp;myReg_f_r,&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps623"><span class="rvts14">&nbsp;</span></p>
<p class="rvps669"><span class="rvts1365">Generated UVM Output</span></p>
<p class="rvps623"><span class="rvts356">&nbsp;</span></p>
<p class="rvps640"><span class="rvts385">`define p &nbsp;1</span><span class="rvts356">&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp;&nbsp;</span></p>
<p class="rvps672"><span class="rvts356">`ifndef CLASS_top_myReg&nbsp;</span></p>
<p class="rvps672"><span class="rvts356">`define CLASS_top_myReg&nbsp;</span></p>
<p class="rvps672"><span class="rvts356">&nbsp;class top_myReg extends uvm_reg; &nbsp; &nbsp; `uvm_object_utils(top_myReg)&nbsp;</span></p>
<p class="rvps673"><span class="rvts356">&nbsp; &nbsp; rand uvm_reg_field f;&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; // Function : new &nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp;function new(string name = "top_myReg");&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp; &nbsp;super.new(name, 32, build_coverage(UVM_NO_COVERAGE));</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp; &nbsp;add_coverage(build_coverage(UVM_NO_COVERAGE)); &nbsp; //Added because build coverage in the line above doesn’t work due to a bug in UVM 1.1 library &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp;endfunction&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;</span></p>
<p class="rvps669"><span class="rvts1365">Generated C Header Output</span><span class="rvts15">&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">#ifndef _TOP_REGS_H_&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">#define _TOP_REGS_H_&nbsp;</span></p>
<p class="rvps640"><span class="rvts385">#define &nbsp;p 1</span><span class="rvts356"> &nbsp;/* &nbsp; &nbsp;*/&nbsp;</span></p>
<p class="rvps675"><span class="rvts356">&nbsp;typedef union &nbsp;{&nbsp;</span></p>
<p class="rvps675"><span class="rvts356">&nbsp; &nbsp; struct {&nbsp;</span></p>
<p class="rvps675"><span class="rvts356">&nbsp; &nbsp; &nbsp; hwint f : 32; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* 31:0 SW=rw HW=rw 0x0 */&nbsp;</span></p>
<p class="rvps676"><span class="rvts356">&nbsp; &nbsp; } bf;&nbsp;</span></p>
<p class="rvps676"><span class="rvts356">&nbsp; &nbsp; hwint &nbsp;dw; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps640"><span class="rvts6">&nbsp; }</span><span class="rvts356"> top_myReg;&nbsp;</span></p>
<p class="rvps674"><span class="rvts356">&nbsp;typedef struct {&nbsp;</span></p>
<p class="rvps674"><span class="rvts356">&nbsp; &nbsp;top_myReg &nbsp;myReg;&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp;</span><span class="rvts6">}</span><span class="rvts356"> top_s;&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps238"><span class="rvts356">&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li style="text-indent: 0px" class="rvps631 noindent"><span class="rvts35">rdl_define</span><span class="rvts1369">&nbsp;</span></li>
</ul>
<p class="rvps684"><span class="rvts42"><br/></span></p>
<p class="rvps684"><span class="rvts42">In YAML file, rdl_define can be defined as a property in each instances, wherever needed. This property along with SystemRDL compiler directives like `ifdef, `ifndef, `else, `elsif and `endif together enables user to choose different components in different instances. If top is a System RDL file, then rdl_define can be used as a UDP to achieve the same objective. Please find the sample code below in case of YAML file as top.&nbsp;</span></p>
<p class="rvps684"><span class="rvts42"><br/></span></p>
<p class="rvps684"><span class="rvts42">Instantiation in TOP YAML:&nbsp;</span></p>
<p class="rvps166"><span class="rvts42">&nbsp;</span></p>
<p class="rvps684"><span class="rvts42">Instance 1:&nbsp;</span></p>
<p class="rvps685"><span class="rvts453">&nbsp; &nbsp; instname: test_inst0</span></p>
<p class="rvps685"><span class="rvts453">&nbsp; &nbsp; name: test_csr1_csr</span></p>
<p class="rvps685"><span class="rvts453">&nbsp; &nbsp; property: &nbsp;</span></p>
<p class="rvps685"><span class="rvts453">&nbsp; &nbsp; &nbsp;-&nbsp;</span></p>
<p class="rvps686"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;name: rdl_define</span></p>
<p class="rvps686"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;value: A&nbsp;</span></p>
<p class="rvps686"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;offset: 0x0000000&nbsp;</span></p>
<p class="rvps686"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;refpath: ../csr1/test_csr1_csr.rdl&nbsp;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps687"><span class="rvts453">&nbsp; &nbsp; type: ref&nbsp;</span></p>
<p class="rvps166"><span class="rvts1367">&nbsp;</span></p>
<p class="rvps684"><span class="rvts42">Instance 2:&nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; instname: test_inst1 &nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; name: test_csr1_csr&nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; property:&nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; - &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;name: rdl_define&nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;value: B</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;offset: 0x1000000</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; &nbsp; &nbsp;refpath: ../csr1/test_csr1_csr.rdl&nbsp;</span></p>
<p class="rvps688"><span class="rvts453">&nbsp; &nbsp; type: ref&nbsp;</span></p>
<p class="rvps166"><span class="rvts1368">&nbsp;</span></p>
<p class="rvps684"><span class="rvts42">RDL file for the module “test_csr1_csr” may have register definitions inside addrmap as shown below:&nbsp;</span></p>
<p class="rvps616"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span></p>
<p class="rvps689"><span class="rvts453">`ifdef A&nbsp;</span></p>
<p class="rvps689"><span class="rvts453">&nbsp;reg {&nbsp;</span></p>
<p class="rvps689"><span class="rvts453">&nbsp; name = "SCRATCH";&nbsp;</span></p>
<p class="rvps689"><span class="rvts453">&nbsp; desc = "SCRATCH CSR.";</span></p>
<p class="rvps689"><span class="rvts453">&nbsp; field {} SCRATCH[31:0] = 32'h00000000;&nbsp;</span></p>
<p class="rvps689"><span class="rvts1367">&nbsp;}</span><span class="rvts453"> SCRATCH;&nbsp;</span></p>
<p class="rvps690"><span class="rvts453">`else</span></p>
<p class="rvps690"><span class="rvts453">&nbsp;reg {&nbsp;</span></p>
<p class="rvps690"><span class="rvts453">&nbsp; name = "EXT_CSR1";</span></p>
<p class="rvps690"><span class="rvts453">&nbsp; desc = "PID Software Partitioning Algorithm Next Assigned Secondary Ways\n";</span></p>
<p class="rvps690"><span class="rvts453">&nbsp; field rw_field_t{};&nbsp;</span></p>
<p class="rvps690"><span class="rvts453">&nbsp; rw_field_t #(.WIDTH(32)) EXT_CSR_FIELD[31:0] = 32'h0000;&nbsp;</span></p>
<p class="rvps690"><span class="rvts1367">&nbsp; }</span><span class="rvts453"> external EXT_CSR1[64] @ 0x0000200;&nbsp;</span></p>
<p class="rvps687"><span class="rvts453">`endif&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts126">Variants&nbsp;</span></p>
<p class="rvps629"><span class="rvts126"><br/></span></p>
<p class="rvps624"><span class="rvts14">Variants are used to create multiple outputs from a single specification that contains small variations. The variations can be due to any reason, for example:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps618 noindent"><span class="rvts14">Target device (such as Xilinx, Altera)&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Different versions of the product under development&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Target audience (for example, some registers are for internal use only) &nbsp;&nbsp;</span></li>
</ul>
<p class="rvps614"><span class="rvts14">&nbsp;</span></p>
<p class="rvps624"><span class="rvts14">The variation could be one of the following:&nbsp;</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps618 noindent"><span class="rvts14">Addition/reduction in registers&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Changes in access types&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Changes to the definition of the registers (fields or description)&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Register name change&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Offset changes&nbsp;</span></li>
 <li class="rvps618 noindent"><span class="rvts14">Changes to any other register property&nbsp;</span></li>
</ul>
<p class="rvps614"><span class="rvts14">&nbsp;</span></p>
<p class="rvps624"><span class="rvts15">Example</span></p>
<p class="rvps624"><span class="rvts15"><br/></span></p>
<p class="rvps624"><span class="rvts15">SystemRDL</span></p>
<p class="rvps624"><span class="rvts14"><br/></span></p>
<p class="rvps677"><span class="rvts356">property clock_edge {type = string; component = addrmap|reg; &nbsp;}; property variant {type = string; component = addrmap|regfile|reg; &nbsp;};&nbsp;</span></p>
<p class="rvps678"><span class="rvts6">&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">addrmap chip_1 {&nbsp;</span></p>
<p class="rvps679"><span class="rvts356">&nbsp; name = "chip_1 Address Map";</span></p>
<p class="rvps679"><span class="rvts356">&nbsp; addrmap block_1 { &nbsp;</span></p>
<p class="rvps679"><span class="rvts356">&nbsp; &nbsp; name &nbsp;= "block_1 Address Map";</span></p>
<p class="rvps679"><span class="rvts356">&nbsp; &nbsp; &nbsp;reg Reg_1 { &nbsp;</span></p>
<p class="rvps680"><span class="rvts356">&nbsp; &nbsp; &nbsp; desc = "logical OR operation on variant"; &nbsp;</span></p>
<p class="rvps680"><span class="rvts356">&nbsp; &nbsp; &nbsp; </span><span class="rvts385">variant = "var1|| ( var2||var5 )";</span><span class="rvts356"> &nbsp;</span></p>
<p class="rvps680"><span class="rvts356">&nbsp; &nbsp; &nbsp; regwidth = 32;&nbsp;</span></p>
<p class="rvps680"><span class="rvts356">&nbsp; &nbsp; &nbsp; field { &nbsp;</span></p>
<p class="rvps680"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; hw = r;&nbsp;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F1[1:1] =&nbsp;</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">1'h0;</span></p>
<p class="rvps640"><span class="rvts356">&nbsp; &nbsp; };&nbsp;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; reg reg_3 {</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; desc = "variant used in the clock edge";&nbsp;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; clock_edge = "$var3 ? posedge : negedge " ;&nbsp;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; regwidth = 32; &nbsp;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; field {&nbsp;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; hw = rw;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; sw = rw;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; &nbsp; } F[31:0] = 32'h0;</span></p>
<p class="rvps681"><span class="rvts356">&nbsp; &nbsp; };&nbsp;</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; reg reg_4 {&nbsp;</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; &nbsp; variant = "var3";</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; &nbsp; regwidth = 32;</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; &nbsp; field {</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;hw = rw;</span></p>
<p class="rvps682"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp;sw = rw;&nbsp;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp; &nbsp; } H[21:15] = 7'h0;</span></p>
<p class="rvps665"><span class="rvts356">&nbsp; &nbsp;}; &nbsp;&nbsp;</span></p>
<p class="rvps683"><span class="rvts356">&nbsp; &nbsp;Reg_1 Reg_1 @0x00000;</span></p>
<p class="rvps683"><span class="rvts356">&nbsp; &nbsp;reg_3 reg_3 @0x00004;&nbsp;</span></p>
<p class="rvps683"><span class="rvts356">&nbsp; &nbsp;reg_4 reg_4 @0x00008;</span></p>
<p class="rvps683"><span class="rvts356">&nbsp;}; &nbsp;&nbsp;</span></p>
<p class="rvps683"><span class="rvts356">&nbsp;block_1 &nbsp;block_1 @0x00000;&nbsp;</span></p>
<p class="rvps640"><span class="rvts6">}</span><span class="rvts356">;&nbsp;</span></p>
<p class="rvps623"><span class="rvts356">&nbsp;</span></p>
<p class="rvps622"><span class="rvts15">Use of Variants in IDS-Batch&nbsp;</span></p>
<p class="rvps622"><span class="rvts15"><br/></span></p>
<p class="rvps624"><span class="rvts14">With IDS-Batch to assign "true" value to any "variant" inside the input file, pass variants through command line by including "-variant" option followed by comma separated list of variants-</span><span class="rvts15">IDS</span><span class="rvts14"> </span><span class="rvts15">batch &lt;input_file&gt; -out &lt;list of outputs&gt; -variant &lt;list of variants&gt;&nbsp;</span></p>
<p class="rvps630"><span class="rvts15"><br/></span></p>
<p class="rvps630"><span class="rvts15">Command Line-</span></p>
<p class="rvps630"><span class="rvts15"><br/></span></p>
<p class="rvps630"><span class="rvts15">IDSbatch filename.rdl -out "verilog uvm" -bus amba -variant "var1,var4"&nbsp;</span></p>
<p class="rvps631"><span class="rvts202">&nbsp;</span></p>
<p class="rvps631"><span class="rvts126"></span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpndoc.com/step-by-step-guides/how-to-convert-a-word-docx-file-to-an-epub-or-kindle-ebook/">Step-by-Step Guide: How to Turn Your Word Document into an eBook</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

