

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Personal Edition 9.0.0.156">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Aggregation Logic</title>
  <meta name="description" content="Complete documentation of IDesignSpec suite of products" /> 
  <meta name="keywords" content="Advanced Topics">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Aggregation Logic">
  <meta name="twitter:description" content="Complete documentation of IDesignSpec suite of products">

  <!-- Open Graph data -->
  <meta property="og:title" content="Aggregation Logic" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="Complete documentation of IDesignSpec suite of products" />
  <meta property="og:site_name" content="IDesignSpec&trade;" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>IDesignSpec&trade;</h1>
    
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="AggregationLogic"
		  data-hnd-context="346"
		  data-hnd-title="Aggregation Logic"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="AdvancedTopics.html">Advanced Topics</a></li><li><a href="AdvancedRTL.html">Advanced RTL</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="AdvancedRTL.html" title="Advanced RTL" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="FormatProperty.html" title="Format Property" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="FieldErrorSignal.html" title="Field Error Signal" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Aggregation Logic</h2>

            <div class="main-content">
                
<p class="rvps113"><a name="aggregation_logic"></a><span class="rvts1285"><br/></span></p>
<p class="rvps12"><span class="rvts14">Aggregation logic is the logic which is used to control the target, based on the input from initiator, it selects which block will operate.</span></p>
<p class="rvps12"><span class="rvts34">For </span><span class="rvts14">AMBA-AHB ,AMBA3-AHB-lite, AMBA-APB &amp; AMBA-AXI4LITE</span><span class="rvts34">, by default no wor/wands are used anymore at chip level. User can use '-rtl_wire' on command line to remove wor/wands from block level as well.</span></p>
<h2 class="rvps189"><img alt="" style="padding : 1px;" src="lib/NewItem2213.jpg"></h2>
<p class="rvps2"><span class="rvts16">Sample Output Code</span></p>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<p class="rvps2"><span class="rvts356">module IDS_chip_name_amba_aggregation( &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; hclk, &nbsp; &nbsp; &nbsp;// Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; hresetn, &nbsp; &nbsp; &nbsp;// Bus reset</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ////////////////Block1_IDS Bus Signals ////////////////</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_hclk, &nbsp; &nbsp; &nbsp;// Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_hresetn, &nbsp; &nbsp; &nbsp;// Bus reset</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">. &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; ////////////////Block2_IDS Bus Signals ////////////////</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_hclk, &nbsp; &nbsp; &nbsp;// Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_hresetn, &nbsp; &nbsp; &nbsp;// Bus reset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; .</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width &nbsp;= 4;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width &nbsp; = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input hclk ;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_hclk ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_hresetn ;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">. &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire invalid_address; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp;slave_hready;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg &nbsp;[1:0] hresp_f;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reg &nbsp;[1:0] hresp_ff;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [1:0] slave_hresp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign invalid_address = 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">/////////////Aggregation Logic////////////////</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_select =( ((haddr &gt;= 'h0) &amp;&amp; (haddr &lt;= 'h7)) &amp;&amp; (hsel == 1'b1) &amp;&amp; (hready == 1'b1) &amp;&amp; (invalid_address != 1'b1) ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_hsel = Block1_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire &nbsp;Block2_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_select =( ((haddr &gt;= 'h8) &amp;&amp; (haddr &lt;= 'hF)) &amp;&amp; (hsel == 1'b1) &amp;&amp; (hready == 1'b1) &amp;&amp; (invalid_address != 1'b1) ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_hsel = Block2_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign hrdata = Block1_IDS_hrdata | Block2_IDS_hrdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign slave_hready = Block1_IDS_hready &amp; Block2_IDS_hready;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign hready = ( slave_hready &amp; (hresp_f == 2'b00)) ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign slave_hresp = Block1_IDS_hresp | Block2_IDS_hresp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign hresp = ( hresp_f | hresp_ff ) | slave_hresp ;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; /////////////SIMPLE ASSIGN////////////////</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_hclk = hclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_hresetn = hresetn;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_hclk = hclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_hresetn = hresetn;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">endmodule</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts16">Retimed Aggregation Logic for AMBA3AHBLITE</span></p>
<p class="rvps2"><span class="rvts162"><br/></span></p>
<p class="rvps12"><span class="rvts36">Aggregation logic&nbsp;is the logic which is used to control the target and aggregate the signals going back to the initiator. Based on the input from initiator, it selects which block will operate. To provide better ability to meet the timing budget for the aggregation logic, we have flopped the output ports going into the target blocks. This has a side effect of introducing additional latency in all transactions from the initiator.</span></p>
<p class="rvps12"><span class="rvts36">In order to maintain backward compatibility and give users an option to choose whether this new functionality is useful, we will provide with a property {aggregation_logic=flopped} that can be applied at the top level (chip level). Just like other properties, this property can be applied from the command line of IDS-Batch using </span><span class="rvts55">-top_property</span><span class="rvts36"> option.</span></p>
<p class="rvps12"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts16">Limitation</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">Supported only for AMBA-AHB ,AMBA3-AHB-lite, AMBA-APB &amp; AMBA-AXI4LITE.</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><a name="apb"></a><span class="rvts16">APB Aggregation Logic</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">Aggregation logic is the logic which is used to control the target, based upon the input from the initiator. It selects the block which will operate.</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><img alt="" style="width : 269px; height : 550px; padding : 1px;" src="lib/NewItem3002.png"></p>
<p class="rvps2"><span class="rvts15">Generated Code:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3005.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><a name="axi"></a><span class="rvts198">AXI Aggregation Logic</span></p>
<p class="rvps2"><span class="rvts198"><br/></span></p>
<p class="rvps2"><img alt="" style="width : 312px; height : 338px; padding : 1px;" src="lib/NewItem3006.png"></p>
<p class="rvps2"><img alt="" style="width : 306px; height : 305px; padding : 1px;" src="lib/NewItem3007.png"></p>
<p class="rvps2"><span class="rvts198"><br/></span></p>
<p class="rvps2"><span class="rvts15">Generated Code:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3008.png"></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><a name="AXI4FULL Aggregation Logic"></a><span class="rvts16">AXI4FULL Aggregation Logic:</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">In this, we connect AXI4FULL widget with individual custom widgets which is present in different blocks.&nbsp;</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem3058.png"></p>
<p class="rvps2"><span class="rvts14">To maintain the backward compatibility and give users an option to choose the enhanced AXI4FULL aggregation logic with a property, {aggregation_logic=axitocustom} that will be applied at the top level (chip level).</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts198">T</span><a name="TileLink"></a><span class="rvts198">ileLink Aggregation Logic:</span></p>
<p class="rvps2"><span class="rvts14"><br/></span></p>
<p class="rvps2"><span class="rvts14">Aggregation logic file is generated for Tilelink aggregation logic for any chip level testcase:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">Sample Output:</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">module IDS_Chip1_tilelink_aggregation(</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //TILELINK signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; clock,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; reset,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_valid,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_ready,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_opcode,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_param,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_size,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_source,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_corrupt,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; a_address</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;// Block1 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //TILELINK signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_clock,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_reset,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_a_valid,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_a_ready,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_a_opcode,</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">// Block2 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //TILELINK signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_clock,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_reset,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_a_valid,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_a_ready,</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">// AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire Block1_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_select = ((a_address &gt;= Block1_IDS_offset) &amp;&amp; (a_address &lt;= Block1_IDS_offset + 'h3)) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire [Block2_count-1 : 0]Block2_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_select[0] = ((a_address &gt;= Block2_IDS_offset + 'h0) &amp;&amp; (a_address &lt;= Block2_IDS_offset + 'h3)) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_select[1] = ((a_address &gt;= Block2_IDS_offset + 'h4) &amp;&amp; (a_address &lt;= Block2_IDS_offset + 'h7)) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">// Block1 ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_clock = clock;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_reset = reset;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_a_valid = a_valid;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_a_opcode = a_opcode;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_a_param = a_param;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts356">.</span><span class="rvts356"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps2"><span class="rvts356">.</span><span class="rvts463"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts463">.</span></p>
<p class="rvps2"><span class="rvts323"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts16">Flopped aggre</span><a name="aggregation"></a><span class="rvts16">gation logic for APB bus</span></p>
<p class="rvps2"><span class="rvts16"><br/></span></p>
<p class="rvps2"><span class="rvts14">Aggregation</span><span class="rvts36">&nbsp;logic is the logic which is used to control the target, based on the input from initiator, it selects which block will operate.IDS does generate combinational logic by default in aggregation file.</span></p>
<p class="rvps2"><span class="rvts36">A property </span><span class="rvts346">‘</span><span class="rvts348">aggregation_logic=flopped_all</span><span class="rvts1282">’</span><span class="rvts6"> </span><span class="rvts36">is introduced to get flopped aggregation logic.</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><span class="rvts31">IDSExcel input:</span></p>
<p class="rvps2"><span class="rvts36"><br/></span></p>
<p class="rvps2"><img alt="" style="width : 917px; height : 386px; padding : 1px;" src="lib/NewItem4496.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">SystemRDL input:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts356">property</span><span class="rvts385"> aggregation_logic</span><span class="rvts356"> {type = string; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts356">property chip {type = boolean; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts356">addrmap Top {</span></p>
<p class="rvps2"><span class="rvts356">chip=true;</span></p>
<p class="rvps2"><span class="rvts385">aggregation_logic="flopped_all";</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;addrmap {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; reg {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;hw=rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;sw=rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;} f1[31:0]=0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; } reg1; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;}Block1;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">&nbsp;addrmap {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; reg {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;hw=rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;sw=rw;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;} f1[31:0]=0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; } reg1 ;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp;}Block2;</span></p>
<p class="rvps2"><span class="rvts356"><br/></span></p>
<p class="rvps2"><span class="rvts356">};</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">Verilog Output :</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts356">module IDS_Top_apb_aggregation(</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pclk, &nbsp; // Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; presetn, &nbsp; // Reset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; psel, &nbsp; // Select &nbsp; &nbsp;: It indicates that the target device is selected and a data transfer is required</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; penable, &nbsp; // Enable &nbsp; &nbsp;: This signal indicates the second and subsequent cycles of an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pwrite, &nbsp; // Direction : This signal indicates an APB write access when HIGH and an APB read access when LOW</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pprot, &nbsp; // Protection type : This signal indicates the normal, privileged, or secure protection level of the transaction</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pstrb, &nbsp; // Write strobes : This signal indicates which byte lanes to update during a write transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pwdata, &nbsp; // Write data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; paddr, &nbsp; // Address bus</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pready, &nbsp; // Ready &nbsp; &nbsp; : The target uses this signal to extend an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; prdata, &nbsp; // Read data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; pslverr,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block1 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pclk, &nbsp; // Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_presetn, &nbsp; // Reset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_psel, &nbsp; // Select &nbsp; &nbsp;: It indicates that the target device is selected and a data transfer is required</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_penable, &nbsp; // Enable &nbsp; &nbsp;: This signal indicates the second and subsequent cycles of an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pwrite, &nbsp; // Direction : This signal indicates an APB write access when HIGH and an APB read access when LOW</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pprot, &nbsp; // Protection type : This signal indicates the normal, privileged, or secure protection level of the transaction</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pstrb, &nbsp; // Write strobes : This signal indicates which byte lanes to update during a write transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pwdata, &nbsp; // Write data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_paddr, &nbsp; // Address bus</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pready, &nbsp; // Ready &nbsp; &nbsp; : The target uses this signal to extend an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_prdata, &nbsp; // Read data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block1_IDS_pslverr,</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block2 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pclk, &nbsp; // Bus clock</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_presetn, &nbsp; // Reset</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_psel, &nbsp; // Select &nbsp; &nbsp;: It indicates that the target device is selected and a data transfer is required</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_penable, &nbsp; // Enable &nbsp; &nbsp;: This signal indicates the second and subsequent cycles of an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pwrite, &nbsp; // Direction : This signal indicates an APB write access when HIGH and an APB read access when LOW</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pprot, &nbsp; // Protection type : This signal indicates the normal, privileged, or secure protection level of the transaction</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pstrb, &nbsp; // Write strobes : This signal indicates which byte lanes to update during a write transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pwdata, &nbsp; // Write data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_paddr, &nbsp; // Address bus</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pready, &nbsp; // Ready &nbsp; &nbsp; : The target uses this signal to extend an APB transfer</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_prdata, &nbsp; // Read data</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; Block2_IDS_pslverr</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; );</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // PARAMETERS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter bus_width = 32;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter addr_width = 3;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter Block1_addr_width =2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; parameter Block2_addr_width =2;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; //APB signals</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input pclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input presetn;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input psel;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input penable;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input pwrite;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [2 : 0] pprot;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width/8-1 : 0] pstrb;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width-1 : 0] pwdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [addr_width-1 : 0] paddr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output pready;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width-1 : 0] prdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output pslverr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block1 SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_pclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_presetn;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_psel;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_penable;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block1_IDS_pwrite;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [2 : 0]Block1_IDS_pprot;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width/8-1 : 0] Block1_IDS_pstrb;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width-1 : 0] Block1_IDS_pwdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [Block1_addr_width-1 : 0] Block1_IDS_paddr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Block1_IDS_pready;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width-1 : 0] Block1_IDS_prdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Block1_IDS_pslverr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">reg Block1_IDS_presetn_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block1_IDS_penable_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block1_IDS_pwrite_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [2 : 0] Block1_IDS_pprot_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width/8-1 : 0] Block1_IDS_pstrb_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width-1 : 0] Block1_IDS_pwdata_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [Block1_addr_width-1 : 0] Block1_IDS_paddr_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block1_IDS_pready_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width-1 : 0] Block1_IDS_prdata_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block1_IDS_pslverr_reg;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block2 SIGNALS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block2_IDS_pclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block2_IDS_presetn;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block2_IDS_psel;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block2_IDS_penable;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output Block2_IDS_pwrite;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [2 : 0]Block2_IDS_pprot;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width/8-1 : 0] Block2_IDS_pstrb;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [bus_width-1 : 0] Block2_IDS_pwdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; output [Block2_addr_width-1 : 0] Block2_IDS_paddr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Block2_IDS_pready;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input [bus_width-1 : 0] Block2_IDS_prdata;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; input Block2_IDS_pslverr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">reg Block2_IDS_presetn_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block2_IDS_penable_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block2_IDS_pwrite_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [2 : 0] Block2_IDS_pprot_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width/8-1 : 0] Block2_IDS_pstrb_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width-1 : 0] Block2_IDS_pwdata_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [Block2_addr_width-1 : 0] Block2_IDS_paddr_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block2_IDS_pready_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg [bus_width-1 : 0] Block2_IDS_prdata_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; reg Block2_IDS_pslverr_reg;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire invalid_address;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign invalid_address = 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire Block1_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_select = ( ((paddr &gt;= &nbsp;'h0) &amp;&amp; (paddr &lt;= &nbsp;'h3) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1) ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_psel = Block1_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; wire Block2_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_select = ( ((paddr &gt;= &nbsp;'h4) &amp;&amp; (paddr &lt;= &nbsp;'h7) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1) ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_psel = Block2_IDS_select;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; </span><span class="rvts385">assign prdata = Block1_IDS_prdata_reg | Block2_IDS_prdata_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; assign pready = Block1_IDS_pready_reg &amp; Block2_IDS_pready_reg;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; assign pslverr = invalid_address | Block1_IDS_pslverr_reg | Block2_IDS_pslverr_reg;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block1 ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_pclk = pclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_presetn = </span><span class="rvts385">Block1_IDS_presetn_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_penable = </span><span class="rvts385">Block1_IDS_penable_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_pwrite =</span><span class="rvts385">Block1_IDS_pwrite_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_pprot =&nbsp;</span><span class="rvts385"> Block1_IDS_pprot_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_pstrb =</span><span class="rvts385">Block1_IDS_pstrb_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_pwdata =</span><span class="rvts385">Block1_IDS_pwdata_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block1_IDS_paddr =&nbsp;</span><span class="rvts385"> Block1_IDS_paddr_reg</span><span class="rvts356">[Block1_addr_width-1 : 0];</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; // Block2 ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_pclk = pclk;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_presetn = </span><span class="rvts385">Block2_IDS_presetn_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_penable = </span><span class="rvts385">Block2_IDS_penable_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_pwrite =</span><span class="rvts385">Block2_IDS_pwrite_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_pprot =</span><span class="rvts385">Block2_IDS_pprot_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_pstrb =&nbsp;</span><span class="rvts385"> Block2_IDS_pstrb_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_pwdata =</span><span class="rvts385">Block2_IDS_pwdata_reg</span><span class="rvts356">;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; assign Block2_IDS_paddr =</span><span class="rvts385"> Block2_IDS_paddr_reg</span><span class="rvts356">[Block2_addr_width-1 : 0];</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge pclk)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if(!presetn)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">Block1_IDS_presetn_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_penable_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pwrite_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pprot_reg &lt;= 3'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pstrb_reg &lt;= 4'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pwdata_reg &lt;= 32'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_paddr_reg &lt;= 2'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pready_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_prdata_reg &lt;= 32'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pslverr_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">Block1_IDS_presetn_reg &lt;= presetn;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_penable_reg &lt;= penable;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pwrite_reg &lt;= pwrite;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pprot_reg &lt;= pprot;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pstrb_reg &lt;= pstrb;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pwdata_reg &lt;= pwdata;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_paddr_reg &lt;= paddr[Block1_addr_width - 1 : 0];</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pready_reg &lt;= Block1_IDS_pready;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_prdata_reg &lt;= Block1_IDS_prdata;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block1_IDS_pslverr_reg &lt;= Block1_IDS_pslverr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // always clk</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; always @(posedge pclk)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; if(!presetn)</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">Block2_IDS_presetn_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_penable_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pwrite_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pprot_reg &lt;= 3'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pstrb_reg &lt;= 4'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pwdata_reg &lt;= 32'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_paddr_reg &lt;= 2'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pready_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_prdata_reg &lt;= 32'b0;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pslverr_reg &lt;= 1'b0;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; else</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; begin</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="rvts385">Block2_IDS_presetn_reg &lt;= presetn;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_penable_reg &lt;= penable;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pwrite_reg &lt;= pwrite;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pprot_reg &lt;= pprot;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pstrb_reg &lt;= pstrb;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pwdata_reg &lt;= pwdata;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_paddr_reg &lt;= paddr[Block2_addr_width - 1 : 0];</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pready_reg &lt;= Block2_IDS_pready;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_prdata_reg &lt;= Block2_IDS_prdata;</span></p>
<p class="rvps2"><span class="rvts385">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Block2_IDS_pslverr_reg &lt;= Block2_IDS_pslverr;</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end</span></p>
<p class="rvps2"><span class="rvts356">&nbsp; &nbsp; end // always clk</span></p>
<p class="rvps2"><span class="rvts356">endmodule</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts15">Note:</span><span class="rvts6"> </span><span class="rvts14">Currently, flopped aggregation is supported for AMBA-APB only.</span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><a name="Third_party"></a><span class="rvts214">Third party RTL with IDS-generated aggregator</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts34">Currently, IDS generated assignments to </span><span class="rvts35">prdata</span><span class="rvts34">,</span><span class="rvts35">pready</span><span class="rvts34"> and </span><span class="rvts35">pslverr </span><span class="rvts34">do not contain the&nbsp; muxing of active target selection logic (i.e. &lt;block_name&gt;_psel) and g</span><span class="rvts37">enerated aggregation logic has *</span><span class="rvts76">pready </span><span class="rvts37">as ANDed logic w.r.t </span><span class="rvts76">pready </span><span class="rvts37">signal of the IDS generated blocks where it is assumed to be always ready to be accessed.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts37">In this the aggregation logic must have a real selection of the active target. Since, the APB standard does not constrain the signals (</span><span class="rvts35">prdata</span><span class="rvts34">,</span><span class="rvts35">pready</span><span class="rvts34"> and </span><span class="rvts35">pslverr)</span><span class="rvts37"> output of the target outside their selection. So </span><span class="rvts34">we have introduced the new value to existing property i.e. </span><span class="rvts346">aggregation_logic=third_party </span><span class="rvts36">which will be used on chip element to get aggregator which contains the </span><span class="rvts37">the signals (</span><span class="rvts35">prdata</span><span class="rvts34">,</span><span class="rvts35">pready</span><span class="rvts34"> and </span><span class="rvts35">pslverr)</span><span class="rvts37">&nbsp; assignment with the active target selection logic.</span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts393">Example</span><span class="rvts35">: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/aggregation_logic/aggregation_logic.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/aggregation_logic/aggregation_logic.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/aggregation_logic/aggregation_logic.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/aggregation_logic/aggregation_logic.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts21"><br/></span></p>
<p class="rvps2"><span class="rvts77">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts77"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 577px; height : 375px; padding : 1px;" src="lib/NewItem4971.png"></p>
<p class="rvps2"><span class="rvts77"><br/></span></p>
<p class="rvps2"><span class="rvts77">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 738px; height : 209px; padding : 1px;" src="lib/NewItem4972.png"></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts77">System RDL Input:</span></p>
<p class="rvps2"><span class="rvts77"><br/></span></p>
<p class="rvps2"><span class="rvts817">property aggregation_logic {type = string; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts817">property chip {type = boolean; component = addrmap; };</span></p>
<p class="rvps2"><span class="rvts817"><br/></span></p>
<p class="rvps2"><span class="rvts817">addrmap Top {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp;chip=true;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp;aggregation_logic="flopped_all";</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp;addrmap {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; reg {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw=rw;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw=rw;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} f1[31:0]=0;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; } reg1; &nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp;}Block1;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp;addrmap {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; reg {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;field {</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hw=rw;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sw=rw;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} f1[31:0]=0;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp; &nbsp; } reg1 ;</span></p>
<p class="rvps2"><span class="rvts817">&nbsp; &nbsp; &nbsp;}Block2;</span></p>
<p class="rvps2"><span class="rvts817">};</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts77">Generated Verilog Output:&nbsp;</span></p>
<p class="rvps2"><span class="rvts1286"><br/></span></p>
<p class="rvps14"><span class="rvts1287">// Changes in the Generated aggregation logic</span></p>
<p class="rvps14"><span class="rvts29">&nbsp;</span></p>
<p class="rvps14"><span class="rvts29">&nbsp;</span></p>
<p class="rvps149"><span class="rvts431">assign prdata </span><span class="rvts1284">=</span><span class="rvts431"> ({32{Block1_ids_psel}} &amp; Block1_ids_prdata) | ({32{Block2_ids_psel}} &amp;</span></p>
<p class="rvps149"><span class="rvts431">&nbsp;Block2_ids_prdata);</span></p>
<p class="rvps149"><span class="rvts431">assign pready</span><span class="rvts1284"> = </span><span class="rvts431">(Block1_ids_psel &amp; Block1_ids_pready)&nbsp; | (Block2_ids_psel &amp;</span></p>
<p class="rvps149"><span class="rvts431">&nbsp;Block2_ids_pready);</span></p>
<p class="rvps149"><span class="rvts1284">&nbsp;</span><span class="rvts431">assign pslverr</span><span class="rvts1284"> = </span><span class="rvts431">invalid_address | (Block1_ids_psel &amp; Block1_ids_pslverr) | (Block2_ids_psel&nbsp;</span></p>
<p class="rvps149"><span class="rvts431">&amp; Block2_ids_pslverr);</span></p>
<p class="rvps2"><span class="rvts387"></span><br/><span class="rvts29"></span><br/><a name="rtl_offset"></a><span class="rvts126">Support of 3rd party RTL Offset with IDS-generated aggregator</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts34">IDS generated blocks have parameterized offsets which are used in decoding its actual registers. The offsets are overridden on the instance of the block in the chip module and the generated aggregation logic selects the blocks based on the address from the initiator.&nbsp;</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps12"><span class="rvts34">We have introduced a new property for such a block with value as ‘third_party’ i.e. </span><span class="rvts346">aggr_block_offset=third_party </span><span class="rvts36">which can be used on the block element which is a 3rd party reference block to get an aggregator</span><span class="rvts37">. Whenever aggregation logic selects such a block , it will reduce its offset from paddr before aggregating it to the block.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL input:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps149"><span class="rvts373">property aggr_block_offset {type = string; component = addrmap;};</span></p>
<p class="rvps149"><span class="rvts370">property chip {type=boolean; component=addrmap;};</span></p>
<p class="rvps149"><span class="rvts370">property refpath {type=string;component=addrmap;};</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">addrmap chip1 {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;name = "chip1 Address Map";</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;chip=true;&nbsp;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp; = "block1 Address Map";</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;addrmap block2 {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp; = "block2 Address Map";</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;addrmap MY_XML{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;refpath = "exp.xml:MY_XML_ADDR_BLOCK";</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;addrmap block_3rdParty {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp; </span><span class="rvts373">aggr_block_offset ="third_party";</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp; MY_XML MY_XML@0x0000_0000;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp; };</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;block1&nbsp; block1 @0x0000;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;block2&nbsp; block2 @0x1000;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;</span><span class="rvts373">&nbsp;block_3rdParty block_3rdParty @0x2000;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp; </span><span class="rvts225">&nbsp;&nbsp;</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDS-NG Input:</span></p>
<p class="rvps12"><span class="rvts225"><br/></span></p>
<p class="rvps212"><img alt="" style="padding : 1px;" src="lib/1_chip1.png" usemap="#6797873CC814459ABE895FF2D98C6696"><map name="6797873CC814459ABE895FF2D98C6696"></map></p>
<p class="rvps212"><img alt="" style="padding : 1px;" src="lib/NewItem4672.png" usemap="#6203ADA43223490EAF8281F72310D12A"><map name="6203ADA43223490EAF8281F72310D12A"></map></p>
<p class="rvps212"><span class="rvts606"><br/></span></p>
<p class="rvps12"><span class="rvts35">IDS-Excel Input:</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">&nbsp;</span><img alt="" style="width : 1325px; height : 250px;" src="lib/NewItem4671.png"><br/><span class="rvts29"> &nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p class="rvps12"><span class="rvts35">Generated Verilog Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps2"><span class="rvts370">// block_3rdParty ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_pclk = pclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_presetn = presetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_penable = penable;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_pwrite = pwrite;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_pprot = pprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_pstrb = pstrb;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block_3rdParty_ids_pwdata = pwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;</span><span class="rvts373">&nbsp;&nbsp;assign block_3rdParty_ids_paddr = paddr[Block3_addr_width-1 : 0] - ‘h2000;</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370"><br/></span></p>
<p class="rvps12"><a name="Generated_VHDL_80"></a><span class="rvts35">Generated VHDL Output:</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps22"><span class="rvts370">………………………………..</span></p>
<p class="rvps22"><span class="rvts370">………………………………..</span></p>
<p class="rvps22"><span class="rvts370">………………………………..</span></p>
<p class="rvps22"><span class="rvts370">………………………………..</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_paddr&nbsp; &nbsp; &nbsp; &nbsp; &lt;= paddr(block1_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Port Assignments : block2</span></p>
<p class="rvps22"><span class="rvts370">……………………………</span></p>
<p class="rvps22"><span class="rvts370">……………………………</span></p>
<p class="rvps22"><span class="rvts370">……………………………</span></p>
<p class="rvps22"><span class="rvts370">……………………………</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_paddr&nbsp; &nbsp; &nbsp; &nbsp; &lt;= paddr(block2_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Port Assignments : instance</span></p>
<p class="rvps22"><span class="rvts370">…………………….</span></p>
<p class="rvps22"><span class="rvts370">…………………….</span></p>
<p class="rvps22"><span class="rvts370">…………………….</span></p>
<p class="rvps22"><span class="rvts370">…………………….</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">block3_ids</span><span class="rvts370">_pwdata &nbsp; &nbsp; &lt;= pwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;block3_ids_paddr&nbsp; &nbsp; &nbsp; &lt;= paddr(block3_addr_width -1 downto 0) - "1010";</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps12"><span class="rvts35">Note</span><span class="rvts34">: This</span><span class="rvts128"> </span><span class="rvts34">is supported only for the APB bus.</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps2"><a name="protection"></a><span class="rvts126">Support of Protection Property in aggregation logic for block</span></p>
<p class="rvps12"><span class="rvts34"><br/></span></p>
<p class="rvps12"><span class="rvts34">To support complex system designs, it is often necessary for both the interconnect and other devices in the system to provide protection against illegal transactions. For the APB interface, this protection is provided by the PPROT[2:0] signals.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps12"><span class="rvts34">The primary use of PPROT is as an identifier for Secure or Non-secure transactions. It is acceptable to use different interpretations of the PPROT[0] and PPROT[2] identifiers.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps12"><span class="rvts34">We are introducing a new property i.e.</span><span class="rvts36"> block_prot=priv(or valid combination of possible values i.e. priv,unpriv,secure,nonsecure etc.) which can be used on the block element which protects the selection of a block in an aggregator file</span><span class="rvts37">. The valid values or combination of possible values of this property are:</span></p>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 40px; list-style-position: outside;">
 <li class="rvps12 noindent"><span class="rvts128">priv</span></li>
 <li class="rvps12 noindent"><span class="rvts128">unpriv</span></li>
 <li class="rvps12 noindent"><span class="rvts128">secure</span></li>
 <li class="rvps12 noindent"><span class="rvts128">nonsecure</span></li>
 <li class="rvps12 noindent"><span class="rvts128">priv,secure</span></li>
 <li class="rvps12 noindent"><span class="rvts128">priv,nonsecure</span></li>
 <li class="rvps12 noindent"><span class="rvts128">unpriv,secure</span></li>
 <li class="rvps12 noindent"><span class="rvts128">unpriv,nonsecure</span></li>
</ol>
<p class="rvps22"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts392">Example:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot/block_prot.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot/block_prot.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot/block_prot.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot/block_prot.rdl">SystemRDL</a></p>
<p class="rvps11"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 754px; height : 481px; padding : 1px;" src="lib/NewItem4883.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 719px; height : 213px; padding : 1px;" src="lib/NewItem4884.png"></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps28"><span class="rvts499">System RDL Input:</span></p>
<p class="rvps28"><span class="rvts1283"><br/></span></p>
<p class="rvps149"><span class="rvts370">property</span><span class="rvts373"> block_prot </span><span class="rvts370">{type = string; component = addrmap;};</span></p>
<p class="rvps2"><span class="rvts387">&nbsp; &nbsp; &nbsp; property </span><span class="rvts388">chip</span><span class="rvts387"> {type = boolean; component = addrmap;};</span></p>
<p class="rvps149"><span class="rvts370">addrmap chip1 {</span></p>
<p class="rvps149"><span class="rvts373">chip = true</span><span class="rvts370">;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">block_prot=”priv”;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;addrmap block2 {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts373">block_prot=”secure”;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;block1 block1 @0x0000;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;block2 block2 @0x0004;&nbsp;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps12"><span class="rvts126">Output Code:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts435">wire block1_pprot;</span></p>
<p class="rvps12"><span class="rvts435">assign block1_pprot = pprot[0] ;</span></p>
<p class="rvps12"><span class="rvts415">wire block1_ids_select;</span></p>
<p class="rvps12"><span class="rvts415">assign block1_ids_select = ( ((paddr &gt;=&nbsp; 'h0) &amp;&amp; (paddr &lt;=&nbsp; 'h3) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1)</span><span class="rvts435"> &amp;&amp; ( block1_pprot != 1'b1) </span><span class="rvts415">) ? 1'b1 : 1'b0;</span></p>
<p class="rvps12"><span class="rvts415">assign block1_ids_psel = block1_ids_select;</span></p>
<p class="rvps12"><span class="rvts435">wire block2_pprot;</span></p>
<p class="rvps12"><span class="rvts435">assign block2_pprot = ~pprot[1] ;</span></p>
<p class="rvps12"><span class="rvts415">wire block2_ids_select;</span></p>
<p class="rvps12"><span class="rvts415">assign block2_ids_select = ( ((paddr &gt;=&nbsp; 'h4) &amp;&amp; (paddr &lt;=&nbsp; 'h7) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1)</span><span class="rvts435"> &amp;&amp; ( block2_pprot != 1'b1)</span><span class="rvts415"> ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps12"><span class="rvts415">&nbsp;assign block2_ids_psel = block2_ids_select;</span></p>
<p class="rvps12"><span class="rvts415"><br/></span></p>
<p class="rvps12"><a name="VHDL_block_prot"></a><span class="rvts418">VHDL Implementation</span></p>
<p class="rvps12"><span class="rvts418"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL Input</span><span class="rvts34">:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">property block_prot {type = string; component = addrmap;};</span></p>
<p class="rvps2"><span class="rvts370">property chip {type = boolean; component = addrmap;};</span></p>
<p class="rvps2"><span class="rvts370">addrmap chip1 {</span></p>
<p class="rvps2"><span class="rvts370">chip = true;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;block_prot="priv";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;addrmap block2 {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;block_prot="secure";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg reg1 {&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onread=r;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwrite=w;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0000;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;block1 block1 @0x0000;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;block2 block2 @0x0004;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp; </span><span class="rvts74">&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">VHDL Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">…………………………</span></p>
<p class="rvps2"><span class="rvts370">…………………………</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_ids_pslverr &nbsp; : std_logic;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- Signal Declarations</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal invalid_address&nbsp; &nbsp; &nbsp; :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block1_ids_select&nbsp; &nbsp; :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_ids_select&nbsp; &nbsp; :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span><span class="rvts373">&nbsp;signal block1_pprot :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_pprot :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">…………………………</span></p>
<p class="rvps2"><span class="rvts370">…………………………</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;block1_pprot&nbsp; &nbsp; &lt;= pprot(0);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_select &nbsp; &nbsp; &nbsp; &lt;= '1' when (&nbsp; (to_integer(unsigned(PADDR)) &gt;= (C_chip1_offset + "00") and to_integer(unsigned(PADDR)) &lt;= (C_chip1_offset + "110")) and psel = '1' and invalid_address /= '1' and block1_pprot = '1'&nbsp; ) else '0';</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_pprot&nbsp; &nbsp; &lt;= not pprot(1);</span></p>
<p class="rvps2"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_select &nbsp; &nbsp; &nbsp; &lt;= '1' when (&nbsp; (to_integer(unsigned(PADDR)) &gt;= (C_chip1_offset + "1000") and to_integer(unsigned(PADDR)) &lt;= (C_chip1_offset + "1110")) and psel = '1' and invalid_address /= '1' and block2_pprot = '1'&nbsp; ) else '0';</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts430">…………………………..</span></p>
<p class="rvps2"><span class="rvts430">…………………………..</span></p>
<p class="rvps2"><span class="rvts430">…………………………..</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts415"><br/></span></p>
<p class="rvps28"><a name="protection_aggr"></a><span class="rvts1147">Support of Protection Property in aggregation logic for read and write data protection</span></p>
<p class="rvps28"><span class="rvts670"><br/></span></p>
<p class="rvps12"><span class="rvts34">A new property has been introduced, i.e., block_prot_rd/block_prot_wr=true/false </span><span class="rvts36">which can be applied on the container block which would protect the selection of the block in an aggregator file based on the read and write protection w.r.t the property value</span><span class="rvts37">.</span></p>
<p class="rvps2"><span class="rvts60"><br/></span></p>
<p class="rvps12"><span class="rvts128">Note: No separate error will be generated at block level based on the property value for&nbsp;read/write protection of the block. Currently, this work will be supported only for APB Bus</span><span class="rvts34">.</span></p>
<p class="rvps2"><span class="rvts60"></span><br/><span class="rvts392">Example</span><span class="rvts15">:</span><span class="rvts15"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot_wr_rd/block_prot_.idsng.zip">IDS-NG</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot_wr_rd/block_prot_.docx">IDS-Word</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot_wr_rd/block_prot_wr.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; &nbsp; &nbsp; &nbsp;</span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/block_prot_wr_rd/block_prot_.rdl">SystemRDL</a></p>
<p class="rvps11"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 732px; height : 437px; padding : 1px;" src="lib/NewItem4886.png"></p>
<p class="rvps3"><span class="rvts15"><br/></span></p>
<p class="rvps2"><span class="rvts15">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts15"><br/></span></p>
<p class="rvps3"><img alt="" style="width : 675px; height : 215px; padding : 1px;" src="lib/NewItem4887.png"></p>
<p class="rvps2"><span class="rvts71"><br/></span></p>
<p class="rvps28"><span class="rvts143">SystemRDL:</span></p>
<p class="rvps28"><span class="rvts1219"><br/></span></p>
<p class="rvps149"><span class="rvts817">property chip {type = boolean; component = addrmap;};</span></p>
<p class="rvps149"><span class="rvts399">property block_prot_rd {type = boolean; component = addrmap;};</span></p>
<p class="rvps149"><span class="rvts399">property block_prot_wr {type = boolean; component = addrmap;};</span></p>
<p class="rvps149"><span class="rvts817">addrmap chip1 {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;chip=true;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps149"><span class="rvts399">block_prot_rd=true;</span></p>
<p class="rvps149"><span class="rvts817">reg reg1 {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;addrmap block2 {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts399">block_prot_wr=true;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;reg reg2 {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f2[31:0] = 32'h0;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;reg2 reg2 @0x0;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;};</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;block1&nbsp; block1 @0x0;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;block2&nbsp; block2 @0x4;</span></p>
<p class="rvps149"><span class="rvts817">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps12"><span class="rvts126">Output Code:</span></p>
<p class="rvps2"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps12"><span class="rvts370">// AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts387"></span><br/><span class="rvts387"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;wire invalid_address;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign invalid_address = 1'b0;</span></p>
<p class="rvps2"><span class="rvts387"></span><br/><span class="rvts387"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;wire block1_ids_select;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block1_ids_select = ( ((paddr &gt;=&nbsp; 'h0) &amp;&amp; (paddr &lt;=&nbsp; 'h3) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1) &amp;&amp;</span><span class="rvts373"> (pwrite != 0)</span><span class="rvts370"> ) ? 1'b1 : 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block1_ids_psel = block1_ids_select;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;wire block2_ids_select;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block2_ids_select = ( ((paddr &gt;=&nbsp; 'h4) &amp;&amp; (paddr &lt;=&nbsp; 'h7) ) &amp;&amp; (psel == 1'b1) &amp;&amp; (invalid_address != 1'b1) &amp;&amp;</span><span class="rvts373"> (pwrite != 1) </span><span class="rvts370">) ? 1'b1 : 1'b0;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign block2_ids_psel = block2_ids_select;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign prdata = block1_ids_prdata | block2_ids_prdata;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign pready = block1_ids_pready &amp; block2_ids_pready;</span></p>
<p class="rvps12"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;assign pslverr = invalid_address | block1_ids_pslverr | block2_ids_pslverr;</span></p>
<p class="rvps2"><span class="rvts387"><br/></span></p>
<p class="rvps2"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370">..</span></p>
<p class="rvps12"><span class="rvts370"><br/></span></p>
<p class="rvps12"><span class="rvts126">V</span><a name="VHDL_block_prot_wr_rd"></a><span class="rvts126">HDL Implementation</span></p>
<p class="rvps12"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">System RDL input:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps511"><span class="rvts877">property chip {type = boolean; component = addrmap;};</span></p>
<p class="rvps511"><span class="rvts399">property </span><span class="rvts431">block_prot_rd</span><span class="rvts399"> {type = boolean; component = addrmap;};</span></p>
<p class="rvps511"><span class="rvts399">property block_prot_wr {type = boolean; component = addrmap;};</span></p>
<p class="rvps511"><span class="rvts877">addrmap chip1 {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;chip=true;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;addrmap block1 {</span></p>
<p class="rvps511"><span class="rvts431">block_prot_rd</span><span class="rvts399">=true;</span></p>
<p class="rvps511"><span class="rvts877">reg reg1 {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0] = 32'h0;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;reg1 reg1 @0x0;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;};</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;addrmap block2 {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="rvts399">block_prot_wr=true;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;reg reg2 {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth = 32;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw = rw;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw = rw;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f2[31:0] = 32'h0;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;};</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;reg2 reg2 @0x0;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;};</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;block1&nbsp; block1 @0x0;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;block2&nbsp; block2 @0x4;</span></p>
<p class="rvps511"><span class="rvts877">&nbsp;&nbsp;&nbsp;&nbsp;};</span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">VHDL Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">.</span></p>
<p class="rvps2"><span class="rvts370">ext_in =&gt; ext_in.block2,</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext_out =&gt; ext_out.block2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_address &lt;=&nbsp; '0' ;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_select &nbsp; &nbsp; &nbsp; &lt;= '1' when ( ( to_integer ( unsigned ( paddr ) ) &gt;= C_chip1_offset + 0 ) and ( to_integer(unsigned ( paddr ) ) &lt;= C_chip1_offset + 3 ) and psel = '1' and invalid_address /= '1' </span><span class="rvts373">&nbsp;and pwrite</span><span class="rvts370"> /='0') else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_select &nbsp; &nbsp; &nbsp; &lt;= '1' when ( ( to_integer ( unsigned ( paddr ) ) &gt;= C_chip1_offset + 4 ) and ( to_integer(unsigned ( paddr ) ) &lt;= C_chip1_offset + 7 ) and psel = '1' and invalid_address /= '1'&nbsp; </span><span class="rvts373">and pwrite</span><span class="rvts370"> /='1') else '0';</span></p>
<p class="rvps2"><span class="rvts74">.</span></p>
<p class="rvps2"><span class="rvts74">.</span></p>
<p class="rvps2"><span class="rvts74">.</span></p>
<p class="rvps2"><span class="rvts74">.</span></p>
<p class="rvps2"><span class="rvts74"><br/></span></p>
<p class="rvps2"><span class="rvts35">Ag</span><a name="VHDL_Aggregation"></a><span class="rvts35">gregation logic for AMBA buses:</span><br/><span class="rvts35"></span><br/><span class="rvts35">1. APB bus</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">LIBRARY IEEE;</span></p>
<p class="rvps2"><span class="rvts370">USE IEEE.STD_LOGIC_1164.ALL;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.std_logic_unsigned.all;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.numeric_std.all;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.std_logic_textio.all;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">-- AGGREGATOR CHIP ENTITY : ids_chip1_APB_aggregation</span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">entity ids_chip1_APB_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;generic (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bus_width : integer := 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_width : integer := 3;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_addr_width : integer := 2;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_addr_width : integer := 2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;port (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : APB&nbsp; (CHIP1) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pclk : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;presetn : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;psel : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;penable : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pwrite : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pprot : in std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstrb : in std_logic_vector(bus_width/8-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pwdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paddr : in std_logic_vector(addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pslverr : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : APB&nbsp; (BLOCK1) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_presetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_psel : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_penable : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pwrite : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pprot : out std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pstrb : out std_logic_vector(bus_width/8-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pwdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_paddr : out std_logic_vector(block1_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_prdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pslverr : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : APB&nbsp; (BLOCK2) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_presetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_psel : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_penable : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pwrite : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pprot : out std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pstrb : out std_logic_vector(bus_width/8-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pwdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_paddr : out std_logic_vector(block2_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_prdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pslverr : in std_logic</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">end ids_chip1_APB_aggregation;</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">-- ARCHITECTURE : ids_chip1_APB_aggregation ARCHITECTURE</span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">architecture Behavioral of ids_chip1_APB_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- SIGNALS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal invalid_address :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block1_ids_select : boolean;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_ids_select : boolean;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_address &lt;= '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_select &lt;= (paddr &gt;= 0 and paddr &lt;= 11) and psel = '1' and invalid_address /= '1';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_select &lt;= (paddr &gt;= 100 and paddr &lt;= 111) and psel = '1' and invalid_address /= '1';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_psel &lt;= '1' when block1_ids_select else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_psel &lt;= '1' when block2_ids_select else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prdata &lt;= block1_ids_prdata or block2_ids_prdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pready &lt;= '1' when (block1_ids_pready = '1' and block2_ids_pready = '1') else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pslverr &lt;= invalid_address or block1_ids_pslverr or block2_ids_pslverr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- PORT ASSIGNMENTS : block1</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pclk &lt;= pclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_presetn &lt;= presetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_psel &lt;= psel;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_penable &lt;= penable;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pwrite &lt;= pwrite;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pprot &lt;= pprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pstrb &lt;= pstrb;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_pwdata &lt;= pwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_paddr &lt;= paddr(block1_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- PORT ASSIGNMENTS : block2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pclk &lt;= pclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_presetn &lt;= presetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_psel &lt;= psel;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_penable &lt;= penable;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pwrite &lt;= pwrite;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pprot &lt;= pprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pstrb &lt;= pstrb;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_pwdata &lt;= pwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_paddr &lt;= paddr(block2_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end Behavioral;</span></p>
<p class="rvps2"><span class="rvts370">-- end_arch</span><br/><span class="rvts107"></span><br/><span class="rvts35">2. AHB bus</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">library IEEE;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.STD_LOGIC_1164.ALL;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.STD_LOGIC_ARITH.ALL;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.STD_LOGIC_UNSIGNED.ALL;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">entity ids_chip1_amba_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;generic (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bus_width : integer := 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_width : integer := 3;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_addr_width : integer := 2;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_addr_width : integer := 2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;port (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- AMBA signals</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hclk : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresetn : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hwrite : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;haddr : in std_logic_vector(addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hwdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hrdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp : out std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;htrans : in std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hsize : in std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprot : in std_logic_vector(3 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hsel : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hburst : in std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- block1 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hresetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hwrite : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_haddr : out std_logic_vector(block1_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hwdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hrdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hresp : in std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_htrans : out std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hsize : out std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hprot : out std_logic_vector(3 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hsel : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hburst : out std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- block2 BUS SIGNALS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hresetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hwrite : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_haddr : out std_logic_vector(block2_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hwdata : out std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hrdata : in std_logic_vector(bus_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hresp : in std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_htrans : out std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hsize : out std_logic_vector(2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hprot : out std_logic_vector(3 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hsel : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hburst : out std_logic_vector(2 downto 0)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">end ids_chip1_amba_aggregation;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">architecture Behavioral of ids_chip1_amba_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal slave_hready : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal hresp_f : std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal hresp_ff : std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal slave_hresp : std_logic_vector(1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal invalid_address : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal hready_sig : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block1_ids_select : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_ids_select : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;invalid_address &lt;= '0';</span></p>
<p class="rvps2"><span class="rvts370">hready_sig &lt;= '1' when (slave_hready = '1' and hresp_f = "00") else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;hready &lt;= hready_sig;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_select &lt;= '1' when ((haddr &gt;= "000" and haddr &lt;= "011") and (hsel = '1') and (hready_sig = '1') and (invalid_address /= '1')) else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hsel &lt;= block1_ids_select;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_select &lt;= '1' when ((haddr &gt;= "100" and haddr &lt;= "111") and (hsel = '1') and (hready_sig = '1') and (invalid_address /= '1')) else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hsel &lt;= block2_ids_select;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;slave_hready &lt;= block1_ids_hready and block2_ids_hready;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;slave_hresp &lt;= block1_ids_hresp or block2_ids_hresp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;hrdata &lt;= block1_ids_hrdata or block2_ids_hrdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;hresp &lt;= (hresp_f or hresp_ff) or slave_hresp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;process (hclk)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; if rising_edge(hclk) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if hresetn = '0' then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp_f &lt;= "00";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp_ff &lt;= "00";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if slave_hresp = "00" then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp_f &lt;= (others =&gt; '0');</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp_f &lt;= "0" &amp; invalid_address;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp; &nbsp; &nbsp; hresp_ff &lt;= hresp_f;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp_ff &lt;= hresp_f;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;end process;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- block1 ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hclk &lt;= hclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hresetn &lt;= hresetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hwrite &lt;= hwrite;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_haddr &lt;= haddr(block1_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hwdata &lt;= hwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_htrans &lt;= htrans;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hsize &lt;= hsize;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hprot &lt;= hprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_hburst &lt;= hburst;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- block2 ASSIGN STATEMENTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hclk &lt;= hclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hresetn &lt;= hresetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hwrite &lt;= hwrite;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_haddr &lt;= haddr(block2_addr_width-1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hwdata &lt;= hwdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_htrans &lt;= htrans;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hsize &lt;= hsize;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hprot &lt;= hprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_hburst &lt;= hburst;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">end Behavioral;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">3. AXI bus</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">LIBRARY IEEE;</span></p>
<p class="rvps2"><span class="rvts370">USE IEEE.STD_LOGIC_1164.ALL;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.std_logic_unsigned.all;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.numeric_std.all;</span></p>
<p class="rvps2"><span class="rvts370">use IEEE.std_logic_textio.all;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">-- AGGREGATOR CHIP ENTITY : ids_chip1_AXI_aggregation</span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">entity ids_chip1_AXI_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;generic&nbsp; (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bus_width : integer := 32;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr_width : integer := 3;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_addr_width : integer := 2;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_addr_width : integer := 2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;port (</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : AXI&nbsp; (CHIP1) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aclk : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aresetn : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awaddr : in std_logic_vector (addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awprot : in std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wdata : in std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wstrb : in std_logic_vector (bus_width/8 -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp : out std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;araddr : in std_logic_vector (addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arprot : in std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rdata : out std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp : out std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : AXI&nbsp; (BLOCK1) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_aclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_aresetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awaddr : out std_logic_vector (block1_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awprot : out std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wdata : out std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wstrb : out std_logic_vector (bus_width/8 -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_bresp : in std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_bready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_bvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_araddr : out std_logic_vector (block1_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_arvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_arready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_arprot : out std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_rdata : in std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_rvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_rready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_rresp : in std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : AXI&nbsp; (BLOCK2) PORTS</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_aclk : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_aresetn : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awaddr : out std_logic_vector (block2_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awprot : out std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wdata : out std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wstrb : out std_logic_vector (bus_width/8 -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_bresp : in std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_bready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_bvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_araddr : out std_logic_vector (block2_addr_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_arvalid : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_arready : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_arprot : out std_logic_vector (2 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_rdata : in std_logic_vector (bus_width -1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_rvalid : in std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_rready : out std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_rresp : in std_logic_vector (1 downto 0)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">end ids_chip1_AXI_aggregation;</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">-- ARCHITECTURE : ids_chip1_AXI_aggregation ARCHITECTURE</span></p>
<p class="rvps2"><span class="rvts370">--------------------------------------------------</span></p>
<p class="rvps2"><span class="rvts370">architecture Behavioral of ids_chip1_AXI_aggregation is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- Signal Declarations</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block1_select_rd :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block1_select_wr :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_select_rd :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal block2_select_wr :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal invalid_address_rd :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal invalid_address_wr :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal rd_error :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal wr_error :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal awvalid_ff :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal wvalid_ff :&nbsp; std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal wready_sig :&nbsp; std_logic; &nbsp; &nbsp; -- internal signals for output ports so that they can be read</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal awready_sig :&nbsp; std_logic; &nbsp; &nbsp; -- internal signals for output ports so that they can be read</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal arready_sig :&nbsp; std_logic; &nbsp; &nbsp; -- internal signals for output ports so that they can be read</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal bvalid_sig :&nbsp; std_logic; &nbsp; &nbsp; -- internal signals for output ports so that they can be read</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal rresp_ff :&nbsp; std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal bresp_ff :&nbsp; std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal slave_bresp :&nbsp; std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;signal slave_rresp :&nbsp; std_logic_vector (1 downto 0);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- and_reduce function</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;function and_reduce (arg : std_logic_vector )</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return std_logic is</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable Upper, Lower : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable Half : integer;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable BUS_int : std_logic_vector ( arg'length - 1 downto 0 );</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable Result : std_logic;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (arg'LENGTH&nbsp; &lt;&nbsp; 1) then&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- In the case of a NULL range</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := '1';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUS_int := to_ux01 (arg);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( BUS_int'length = 1 ) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif ( BUS_int'length = 2 ) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := BUS_int ( BUS_int'right ) and BUS_int ( BUS_int'left );</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Half := ( BUS_int'length + 1 ) / 2 + BUS_int'right;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Upper := and_reduce ( BUS_int ( BUS_int'left downto Half ));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lower := and_reduce ( BUS_int ( Half - 1 downto BUS_int'right ));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result := Upper and Lower;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return Result;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- End function and_reduce</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Signal Assignment Statements</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_select_rd &lt;= '1' when (araddr &gt;= "0" and araddr &lt;= "11") else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_select_wr &lt;= '1' when (awaddr &gt;= "0" and awaddr &lt;= "11") else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_select_rd &lt;= '1' when (araddr &gt;= "100" and araddr &lt;= "111") else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_select_wr &lt;= '1' when (awaddr &gt;= "100" and awaddr &lt;= "111") else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_address_rd &lt;= not(block1_select_rd or block2_select_rd);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_address_wr &lt;= not(block1_select_wr or block2_select_wr);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slave_bresp &lt;= block1_ids_bresp or block2_ids_bresp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slave_rresp &lt;= block1_ids_rresp or block2_ids_rresp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rdata &lt;= block1_ids_rdata or block2_ids_rdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rvalid &lt;= and_reduce(rresp_ff) or block1_ids_rvalid or block2_ids_rvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wready_sig &lt;= bready when (and_reduce(bresp_ff) = '1' and wvalid_ff = '1') else (block1_ids_wready and block2_ids_wready);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wready &lt;= wready_sig;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awready_sig &lt;= (wvalid_ff and bready) when (and_reduce(bresp_ff) = '1') else (block1_ids_awready and block2_ids_awready);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awready &lt;= awready_sig;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arready_sig &lt;= rready when (and_reduce(rresp_ff) = '1') else (block1_ids_arready and block2_ids_arready);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arready &lt;= arready_sig;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bvalid_sig &lt;= (and_reduce(bresp_ff) and (wvalid_ff and awvalid_ff)) or block1_ids_bvalid or block2_ids_bvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bvalid &lt;= bvalid_sig;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp &lt;= (bresp_ff and ((wvalid_ff and awvalid_ff) &amp; (wvalid_ff and awvalid_ff))) or slave_bresp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp &lt;= rresp_ff or slave_rresp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_error &lt;= invalid_address_wr when (awvalid= '1' and awready_sig = '1') else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rd_error &lt;= invalid_address_wr when (arvalid= '1' and arready_sig = '1') else '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Sequential Logic</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process(aclk)</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp; rising_edge (aclk) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if aresetn = '0' then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp_ff &lt;= "00";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp_ff &lt;= "00";</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awvalid_ff &lt;= '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wvalid_ff &lt;= '0';</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (awvalid_ff = '1' and (awvalid = '0' or awready_sig = '0')) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awvalid_ff &lt;= ( not(bvalid_sig and bready) );</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awvalid_ff &lt;= (awvalid and awready_sig);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (wvalid_ff = '1' and (wvalid = '0' or wready_sig = '0')) then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wvalid_ff &lt;= ( not(bvalid_sig and bready) );</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wvalid_ff &lt;= (wvalid and wready_sig);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (rresp_ff = "11" and rd_error = '0') then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp_ff &lt;= (not(arready_sig) &amp; not(arready_sig));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp_ff &lt;= (rd_error &amp; rd_error);</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (awvalid_ff = '1' and and_reduce(bresp_ff)= '1' and wr_error = '0' and wvalid_ff = '1') then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp_ff &lt;= (not(bready) &amp; not(bready));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (awvalid_ff = '1' and and_reduce(bresp_ff) = '1') then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp_ff &lt;= bresp_ff;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elsif (bresp_ff = "11" and wr_error = '0') then</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp_ff &lt;= (not(bready) &amp; not(bready));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp_ff &lt;= ((wr_error and ((awvalid and awready_sig) or awvalid_ff)) &amp; (wr_error and ((awvalid and awready_sig) or awvalid_ff)));</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;&nbsp; -- reset</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;&nbsp; -- clock edge</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end process ;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Port Assignments : block1</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_aclk &lt;= aclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_aresetn &lt;= aresetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awaddr &lt;= awaddr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awvalid &lt;= awvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_awprot &lt;= awprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wdata &lt;= wdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wvalid &lt;= wvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_wstrb &lt;= wstrb;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_bready &lt;= bready;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_araddr &lt;= araddr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_arvalid &lt;= arvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_arprot &lt;= arprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block1_ids_rready &lt;= rready;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- Port Assignments : block2</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_aclk &lt;= aclk;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_aresetn &lt;= aresetn;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awaddr &lt;= awaddr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awvalid &lt;= awvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_awprot &lt;= awprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wdata &lt;= wdata;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wvalid &lt;= wvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_wstrb &lt;= wstrb;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_bready &lt;= bready;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_araddr &lt;= araddr;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_arvalid &lt;= arvalid;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_arprot &lt;= arprot;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2_ids_rready &lt;= rready;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end Behavioral;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;-- end_arch</span></p>
<p class="rvps2"><span class="rvts370"><br/></span></p>
<p class="rvps2"><a name="Aggregation_80"></a><span class="rvts35">Aggregation logic for AMBA buses(With repeat on block2)</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL Input:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps149"><span class="rvts370">property chip {type = boolean ; component = addrmap ; };</span></p>
<p class="rvps149"><span class="rvts370">addrmap chip1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;chip=true;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;addrmap block1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg b1_reg1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth=32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field b1_r1_f1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw=rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw=rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}b1_r1_f1[31:0]=0;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; b1_reg1 b1_reg1;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};block1 block1;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;addrmap block2{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg b2_reg1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regwidth=32;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field b2_r1_f1{</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw=rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw=rw;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}b2_r1_f1[31:0]=0;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; b2_reg1 b2_reg1;</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}; block2 block2[2];</span></p>
<p class="rvps149"><span class="rvts370">&nbsp;&nbsp;};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Generated VHDL Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts1288">For APB BUS:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts370">…………………………</span></p>
<p class="rvps247"><span class="rvts370">…………………………</span></p>
<p class="rvps247"><span class="rvts370">…………………………</span></p>
<p class="rvps247"><span class="rvts370">…………………………</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">&nbsp;generate_block2_inst : for block2_i in (chip1_block2_count - 1) downto 0 generate</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2&nbsp; &nbsp; &nbsp; : entity work.block2_e</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_APB_BUS_WIDTH =&gt; G_APB_BUS_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_APB_ADDR_WIDTH&nbsp; &nbsp; &nbsp; &nbsp; =&gt; G_APB_ADDR_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_block2_offset =&gt; G_chip_block2_offset + block2_i * 4</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : APB</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pclk&nbsp; &nbsp; =&gt; pclk,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;presetn =&gt; presetn,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;psel&nbsp; &nbsp; =&gt; block2_ids_select(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;penable =&gt; penable,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pwrite&nbsp; =&gt; pwrite,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pprot &nbsp; =&gt; pprot,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstrb &nbsp; =&gt; pstrb,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pwdata&nbsp; =&gt; pwdata,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paddr &nbsp; =&gt; paddr,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pready&nbsp; =&gt; block2_ids_pready(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prdata&nbsp; =&gt; block2_ids_prdata(G_APB_BUS_WIDTH * (block2_i + 1) -1 downto (G_APB_BUS_WIDTH * block2_i)),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pslverr =&gt; block2_ids_pslverr(block2_i),</span></p>
<p class="rvps247"><span class="rvts430">………………………………………..</span></p>
<p class="rvps247"><span class="rvts430">………………………………………..</span></p>
<p class="rvps247"><span class="rvts430">………………………………………..</span></p>
<p class="rvps2"><span class="rvts1288">For AXI BUS:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts370">………………………</span></p>
<p class="rvps247"><span class="rvts370">………………………</span></p>
<p class="rvps247"><span class="rvts370">………………………</span></p>
<p class="rvps247"><span class="rvts370">………………………</span></p>
<p class="rvps247"><span class="rvts373">generate_block2_inst : for block2_i in (chip1_block2_count - 1) downto 0 generate</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2&nbsp; &nbsp; &nbsp; : entity work.block2_e</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_AXI_BUS_WIDTH =&gt; G_AXI_BUS_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_AXI_ADDR_WIDTH&nbsp; &nbsp; &nbsp; &nbsp; =&gt; G_AXI_ADDR_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_block2_offset =&gt; G_chip_block2_offset + block2_i * 4</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : AXI</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aclk&nbsp; &nbsp; =&gt; aclk,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aresetn =&gt; aresetn,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awaddr&nbsp; =&gt; awaddr,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awvalid =&gt; block2_ids_awvalid(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awready =&gt; block2_ids_awready(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;awprot&nbsp; =&gt; awprot,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wdata &nbsp; =&gt; wdata,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wvalid&nbsp; =&gt; block2_ids_wvalid(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wready&nbsp; =&gt; block2_ids_wready(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wstrb &nbsp; =&gt; wstrb,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bresp &nbsp; =&gt; block2_ids_bresp(2 * (block2_i + 1) -1 downto (2 * block2_i)),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bready&nbsp; =&gt; bready,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bvalid&nbsp; =&gt; block2_ids_bvalid(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;araddr&nbsp; =&gt; araddr,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arvalid =&gt; block2_ids_arvalid(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arready =&gt; block2_ids_arready(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arprot&nbsp; =&gt; arprot,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rdata &nbsp; =&gt; block2_ids_rdata(G_AXI_BUS_WIDTH * (block2_i + 1) -1 downto (G_AXI_BUS_WIDTH * block2_i)),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rvalid&nbsp; =&gt; block2_ids_rvalid(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rready&nbsp; =&gt; rready,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rresp &nbsp; =&gt; block2_ids_rresp(2 * (block2_i + 1) -1 downto (2 * block2_i)),</span></p>
<p class="rvps247"><span class="rvts370">……………………………………..</span></p>
<p class="rvps247"><span class="rvts370">……………………………………..</span></p>
<p class="rvps247"><span class="rvts370">……………………………………..</span></p>
<p class="rvps247"><span class="rvts370">……………………………………..</span></p>
<p class="rvps2"><span class="rvts29"></span><br/><span class="rvts1288">For AMBA-AHB:</span></p>
<p class="rvps247"><span class="rvts1288">…………………………………..</span></p>
<p class="rvps247"><span class="rvts1288">……………………………………..</span></p>
<p class="rvps247"><span class="rvts1288">……………………………………..</span></p>
<p class="rvps247"><span class="rvts1288">………………………………………..</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">generate_block2_inst : for block2_i in (chip1_block2_count - 1) downto 0 generate</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;block2&nbsp; &nbsp; &nbsp; : entity work.block2_e</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generic map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_AMBA_BUS_WIDTH&nbsp; &nbsp; &nbsp; &nbsp; =&gt; G_AMBA_BUS_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_AMBA_ADDR_WIDTH &nbsp; &nbsp; &nbsp; =&gt; G_AMBA_ADDR_WIDTH,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G_block2_offset =&gt; G_chip_block2_offset + block2_i * 4</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port map (</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- BUS : AMBA</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hclk&nbsp; &nbsp; =&gt; hclk,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresetn =&gt; hresetn,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hwrite&nbsp; =&gt; hwrite,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;haddr &nbsp; =&gt; haddr,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hwdata&nbsp; =&gt; hwdata,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hrdata&nbsp; =&gt; block2_ids_hrdata(G_AMBA_BUS_WIDTH * (block2_i + 1) -1 downto (G_AMBA_BUS_WIDTH * block2_i)),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hready&nbsp; =&gt; block2_ids_hready(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;htrans&nbsp; =&gt; htrans,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hsize &nbsp; =&gt; hsize,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hresp &nbsp; =&gt; block2_ids_hresp(2 * (block2_i + 1) -1 downto (2 * block2_i)),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprot &nbsp; =&gt; hprot,</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hsel&nbsp; &nbsp; =&gt; block2_ids_select(block2_i),</span></p>
<p class="rvps247"><span class="rvts373">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hburst&nbsp; =&gt; hburst,</span></p>
<p class="rvps247"><span class="rvts430">……………………………………………………..</span></p>
<p class="rvps247"><span class="rvts430">……………………………………………………..</span></p>
<p class="rvps247"><span class="rvts430">……………………………………………………..</span></p>
<p class="rvps247"><span class="rvts430">……………………………………………………..</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><a name="agr_verilog_80"></a><span class="rvts126">Support for Aggregation logic only for top module</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps248"><span class="rvts36">Aggregation logic is the logic which is used to control the target, based on the input from the initiator, it selects which block/slave will operate. </span><span class="rvts38">By default, IDS generates aggregation logic for a top addrmap (chip) along with its child module. We have provided a UDP to generate only the aggregation logic and not the child module.</span></p>
<p class="rvps8"><span class="rvts35">Example: </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/vertial_reuse/vertial_reuse.zip">IDS-NG</a><span class="rvts21">&nbsp; &nbsp; </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/vertial_reuse/vertial_reuse.docx">IDS-Word</a><span class="rvts21"> &nbsp; </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/vertial_reuse/vertial_reuse.xlsx">IDS-Excel</a><span class="rvts21"> &nbsp; </span><a class="rvts302" href="https://www.portal.agnisys.com/release/idsdocs/examples/properties/vertial_reuse/vertial_reuse.rdl">SystemRDL</a></p>
<p class="rvps2"><span class="rvts35">IDS-NG Register View:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps212"><img alt="" style="padding : 1px;" src="lib/NewItem5461.png"></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps2"><span class="rvts35">IDS-NG Spreadsheet View:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps533"><img alt="" style="padding : 1px;" src="lib/NewItem5460.png"></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">SystemRDL Input:</span></p>
<p class="rvps2"><span class="rvts35"><br/></span></p>
<p class="rvps248"><span class="rvts370">property vertical_reuse {type = string; component = addrmap; };</span><br/><span class="rvts370">property chip {type = boolean; component = addrmap; };</span></p>
<p class="rvps22"><span class="rvts370">addrmap TOP_CHIP{</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;chip=true;</span></p>
<p class="rvps22"><span class="rvts373">vertical_reuse="verilog:all";</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addrmap {</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg {</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field {</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hw=rw;</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sw=rw;</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} f1[31:0]=0;</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} reg1;</span></p>
<p class="rvps22"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}Block1;</span></p>
<p class="rvps22"><span class="rvts370">};</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts31">Command Line:</span><span class="rvts36">&nbsp;</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts1116">idsbatch test.rdl -out verilog -bus apb -if -dir output</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts35">Generated RTL Output:</span></p>
<p class="rvps2"><span class="rvts29"><br/></span></p>
<p class="rvps2"><span class="rvts34">With the property “</span><span class="rvts373">vertical_reuse</span><span class="rvts34">” the IDS will generate only the aggregation logic file of the top module, it will ignore the generation of&nbsp;child block modules file along with their aggregation logic.</span><br/><span class="rvts34">For the above case, IDS will generate the following files -</span></p>
<p class="rvps2"><span class="rvts34"></span><br/><span class="rvts34">1. ids_TOPCHIP_apb_aggregation.v</span></p>
<h2 class="rvps534"><img alt="" style="width : 269px; height : 20px;" src="lib/NewItem5440.png"></h2>
<p class="rvps2"><span class="rvts370">module ids_TOPCHIP_apb_aggregation(</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;//APB signals</span></p>
<p class="rvps2"><span class="rvts370">//////////////////////////////////////////////////////////&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;// AGGREGATION LOGIC</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">&nbsp;&nbsp;&nbsp;&nbsp;</span></p>
<p class="rvps2"><span class="rvts370">////////////////////////////////////////////</span></p>
<p class="rvps2"><span class="rvts370">endmodule</span><span class="rvts6"></span></p>
<p class="rvps5" style="clear: both;"><span class="rvts12">Created with the Personal Edition of HelpNDoc: </span><a class="rvts13" href="https://www.helpndoc.com/feature-tour/produce-html-websites/">Elevate your documentation to new heights with HelpNDoc's built-in SEO</a></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">&copy; 2007 - 2023 Agnisys&reg; Inc. All Rights Reserved.                                         https://www.agnisys.com/submit-feedback/                 </div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

